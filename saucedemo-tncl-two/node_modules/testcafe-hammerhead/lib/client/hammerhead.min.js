!function initHammerheadClient(){!function(e){"use strict";var t,r,n,i,o,a={".js":[],".json":[],".css":[],".html":[]},s="function"==typeof require?require:null;return i=function(e){var t=new Error("Could not find module '"+e+"'");return t.code="MODULE_NOT_FOUND",t},o=function(e,t,r){var n,i;if("function"==typeof e[t+r])return t+r;for(n=0;i=a[r][n];++n)if("function"==typeof e[t+i])return t+i;return null},t=function(e,n,a,s,l,u){var c,d,p,f,h,m;for(a=a.split(/[\\/]/),c=a.pop(),"."!==c&&".."!==c||(a.push(c),c="");null!=(d=a.shift());)if(d&&"."!==d&&(".."===d?(e=n.pop(),u=u.slice(0,u.lastIndexOf("/"))):(n.push(e),e=e[d],u+="/"+d),!e))throw i(s);if(c&&"function"!=typeof e[c]&&(m=o(e,c,".js"),m||(m=o(e,c,".json")),m||(m=o(e,c,".css")),m||(m=o(e,c,".html")),m?c=m:2!==l&&"object"==typeof e[c]&&(n.push(e),e=e[c],u+="/"+c,c="")),!c)return 1!==l&&e[":mainpath:"]?t(e,n,e[":mainpath:"],s,1,u):t(e,n,"index",s,2,u);if(h=e[c],!h)throw i(s);return h.hasOwnProperty("module")?h.module.exports:(p={},h.module=f={exports:p,id:u+"/"+c},h.call(p,p,f,r(e,n,u)),f.exports)},n=function(r,n,o,a){var l,u=o,c=o.charAt(0),d=0;if("/"===c){if(u=u.slice(1),r=e["/"],!r){if(s)return s(o);throw i(o)}a="/",n=[]}else if("."!==c){if(l=0===u.indexOf("@")?u.split("/",2).join("/"):u.split("/",1)[0],r=e[l],!r){if(s)return s(o);throw i(o)}a=l,n=[],u=u.slice(l.length+1),u||(u=r[":mainpath:"],u?d=1:(u="index",d=2))}return t(r,n,u,o,d,a)},(r=function(e,t,r){var i=function(i){return n(e,[].concat(t),i,r)};return s&&(i.fromParentEnvironment=s),i})(e,[],"")}({"acorn-hammerhead":{":mainpath:":"lib/index.js",lib:{"expression.js":function(e,t,r){var n=r("./tokentype"),i=r("./state"),o=r("./parseutil"),a=r("./whitespace"),s=r("./scopeflags"),l=i.Parser.prototype;l.checkPropClash=function(e,t,r){if(!(this.options.ecmaVersion>=9&&"SpreadElement"===e.type||this.options.ecmaVersion>=6&&(e.computed||e.method||e.shorthand))){var n,i=e.key;switch(i.type){case"Identifier":n=i.name;break;case"Literal":n=String(i.value);break;default:return}var o=e.kind;if(this.options.ecmaVersion>=6)return void("__proto__"===n&&"init"===o&&(t.proto&&(r&&r.doubleProto<0?r.doubleProto=i.start:this.raiseRecoverable(i.start,"Redefinition of __proto__ property")),t.proto=!0));n="$"+n;var a=t[n];if(a){var s;s="init"===o?this.strict&&a.init||a.get||a.set:a.init||a[o],s&&this.raiseRecoverable(i.start,"Redefinition of property")}else a=t[n]={init:!1,get:!1,set:!1};a[o]=!0}},l.parseExpression=function(e,t){var r=this.start,i=this.startLoc,o=this.parseMaybeAssign(e,t);if(this.type===n.types.comma){var a=this.startNodeAt(r,i);for(a.expressions=[o];this.eat(n.types.comma);)a.expressions.push(this.parseMaybeAssign(e,t));return this.finishNode(a,"SequenceExpression")}return o},l.parseMaybeAssign=function(e,t,r){if(this.isContextual("yield")){if(this.inGenerator)return this.parseYield(e);this.exprAllowed=!1}var i=!1,a=-1,s=-1,l=-1;t?(a=t.parenthesizedAssign,s=t.trailingComma,l=t.shorthandAssign,t.parenthesizedAssign=t.trailingComma=t.shorthandAssign=-1):(t=new o.DestructuringErrors,i=!0);var u=this.start,c=this.startLoc;this.type!==n.types.parenL&&this.type!==n.types.name||(this.potentialArrowAt=this.start);var d=this.parseMaybeConditional(e,t);if(r&&(d=r.call(this,d,u,c)),this.type.isAssign){var p=this.startNodeAt(u,c);return p.operator=this.value,p.left=this.type===n.types.eq?this.toAssignable(d,!1,t):d,i||o.DestructuringErrors.call(t),t.shorthandAssign=-1,this.checkLVal(d),this.next(),p.right=this.parseMaybeAssign(e),this.finishNode(p,"AssignmentExpression")}return i&&this.checkExpressionErrors(t,!0),a>-1&&(t.parenthesizedAssign=a),s>-1&&(t.trailingComma=s),l>-1&&(t.shorthandAssign=l),d},l.parseMaybeConditional=function(e,t){var r=this.start,i=this.startLoc,o=this.parseExprOps(e,t);if(this.checkExpressionErrors(t))return o;if(this.eat(n.types.question)){var a=this.startNodeAt(r,i);return a.test=o,a.consequent=this.parseMaybeAssign(),this.expect(n.types.colon),a.alternate=this.parseMaybeAssign(e),this.finishNode(a,"ConditionalExpression")}return o},l.parseExprOps=function(e,t){var r=this.start,n=this.startLoc,i=this.parseMaybeUnary(t,!1);return this.checkExpressionErrors(t)?i:i.start===r&&"ArrowFunctionExpression"===i.type?i:this.parseExprOp(i,r,n,-1,e)},l.parseExprOp=function(e,t,r,i,o){var a=this.type.binop;if(null!=a&&(!o||this.type!==n.types._in)&&a>i){var s=this.type===n.types.logicalOR||this.type===n.types.logicalAND,l=this.value;this.next();var u=this.start,c=this.startLoc,d=this.parseExprOp(this.parseMaybeUnary(null,!1),u,c,a,o),p=this.buildBinary(t,r,e,d,l,s);return this.parseExprOp(p,t,r,i,o)}return e},l.buildBinary=function(e,t,r,n,i,o){var a=this.startNodeAt(e,t);return a.left=r,a.operator=i,a.right=n,this.finishNode(a,o?"LogicalExpression":"BinaryExpression")},l.parseMaybeUnary=function(e,t){var r,i=this.start,o=this.startLoc;if(this.isContextual("await")&&(this.inAsync||!this.inFunction&&this.options.allowAwaitOutsideFunction))r=this.parseAwait(),t=!0;else if(this.type.prefix){var a=this.startNode(),s=this.type===n.types.incDec;a.operator=this.value,a.prefix=!0,this.next(),a.argument=this.parseMaybeUnary(null,!0),this.checkExpressionErrors(e,!0),s?this.checkLVal(a.argument):this.strict&&"delete"===a.operator&&"Identifier"===a.argument.type?this.raiseRecoverable(a.start,"Deleting local variable in strict mode"):t=!0,r=this.finishNode(a,s?"UpdateExpression":"UnaryExpression")}else{if(r=this.parseExprSubscripts(e),this.checkExpressionErrors(e))return r;for(;this.type.postfix&&!this.canInsertSemicolon();){var l=this.startNodeAt(i,o);l.operator=this.value,l.prefix=!1,l.argument=r,this.checkLVal(r),this.next(),r=this.finishNode(l,"UpdateExpression")}}return!t&&this.eat(n.types.starstar)?this.buildBinary(i,o,r,this.parseMaybeUnary(null,!1),"**",!1):r},l.parseExprSubscripts=function(e){var t=this.start,r=this.startLoc,n=this.parseExprAtom(e),i="ArrowFunctionExpression"===n.type&&")"!==this.input.slice(this.lastTokStart,this.lastTokEnd);if(this.checkExpressionErrors(e)||i)return n;var o=this.parseSubscripts(n,t,r);return e&&"MemberExpression"===o.type&&(e.parenthesizedAssign>=o.start&&(e.parenthesizedAssign=-1),e.parenthesizedBind>=o.start&&(e.parenthesizedBind=-1)),o},l.parseSubscripts=function(e,t,r,n){for(var i=this.options.ecmaVersion>=8&&"Identifier"===e.type&&"async"===e.name&&this.lastTokEnd===e.end&&!this.canInsertSemicolon()&&"async"===this.input.slice(e.start,e.end);;){var o=this.parseSubscript(e,t,r,n,i);if(o===e||"ArrowFunctionExpression"===o.type)return o;e=o}},l.parseSubscript=function(e,t,r,i,a){var s=this.eat(n.types.bracketL);if(s||this.eat(n.types.dot)){var l=this.startNodeAt(t,r);l.object=e,l.property=s?this.parseExpression():this.parseIdent(!0),l.computed=!!s,s&&this.expect(n.types.bracketR),e=this.finishNode(l,"MemberExpression")}else if(!i&&this.eat(n.types.parenL)){var u=new o.DestructuringErrors,c=this.yieldPos,d=this.awaitPos,p=this.awaitIdentPos;this.yieldPos=0,this.awaitPos=0,this.awaitIdentPos=0;var f=this.parseExprList(n.types.parenR,this.options.ecmaVersion>=8&&"Import"!==e.type,!1,u);if(a&&!this.canInsertSemicolon()&&this.eat(n.types.arrow))return this.checkPatternErrors(u,!1),this.checkYieldAwaitInDefaultParams(),this.awaitIdentPos>0&&this.raise(this.awaitIdentPos,"Cannot use 'await' as identifier inside an async function"),this.yieldPos=c,this.awaitPos=d,this.awaitIdentPos=p,this.parseArrowExpression(this.startNodeAt(t,r),f,!0);this.checkExpressionErrors(u,!0),this.yieldPos=c||this.yieldPos,this.awaitPos=d||this.awaitPos,this.awaitIdentPos=p||this.awaitIdentPos;var h=this.startNodeAt(t,r);if(h.callee=e,h.arguments=f,"Import"===h.callee.type){1!==h.arguments.length&&this.raise(h.start,"import() requires exactly one argument");var m=h.arguments[0];m&&"SpreadElement"===m.type&&this.raise(m.start,"... is not allowed in import()")}e=this.finishNode(h,"CallExpression")}else if(this.type===n.types.backQuote){var v=this.startNodeAt(t,r);v.tag=e,v.quasi=this.parseTemplate({isTagged:!0}),e=this.finishNode(v,"TaggedTemplateExpression")}return e},l.parseExprAtom=function(e){this.type===n.types.slash&&this.readRegexp();var t,r=this.potentialArrowAt===this.start;switch(this.type){case n.types._super:return this.allowSuper||this.raise(this.start,"'super' keyword outside a method"),t=this.startNode(),this.next(),this.type!==n.types.parenL||this.allowDirectSuper||this.raise(t.start,"super() call outside constructor of a subclass"),this.type!==n.types.dot&&this.type!==n.types.bracketL&&this.type!==n.types.parenL&&this.unexpected(),this.finishNode(t,"Super");case n.types._this:return t=this.startNode(),this.next(),this.finishNode(t,"ThisExpression");case n.types.name:var i=this.start,o=this.startLoc,a=this.containsEsc,s=this.parseIdent(!1);if(this.options.ecmaVersion>=8&&!a&&"async"===s.name&&!this.canInsertSemicolon()&&this.eat(n.types._function))return this.parseFunction(this.startNodeAt(i,o),0,!1,!0);if(r&&!this.canInsertSemicolon()){if(this.eat(n.types.arrow))return this.parseArrowExpression(this.startNodeAt(i,o),[s],!1);if(this.options.ecmaVersion>=8&&"async"===s.name&&this.type===n.types.name&&!a)return s=this.parseIdent(!1),!this.canInsertSemicolon()&&this.eat(n.types.arrow)||this.unexpected(),this.parseArrowExpression(this.startNodeAt(i,o),[s],!0)}return s;case n.types.regexp:var l=this.value;return t=this.parseLiteral(l.value),t.regex={pattern:l.pattern,flags:l.flags},t;case n.types.num:case n.types.string:return this.parseLiteral(this.value);case n.types._null:case n.types._true:case n.types._false:return t=this.startNode(),t.value=this.type===n.types._null?null:this.type===n.types._true,t.raw=this.type.keyword,this.next(),this.finishNode(t,"Literal");case n.types.parenL:var u=this.start,c=this.parseParenAndDistinguishExpression(r);return e&&(e.parenthesizedAssign<0&&!this.isSimpleAssignTarget(c)&&(e.parenthesizedAssign=u),e.parenthesizedBind<0&&(e.parenthesizedBind=u)),c;case n.types.bracketL:return t=this.startNode(),this.next(),t.elements=this.parseExprList(n.types.bracketR,!0,!0,e),this.finishNode(t,"ArrayExpression");case n.types.braceL:return this.parseObj(!1,e);case n.types._function:return t=this.startNode(),this.next(),this.parseFunction(t,0);case n.types._class:return this.parseClass(this.startNode(),!1);case n.types._new:return this.parseNew();case n.types.backQuote:return this.parseTemplate();case n.types._import:return this.options.ecmaVersion>10?this.parseDynamicImport():this.unexpected();default:this.unexpected()}},l.parseDynamicImport=function(){var e=this.startNode();return this.next(),this.type!==n.types.parenL&&this.unexpected(),this.finishNode(e,"Import")},l.parseLiteral=function(e){var t=this.startNode();return t.value=e,t.raw=this.input.slice(this.start,this.end),110===t.raw.charCodeAt(t.raw.length-1)&&(t.bigint=t.raw.slice(0,-1)),this.next(),this.finishNode(t,"Literal")},l.parseParenExpression=function(){this.expect(n.types.parenL);var e=this.parseExpression();return this.expect(n.types.parenR),e},l.parseParenAndDistinguishExpression=function(e){var t,r=this.start,i=this.startLoc,a=this.options.ecmaVersion>=8;if(this.options.ecmaVersion>=6){this.next();var s,l=this.start,u=this.startLoc,c=[],d=!0,p=!1,f=new o.DestructuringErrors,h=this.yieldPos,m=this.awaitPos;for(this.yieldPos=0,this.awaitPos=0;this.type!==n.types.parenR;){if(d?d=!1:this.expect(n.types.comma),a&&this.afterTrailingComma(n.types.parenR,!0)){p=!0;break}if(this.type===n.types.ellipsis){s=this.start,c.push(this.parseParenItem(this.parseRestBinding())),this.type===n.types.comma&&this.raise(this.start,"Comma is not permitted after the rest element");break}c.push(this.parseMaybeAssign(!1,f,this.parseParenItem))}var v=this.start,g=this.startLoc;if(this.expect(n.types.parenR),e&&!this.canInsertSemicolon()&&this.eat(n.types.arrow))return this.checkPatternErrors(f,!1),this.checkYieldAwaitInDefaultParams(),this.yieldPos=h,this.awaitPos=m,this.parseParenArrowList(r,i,c);c.length&&!p||this.unexpected(this.lastTokStart),s&&this.unexpected(s),this.checkExpressionErrors(f,!0),this.yieldPos=h||this.yieldPos,this.awaitPos=m||this.awaitPos,c.length>1?(t=this.startNodeAt(l,u),t.expressions=c,this.finishNodeAt(t,"SequenceExpression",v,g)):t=c[0]}else t=this.parseParenExpression();if(this.options.preserveParens){var y=this.startNodeAt(r,i);return y.expression=t,this.finishNode(y,"ParenthesizedExpression")}return t},l.parseParenItem=function(e){return e},l.parseParenArrowList=function(e,t,r){return this.parseArrowExpression(this.startNodeAt(e,t),r)};var u=[];l.parseNew=function(){var e=this.startNode(),t=this.parseIdent(!0);if(this.options.ecmaVersion>=6&&this.eat(n.types.dot)){e.meta=t;var r=this.containsEsc;return e.property=this.parseIdent(!0),("target"!==e.property.name||r)&&this.raiseRecoverable(e.property.start,"The only valid meta property for new is new.target"),this.inNonArrowFunction()||this.raiseRecoverable(e.start,"new.target can only be used in functions"),this.finishNode(e,"MetaProperty")}var i=this.start,o=this.startLoc;return e.callee=this.parseSubscripts(this.parseExprAtom(),i,o,!0),this.options.ecmaVersion>10&&"Import"===e.callee.type&&this.raise(e.callee.start,"Cannot use new with import(...)"),this.eat(n.types.parenL)?e.arguments=this.parseExprList(n.types.parenR,this.options.ecmaVersion>=8&&"Import"!==e.callee.type,!1):e.arguments=u,this.finishNode(e,"NewExpression")},l.parseTemplateElement=function(e){var t=e.isTagged,r=this.startNode();return this.type===n.types.invalidTemplate?(t||this.raiseRecoverable(this.start,"Bad escape sequence in untagged template literal"),r.value={raw:this.value,cooked:null}):r.value={raw:this.input.slice(this.start,this.end).replace(/\r\n?/g,"\n"),cooked:this.value},this.next(),r.tail=this.type===n.types.backQuote,this.finishNode(r,"TemplateElement")},l.parseTemplate=function(e){var t=void 0===e?{}:e,r=t.isTagged,i=void 0!==r&&r,o=this.startNode();this.next(),o.expressions=[];var a=this.parseTemplateElement({isTagged:i});for(o.quasis=[a];!a.tail;)this.type===n.types.eof&&this.raise(this.pos,"Unterminated template literal"),this.expect(n.types.dollarBraceL),o.expressions.push(this.parseExpression()),this.expect(n.types.braceR),o.quasis.push(a=this.parseTemplateElement({isTagged:i}));return this.next(),this.finishNode(o,"TemplateLiteral")},l.isAsyncProp=function(e){return!e.computed&&"Identifier"===e.key.type&&"async"===e.key.name&&(this.type===n.types.name||this.type===n.types.num||this.type===n.types.string||this.type===n.types.bracketL||this.type.keyword||this.options.ecmaVersion>=9&&this.type===n.types.star)&&!a.lineBreak.test(this.input.slice(this.lastTokEnd,this.start))},l.parseObj=function(e,t){var r=this.startNode(),i=!0,o={};for(r.properties=[],this.next();!this.eat(n.types.braceR);){if(i)i=!1;else if(this.expect(n.types.comma),this.afterTrailingComma(n.types.braceR))break;var a=this.parseProperty(e,t);e||this.checkPropClash(a,o,t),r.properties.push(a)}return this.finishNode(r,e?"ObjectPattern":"ObjectExpression")},l.parseProperty=function(e,t){var r,i,o,a,s=this.startNode();if(this.options.ecmaVersion>=9&&this.eat(n.types.ellipsis))return e?(s.argument=this.parseIdent(!1),this.type===n.types.comma&&this.raise(this.start,"Comma is not permitted after the rest element"),this.finishNode(s,"RestElement")):(this.type===n.types.parenL&&t&&(t.parenthesizedAssign<0&&(t.parenthesizedAssign=this.start),t.parenthesizedBind<0&&(t.parenthesizedBind=this.start)),s.argument=this.parseMaybeAssign(!1,t),this.type===n.types.comma&&t&&t.trailingComma<0&&(t.trailingComma=this.start),this.finishNode(s,"SpreadElement"));this.options.ecmaVersion>=6&&(s.method=!1,s.shorthand=!1,(e||t)&&(o=this.start,a=this.startLoc),e||(r=this.eat(n.types.star)));var l=this.containsEsc;return this.parsePropertyName(s),!e&&!l&&this.options.ecmaVersion>=8&&!r&&this.isAsyncProp(s)?(i=!0,r=this.options.ecmaVersion>=9&&this.eat(n.types.star),this.parsePropertyName(s,t)):i=!1,this.parsePropertyValue(s,e,r,i,o,a,t,l),this.finishNode(s,"Property")},l.parsePropertyValue=function(e,t,r,i,o,a,s,l){if((r||i)&&this.type===n.types.colon&&this.unexpected(),this.eat(n.types.colon))e.value=t?this.parseMaybeDefault(this.start,this.startLoc):this.parseMaybeAssign(!1,s),e.kind="init";else if(this.options.ecmaVersion>=6&&this.type===n.types.parenL)t&&this.unexpected(),e.kind="init",e.method=!0,e.value=this.parseMethod(r,i);else if(t||l||!(this.options.ecmaVersion>=5)||e.computed||"Identifier"!==e.key.type||"get"!==e.key.name&&"set"!==e.key.name||this.type===n.types.comma||this.type===n.types.braceR)this.options.ecmaVersion>=6&&!e.computed&&"Identifier"===e.key.type?((r||i)&&this.unexpected(),this.checkUnreserved(e.key),"await"!==e.key.name||this.awaitIdentPos||(this.awaitIdentPos=o),e.kind="init",t?e.value=this.parseMaybeDefault(o,a,e.key):this.type===n.types.eq&&s?(s.shorthandAssign<0&&(s.shorthandAssign=this.start),e.value=this.parseMaybeDefault(o,a,e.key)):e.value=e.key,e.shorthand=!0):this.unexpected();else{(r||i)&&this.unexpected(),e.kind=e.key.name,this.parsePropertyName(e),e.value=this.parseMethod(!1);var u="get"===e.kind?0:1;if(e.value.params.length!==u){var c=e.value.start;"get"===e.kind?this.raiseRecoverable(c,"getter should have no params"):this.raiseRecoverable(c,"setter should have exactly one param")}else"set"===e.kind&&"RestElement"===e.value.params[0].type&&this.raiseRecoverable(e.value.params[0].start,"Setter cannot use rest params")}},l.parsePropertyName=function(e){if(this.options.ecmaVersion>=6){if(this.eat(n.types.bracketL))return e.computed=!0,e.key=this.parseMaybeAssign(),this.expect(n.types.bracketR),e.key;e.computed=!1}return e.key=this.type===n.types.num||this.type===n.types.string?this.parseExprAtom():this.parseIdent(!0)},l.initFunction=function(e){e.id=null,this.options.ecmaVersion>=6&&(e.generator=e.expression=!1),this.options.ecmaVersion>=8&&(e.async=!1)},l.parseMethod=function(e,t,r){var i=this.startNode(),o=this.yieldPos,a=this.awaitPos,l=this.awaitIdentPos;return this.initFunction(i),this.options.ecmaVersion>=6&&(i.generator=e),this.options.ecmaVersion>=8&&(i.async=!!t),this.yieldPos=0,this.awaitPos=0,this.awaitIdentPos=0,this.enterScope((0,s.functionFlags)(t,i.generator)|s.SCOPE_SUPER|(r?s.SCOPE_DIRECT_SUPER:0)),this.expect(n.types.parenL),i.params=this.parseBindingList(n.types.parenR,!1,this.options.ecmaVersion>=8),this.checkYieldAwaitInDefaultParams(),this.parseFunctionBody(i,!1,!0),this.yieldPos=o,this.awaitPos=a,this.awaitIdentPos=l,this.finishNode(i,"FunctionExpression")},l.parseArrowExpression=function(e,t,r){var n=this.yieldPos,i=this.awaitPos,o=this.awaitIdentPos;return this.enterScope((0,s.functionFlags)(r,!1)|s.SCOPE_ARROW),this.initFunction(e),this.options.ecmaVersion>=8&&(e.async=!!r),this.yieldPos=0,this.awaitPos=0,this.awaitIdentPos=0,e.params=this.toAssignableList(t,!0),this.parseFunctionBody(e,!0,!1),this.yieldPos=n,this.awaitPos=i,this.awaitIdentPos=o,this.finishNode(e,"ArrowFunctionExpression")},l.parseFunctionBody=function(e,t,r){var i=t&&this.type!==n.types.braceL,o=this.strict,a=!1;if(i)e.body=this.parseMaybeAssign(),e.expression=!0,this.checkParams(e,!1);else{var l=this.options.ecmaVersion>=7&&!this.isSimpleParamList(e.params);o&&!l||(a=this.strictDirective(this.end),a&&l&&this.raiseRecoverable(e.start,"Illegal 'use strict' directive in function with non-simple parameter list"));var u=this.labels;this.labels=[],a&&(this.strict=!0),this.checkParams(e,!o&&!a&&!t&&!r&&this.isSimpleParamList(e.params)),e.body=this.parseBlock(!1),e.expression=!1,this.adaptDirectivePrologue(e.body.body),this.labels=u}this.exitScope(),this.strict&&e.id&&this.checkLVal(e.id,s.BIND_OUTSIDE),this.strict=o},l.isSimpleParamList=function(e){for(var t=e,r=Array.isArray(t),n=0,t=r?t:t[Symbol.iterator]();;){var i;if(r){if(n>=t.length)break;i=t[n++]}else{if(n=t.next(),n.done)break;i=n.value}var o=i;if("Identifier"!==o.type)return!1}return!0},l.checkParams=function(e,t){for(var r={},n=e.params,i=Array.isArray(n),o=0,n=i?n:n[Symbol.iterator]();;){var a;if(i){if(o>=n.length)break;a=n[o++]}else{if(o=n.next(),o.done)break;a=o.value}var l=a;this.checkLVal(l,s.BIND_VAR,t?null:r)}},l.parseExprList=function(e,t,r,i){for(var o=[],a=!0;!this.eat(e);){if(a)a=!1;else if(this.expect(n.types.comma),t&&this.afterTrailingComma(e))break;var s=void 0;r&&this.type===n.types.comma?s=null:this.type===n.types.ellipsis?(s=this.parseSpread(i),i&&this.type===n.types.comma&&i.trailingComma<0&&(i.trailingComma=this.start)):s=this.parseMaybeAssign(!1,i),o.push(s)}return o},l.checkUnreserved=function(e){var t=e.start,r=e.end,n=e.name;if(this.inGenerator&&"yield"===n&&this.raiseRecoverable(t,"Cannot use 'yield' as identifier inside a generator"),this.inAsync&&"await"===n&&this.raiseRecoverable(t,"Cannot use 'await' as identifier inside an async function"),this.keywords.test(n)&&this.raise(t,"Unexpected keyword '"+n+"'"),!(this.options.ecmaVersion<6&&this.input.slice(t,r).indexOf("\\")!==-1)){var i=this.strict?this.reservedWordsStrict:this.reservedWords;i.test(n)&&(this.inAsync||"await"!==n||this.raiseRecoverable(t,"Cannot use keyword 'await' outside an async function"),this.raiseRecoverable(t,"The keyword '"+n+"' is reserved"))}},l.parseIdent=function(e,t){var r=this.startNode();return e&&"never"===this.options.allowReserved&&(e=!1),this.type===n.types.name?r.name=this.value:this.type.keyword?(r.name=this.type.keyword,"class"!==r.name&&"function"!==r.name||this.lastTokEnd===this.lastTokStart+1&&46===this.input.charCodeAt(this.lastTokStart)||this.context.pop()):this.unexpected(),this.next(),this.finishNode(r,"Identifier"),e||(this.checkUnreserved(r),"await"!==r.name||this.awaitIdentPos||(this.awaitIdentPos=r.start)),r},l.parseYield=function(e){this.yieldPos||(this.yieldPos=this.start);var t=this.startNode();return this.next(),this.type===n.types.semi||this.canInsertSemicolon()||this.type!==n.types.star&&!this.type.startsExpr?(t.delegate=!1,t.argument=null):(t.delegate=this.eat(n.types.star),t.argument=this.parseMaybeAssign(e)),this.finishNode(t,"YieldExpression")},l.parseAwait=function(){this.awaitPos||(this.awaitPos=this.start);var e=this.startNode();return this.next(),e.argument=this.parseMaybeUnary(null,!0),this.finishNode(e,"AwaitExpression")}},"identifier.js":function(e,t,r){function n(e,t){for(var r=65536,n=0;n<t.length;n+=2){if(r+=t[n],r>e)return!1;if(r+=t[n+1],r>=e)return!0}}function i(e,t){return e<65?36===e:e<91||(e<97?95===e:e<123||(e<=65535?e>=170&&u.test(String.fromCharCode(e)):t!==!1&&n(e,d)))}function o(e,t){return e<48?36===e:e<58||!(e<65)&&(e<91||(e<97?95===e:e<123||(e<=65535?e>=170&&c.test(String.fromCharCode(e)):t!==!1&&(n(e,d)||n(e,p)))))}e.__esModule=!0,e.isIdentifierStart=i,e.isIdentifierChar=o;var a=(e.reservedWords={3:"abstract boolean byte char class double enum export extends final float goto implements import int interface long native package private protected public short static super synchronized throws transient volatile",5:"class enum extends super const export import",6:"enum",strict:"implements interface let package private protected public static yield",strictBind:"eval arguments"},"break case catch continue debugger default do else finally for function if return switch throw try var while with null true false instanceof typeof void delete new in this"),s=(e.keywords={5:a,6:a+" const class extends export import super"},e.keywordRelationalOperator=/^in(stanceof)?$/,"ªµºÀ-ÖØ-öø-ˁˆ-ˑˠ-ˤˬˮͰ-ʹͶͷͺ-ͽͿΆΈ-ΊΌΎ-ΡΣ-ϵϷ-ҁҊ-ԯԱ-Ֆՙՠ-ֈא-תׯ-ײؠ-يٮٯٱ-ۓەۥۦۮۯۺ-ۼۿܐܒ-ܯݍ-ޥޱߊ-ߪߴߵߺࠀ-ࠕࠚࠤࠨࡀ-ࡘࡠ-ࡪࢠ-ࢴࢶ-ࢽऄ-हऽॐक़-ॡॱ-ঀঅ-ঌএঐও-নপ-রলশ-হঽৎড়ঢ়য়-ৡৰৱৼਅ-ਊਏਐਓ-ਨਪ-ਰਲਲ਼ਵਸ਼ਸਹਖ਼-ੜਫ਼ੲ-ੴઅ-ઍએ-ઑઓ-નપ-રલળવ-હઽૐૠૡૹଅ-ଌଏଐଓ-ନପ-ରଲଳଵ-ହଽଡ଼ଢ଼ୟ-ୡୱஃஅ-ஊஎ-ஐஒ-கஙசஜஞடணதந-பம-ஹௐఅ-ఌఎ-ఐఒ-నప-హఽౘ-ౚౠౡಀಅ-ಌಎ-ಐಒ-ನಪ-ಳವ-ಹಽೞೠೡೱೲഅ-ഌഎ-ഐഒ-ഺഽൎൔ-ൖൟ-ൡൺ-ൿඅ-ඖක-නඳ-රලව-ෆก-ะาำเ-ๆກຂຄຆ-ຊຌ-ຣລວ-ະາຳຽເ-ໄໆໜ-ໟༀཀ-ཇཉ-ཬྈ-ྌက-ဪဿၐ-ၕၚ-ၝၡၥၦၮ-ၰၵ-ႁႎႠ-ჅჇჍა-ჺჼ-ቈቊ-ቍቐ-ቖቘቚ-ቝበ-ኈኊ-ኍነ-ኰኲ-ኵኸ-ኾዀዂ-ዅወ-ዖዘ-ጐጒ-ጕጘ-ፚᎀ-ᎏᎠ-Ᏽᏸ-ᏽᐁ-ᙬᙯ-ᙿᚁ-ᚚᚠ-ᛪᛮ-ᛸᜀ-ᜌᜎ-ᜑᜠ-ᜱᝀ-ᝑᝠ-ᝬᝮ-ᝰក-ឳៗៜᠠ-ᡸᢀ-ᢨᢪᢰ-ᣵᤀ-ᤞᥐ-ᥭᥰ-ᥴᦀ-ᦫᦰ-ᧉᨀ-ᨖᨠ-ᩔᪧᬅ-ᬳᭅ-ᭋᮃ-ᮠᮮᮯᮺ-ᯥᰀ-ᰣᱍ-ᱏᱚ-ᱽᲀ-ᲈᲐ-ᲺᲽ-Ჿᳩ-ᳬᳮ-ᳳᳵᳶᳺᴀ-ᶿḀ-ἕἘ-Ἕἠ-ὅὈ-Ὅὐ-ὗὙὛὝὟ-ώᾀ-ᾴᾶ-ᾼιῂ-ῄῆ-ῌῐ-ΐῖ-Ίῠ-Ῥῲ-ῴῶ-ῼⁱⁿₐ-ₜℂℇℊ-ℓℕ℘-ℝℤΩℨK-ℹℼ-ℿⅅ-ⅉⅎⅠ-ↈⰀ-Ⱞⰰ-ⱞⱠ-ⳤⳫ-ⳮⳲⳳⴀ-ⴥⴧⴭⴰ-ⵧⵯⶀ-ⶖⶠ-ⶦⶨ-ⶮⶰ-ⶶⶸ-ⶾⷀ-ⷆⷈ-ⷎⷐ-ⷖⷘ-ⷞ々-〇〡-〩〱-〵〸-〼ぁ-ゖ゛-ゟァ-ヺー-ヿㄅ-ㄯㄱ-ㆎㆠ-ㆺㇰ-ㇿ㐀-䶵一-鿯ꀀ-ꒌꓐ-ꓽꔀ-ꘌꘐ-ꘟꘪꘫꙀ-ꙮꙿ-ꚝꚠ-ꛯꜗ-ꜟꜢ-ꞈꞋ-ꞿꟂ-Ᶎꟷ-ꠁꠃ-ꠅꠇ-ꠊꠌ-ꠢꡀ-ꡳꢂ-ꢳꣲ-ꣷꣻꣽꣾꤊ-ꤥꤰ-ꥆꥠ-ꥼꦄ-ꦲꧏꧠ-ꧤꧦ-ꧯꧺ-ꧾꨀ-ꨨꩀ-ꩂꩄ-ꩋꩠ-ꩶꩺꩾ-ꪯꪱꪵꪶꪹ-ꪽꫀꫂꫛ-ꫝꫠ-ꫪꫲ-ꫴꬁ-ꬆꬉ-ꬎꬑ-ꬖꬠ-ꬦꬨ-ꬮꬰ-ꭚꭜ-ꭧꭰ-ꯢ가-힣ힰ-ퟆퟋ-ퟻ豈-舘並-龎ﬀ-ﬆﬓ-ﬗיִײַ-ﬨשׁ-זּטּ-לּמּנּסּףּפּצּ-ﮱﯓ-ﴽﵐ-ﶏﶒ-ﷇﷰ-ﷻﹰ-ﹴﹶ-ﻼＡ-Ｚａ-ｚｦ-ﾾￂ-ￇￊ-ￏￒ-ￗￚ-ￜ"),l="‌‍·̀-ͯ·҃-֑҇-ׇֽֿׁׂׅׄؐ-ًؚ-٩ٰۖ-ۜ۟-۪ۤۧۨ-ۭ۰-۹ܑܰ-݊ަ-ް߀-߉߫-߽߳ࠖ-࠙ࠛ-ࠣࠥ-ࠧࠩ-࡙࠭-࡛࣓-ࣣ࣡-ःऺ-़ा-ॏ॑-ॗॢॣ०-९ঁ-ঃ়া-ৄেৈো-্ৗৢৣ০-৯৾ਁ-ਃ਼ਾ-ੂੇੈੋ-੍ੑ੦-ੱੵઁ-ઃ઼ા-ૅે-ૉો-્ૢૣ૦-૯ૺ-૿ଁ-ଃ଼ା-ୄେୈୋ-୍ୖୗୢୣ୦-୯ஂா-ூெ-ைொ-்ௗ௦-௯ఀ-ఄా-ౄె-ైొ-్ౕౖౢౣ౦-౯ಁ-ಃ಼ಾ-ೄೆ-ೈೊ-್ೕೖೢೣ೦-೯ഀ-ഃ഻഼ാ-ൄെ-ൈൊ-്ൗൢൣ൦-൯ංඃ්ා-ුූෘ-ෟ෦-෯ෲෳัิ-ฺ็-๎๐-๙ັິ-ຼ່-ໍ໐-໙༘༙༠-༩༹༵༷༾༿ཱ-྄྆྇ྍ-ྗྙ-ྼ࿆ါ-ှ၀-၉ၖ-ၙၞ-ၠၢ-ၤၧ-ၭၱ-ၴႂ-ႍႏ-ႝ፝-፟፩-፱ᜒ-᜔ᜲ-᜴ᝒᝓᝲᝳ឴-៓៝០-៩᠋-᠍᠐-᠙ᢩᤠ-ᤫᤰ-᤻᥆-᥏᧐-᧚ᨗ-ᨛᩕ-ᩞ᩠-᩿᩼-᪉᪐-᪙᪰-᪽ᬀ-ᬄ᬴-᭄᭐-᭙᭫-᭳ᮀ-ᮂᮡ-ᮭ᮰-᮹᯦-᯳ᰤ-᰷᱀-᱉᱐-᱙᳐-᳔᳒-᳨᳭᳴᳷-᳹᷀-᷹᷻-᷿‿⁀⁔⃐-⃥⃜⃡-⃰⳯-⵿⳱ⷠ-〪ⷿ-゙゚〯꘠-꘩꙯ꙴ-꙽ꚞꚟ꛰꛱ꠂ꠆ꠋꠣ-ꠧꢀꢁꢴ-ꣅ꣐-꣙꣠-꣱ꣿ-꤉ꤦ-꤭ꥇ-꥓ꦀ-ꦃ꦳-꧀꧐-꧙ꧥ꧰-꧹ꨩ-ꨶꩃꩌꩍ꩐-꩙ꩻ-ꩽꪰꪲ-ꪴꪷꪸꪾ꪿꫁ꫫ-ꫯꫵ꫶ꯣ-ꯪ꯬꯭꯰-꯹ﬞ︀-️︠-︯︳︴﹍-﹏０-９＿",u=new RegExp("["+s+"]"),c=new RegExp("["+s+l+"]");s=l=null;var d=[0,11,2,25,2,18,2,1,2,14,3,13,35,122,70,52,268,28,4,48,48,31,14,29,6,37,11,29,3,35,5,7,2,4,43,157,19,35,5,35,5,39,9,51,157,310,10,21,11,7,153,5,3,0,2,43,2,1,4,0,3,22,11,22,10,30,66,18,2,1,11,21,11,25,71,55,7,1,65,0,16,3,2,2,2,28,43,28,4,28,36,7,2,27,28,53,11,21,11,18,14,17,111,72,56,50,14,50,14,35,477,28,11,0,9,21,155,22,13,52,76,44,33,24,27,35,30,0,12,34,4,0,13,47,15,3,22,0,2,0,36,17,2,24,85,6,2,0,2,3,2,14,2,9,8,46,39,7,3,1,3,21,2,6,2,1,2,4,4,0,19,0,13,4,159,52,19,3,21,0,33,47,21,1,2,0,185,46,42,3,37,47,21,0,60,42,14,0,72,26,230,43,117,63,32,0,161,7,3,38,17,0,2,0,29,0,11,39,8,0,22,0,12,45,20,0,35,56,264,8,2,36,18,0,50,29,113,6,2,1,2,37,22,0,26,5,2,1,2,31,15,0,328,18,270,921,103,110,18,195,2749,1070,4050,582,8634,568,8,30,114,29,19,47,17,3,32,20,6,18,689,63,129,74,6,0,67,12,65,1,2,0,29,6135,9,754,9486,286,50,2,18,3,9,395,2309,106,6,12,4,8,8,9,5991,84,2,70,2,1,3,0,3,1,3,3,2,11,2,0,2,6,2,64,2,3,3,7,2,6,2,27,2,3,2,4,2,0,4,6,2,339,3,24,2,24,2,30,2,24,2,30,2,24,2,30,2,24,2,30,2,24,2,7,2357,44,11,6,17,0,370,43,1301,196,60,67,8,0,1205,3,2,26,2,1,2,0,3,0,2,9,2,3,2,0,2,0,7,0,5,0,2,0,2,0,2,2,2,1,2,0,3,0,2,0,2,0,2,0,2,0,2,1,2,0,3,3,2,6,2,3,2,3,2,0,2,9,2,16,6,2,2,4,2,16,4421,42710,42,4148,12,221,3,5761,15,7472,3104,541],p=[509,0,227,0,150,4,294,9,1368,2,2,1,6,3,41,2,5,0,166,1,574,3,9,9,525,10,176,2,54,14,32,9,16,3,46,10,54,9,7,2,37,13,2,9,6,1,45,0,13,2,49,13,9,3,4,9,83,11,7,0,161,11,6,9,7,3,56,1,2,6,3,1,3,2,10,0,11,1,3,6,4,4,193,17,10,9,5,0,82,19,13,9,214,6,3,8,28,1,83,16,16,9,82,12,9,9,84,14,5,9,243,14,166,9,232,6,3,6,4,0,29,9,41,6,2,3,9,0,10,10,47,15,406,7,2,7,17,9,57,21,2,13,123,5,4,0,2,1,2,6,2,0,9,9,49,4,2,1,2,4,9,9,330,3,19306,9,135,4,60,6,26,9,1014,0,2,54,8,3,19723,1,5319,4,4,5,9,7,3,6,31,3,149,2,1418,49,513,54,5,49,9,0,15,0,23,4,2,14,1361,6,2,16,3,6,2,1,2,4,262,6,10,9,419,13,1495,6,110,6,6,9,792487,239]},"index.js":function(e,t,r){function n(e,t){return a.Parser.parse(e,t)}function i(e,t,r){return a.Parser.parseExpressionAt(e,t,r)}function o(e,t){return a.Parser.tokenizer(e,t)}e.__esModule=!0,e.version=e.nonASCIIwhitespace=e.lineBreakG=e.lineBreak=e.isNewLine=e.Token=e.isIdentifierStart=e.isIdentifierChar=e.tokContexts=e.TokContext=e.keywordTypes=e.tokTypes=e.TokenType=e.Node=e.getLineInfo=e.SourceLocation=e.Position=e.defaultOptions=e.Parser=void 0;var a=r("./state");Object.defineProperty(e,"Parser",{enumerable:!0,get:function(){return a.Parser}});var s=r("./options");Object.defineProperty(e,"defaultOptions",{enumerable:!0,get:function(){return s.defaultOptions}});var l=r("./locutil");Object.defineProperty(e,"Position",{enumerable:!0,get:function(){return l.Position}}),Object.defineProperty(e,"SourceLocation",{enumerable:!0,get:function(){return l.SourceLocation}}),Object.defineProperty(e,"getLineInfo",{enumerable:!0,get:function(){return l.getLineInfo}});var u=r("./node");Object.defineProperty(e,"Node",{enumerable:!0,get:function(){return u.Node}});var c=r("./tokentype");Object.defineProperty(e,"TokenType",{enumerable:!0,get:function(){return c.TokenType}}),Object.defineProperty(e,"tokTypes",{enumerable:!0,get:function(){return c.types}}),Object.defineProperty(e,"keywordTypes",{enumerable:!0,get:function(){return c.keywords}});var d=r("./tokencontext");Object.defineProperty(e,"TokContext",{enumerable:!0,get:function(){return d.TokContext}}),Object.defineProperty(e,"tokContexts",{enumerable:!0,get:function(){return d.types}});var p=r("./identifier");Object.defineProperty(e,"isIdentifierChar",{enumerable:!0,get:function(){return p.isIdentifierChar}}),Object.defineProperty(e,"isIdentifierStart",{enumerable:!0,get:function(){return p.isIdentifierStart}});var f=r("./tokenize");Object.defineProperty(e,"Token",{enumerable:!0,get:function(){return f.Token}});var h=r("./whitespace");Object.defineProperty(e,"isNewLine",{enumerable:!0,get:function(){return h.isNewLine}}),Object.defineProperty(e,"lineBreak",{enumerable:!0,get:function(){return h.lineBreak}}),Object.defineProperty(e,"lineBreakG",{enumerable:!0,get:function(){return h.lineBreakG}}),Object.defineProperty(e,"nonASCIIwhitespace",{enumerable:!0,get:function(){return h.nonASCIIwhitespace}}),e.parse=n,e.parseExpressionAt=i,e.tokenizer=o,r("./parseutil"),r("./statement"),r("./lval"),r("./expression"),r("./location"),r("./scope");e.version="6.2.1"},"location.js":function(e,t,r){var n=r("./state"),i=r("./locutil"),o=n.Parser.prototype;o.raise=function(e,t){var r=(0,i.getLineInfo)(this.input,e);t+=" ("+r.line+":"+r.column+")";var n=new SyntaxError(t);throw n.pos=e,n.loc=r,n.raisedAt=this.pos,n},o.raiseRecoverable=o.raise,o.curPosition=function(){if(this.options.locations)return new i.Position(this.curLine,this.pos-this.lineStart)}},"locutil.js":function(e,t,r){function n(e,t){for(var r=1,n=0;;){i.lineBreakG.lastIndex=n;var a=i.lineBreakG.exec(e);if(!(a&&a.index<t))return new o(r,t-n);++r,n=a.index+a[0].length}}e.__esModule=!0,e.SourceLocation=e.Position=void 0,e.getLineInfo=n;var i=r("./whitespace"),o=function(){function e(e,t){this.line=e,this.column=t}var t=e.prototype;return t.offset=function(t){return new e(this.line,this.column+t)},e}();e.Position=o;var a=function(e,t,r){this.start=t,this.end=r,null!==e.sourceFile&&(this.source=e.sourceFile)};e.SourceLocation=a},"lval.js":function(e,t,r){var n=r("./tokentype"),i=r("./state"),o=r("./util"),a=r("./scopeflags"),s=i.Parser.prototype;s.toAssignable=function(e,t,r){if(this.options.ecmaVersion>=6&&e)switch(e.type){case"Identifier":this.inAsync&&"await"===e.name&&this.raise(e.start,"Cannot use 'await' as identifier inside an async function");break;case"ObjectPattern":case"ArrayPattern":case"RestElement":break;case"ObjectExpression":e.type="ObjectPattern",r&&this.checkPatternErrors(r,!0);for(var n=e.properties,i=Array.isArray(n),o=0,n=i?n:n[Symbol.iterator]();;){var a;if(i){if(o>=n.length)break;a=n[o++]}else{if(o=n.next(),o.done)break;a=o.value}var s=a;this.toAssignable(s,t),"RestElement"!==s.type||"ArrayPattern"!==s.argument.type&&"ObjectPattern"!==s.argument.type||this.raise(s.argument.start,"Unexpected token")}break;case"Property":"init"!==e.kind&&this.raise(e.key.start,"Object pattern can't contain getter or setter"),this.toAssignable(e.value,t);break;case"ArrayExpression":e.type="ArrayPattern",r&&this.checkPatternErrors(r,!0),this.toAssignableList(e.elements,t);break;case"SpreadElement":e.type="RestElement",this.toAssignable(e.argument,t),"AssignmentPattern"===e.argument.type&&this.raise(e.argument.start,"Rest elements cannot have a default value");break;case"AssignmentExpression":"="!==e.operator&&this.raise(e.left.end,"Only '=' operator can be used for specifying default value."),e.type="AssignmentPattern",delete e.operator,this.toAssignable(e.left,t);case"AssignmentPattern":break;case"ParenthesizedExpression":this.toAssignable(e.expression,t,r);break;case"MemberExpression":if(!t)break;default:this.raise(e.start,"Assigning to rvalue")}else r&&this.checkPatternErrors(r,!0);return e},s.toAssignableList=function(e,t){for(var r=e.length,n=0;n<r;n++){var i=e[n];i&&this.toAssignable(i,t)}if(r){var o=e[r-1];6===this.options.ecmaVersion&&t&&o&&"RestElement"===o.type&&"Identifier"!==o.argument.type&&this.unexpected(o.argument.start);
}return e},s.parseSpread=function(e){var t=this.startNode();return this.next(),t.argument=this.parseMaybeAssign(!1,e),this.finishNode(t,"SpreadElement")},s.parseRestBinding=function(){var e=this.startNode();return this.next(),6===this.options.ecmaVersion&&this.type!==n.types.name&&this.unexpected(),e.argument=this.parseBindingAtom(),this.finishNode(e,"RestElement")},s.parseBindingAtom=function(){if(this.options.ecmaVersion>=6)switch(this.type){case n.types.bracketL:var e=this.startNode();return this.next(),e.elements=this.parseBindingList(n.types.bracketR,!0,!0),this.finishNode(e,"ArrayPattern");case n.types.braceL:return this.parseObj(!0)}return this.parseIdent()},s.parseBindingList=function(e,t,r){for(var i=[],o=!0;!this.eat(e);)if(o?o=!1:this.expect(n.types.comma),t&&this.type===n.types.comma)i.push(null);else{if(r&&this.afterTrailingComma(e))break;if(this.type===n.types.ellipsis){var a=this.parseRestBinding();this.parseBindingListItem(a),i.push(a),this.type===n.types.comma&&this.raise(this.start,"Comma is not permitted after the rest element"),this.expect(e);break}var s=this.parseMaybeDefault(this.start,this.startLoc);this.parseBindingListItem(s),i.push(s)}return i},s.parseBindingListItem=function(e){return e},s.parseMaybeDefault=function(e,t,r){if(r=r||this.parseBindingAtom(),this.options.ecmaVersion<6||!this.eat(n.types.eq))return r;var i=this.startNodeAt(e,t);return i.left=r,i.right=this.parseMaybeAssign(),this.finishNode(i,"AssignmentPattern")},s.checkLVal=function(e,t,r){switch(void 0===t&&(t=a.BIND_NONE),e.type){case"Identifier":t===a.BIND_LEXICAL&&"let"===e.name&&this.raiseRecoverable(e.start,"let is disallowed as a lexically bound name"),this.strict&&this.reservedWordsStrictBind.test(e.name)&&this.raiseRecoverable(e.start,(t?"Binding ":"Assigning to ")+e.name+" in strict mode"),r&&((0,o.has)(r,e.name)&&this.raiseRecoverable(e.start,"Argument name clash"),r[e.name]=!0),t!==a.BIND_NONE&&t!==a.BIND_OUTSIDE&&this.declareName(e.name,t,e.start);break;case"MemberExpression":t&&this.raiseRecoverable(e.start,"Binding member expression");break;case"ObjectPattern":for(var n=e.properties,i=Array.isArray(n),s=0,n=i?n:n[Symbol.iterator]();;){var l;if(i){if(s>=n.length)break;l=n[s++]}else{if(s=n.next(),s.done)break;l=s.value}var u=l;this.checkLVal(u,t,r)}break;case"Property":this.checkLVal(e.value,t,r);break;case"ArrayPattern":for(var c=e.elements,d=Array.isArray(c),p=0,c=d?c:c[Symbol.iterator]();;){var f;if(d){if(p>=c.length)break;f=c[p++]}else{if(p=c.next(),p.done)break;f=p.value}var h=f;h&&this.checkLVal(h,t,r)}break;case"AssignmentPattern":this.checkLVal(e.left,t,r);break;case"RestElement":this.checkLVal(e.argument,t,r);break;case"ParenthesizedExpression":this.checkLVal(e.expression,t,r);break;default:this.raise(e.start,(t?"Binding":"Assigning to")+" rvalue")}}},"node.js":function(e,t,r){function n(e,t,r,n){return e.type=t,e.end=r,this.options.locations&&(e.loc.end=n),this.options.ranges&&(e.range[1]=r),e}e.__esModule=!0,e.Node=void 0;var i=r("./state"),o=r("./locutil"),a=function(e,t,r){this.type="",this.start=t,this.end=0,e.options.locations&&(this.loc=new o.SourceLocation(e,r)),e.options.directSourceFile&&(this.sourceFile=e.options.directSourceFile),e.options.ranges&&(this.range=[t,0])};e.Node=a;var s=i.Parser.prototype;s.startNode=function(){return new a(this,this.start,this.startLoc)},s.startNodeAt=function(e,t){return new a(this,e,t)},s.finishNode=function(e,t){return n.call(this,e,t,this.lastTokEnd,this.lastTokEndLoc)},s.finishNodeAt=function(e,t,r,i){return n.call(this,e,t,r,i)}},"options.js":function(e,t,r){function n(e){var t={};for(var r in s)t[r]=e&&(0,o.has)(e,r)?e[r]:s[r];if(t.ecmaVersion>=2015&&(t.ecmaVersion-=2009),null==t.allowReserved&&(t.allowReserved=t.ecmaVersion<5),(0,o.isArray)(t.onToken)){var n=t.onToken;t.onToken=function(e){return n.push(e)}}return(0,o.isArray)(t.onComment)&&(t.onComment=i(t,t.onComment)),t}function i(e,t){return function(r,n,i,o,s,l){var u={type:r?"Block":"Line",value:n,start:i,end:o};e.locations&&(u.loc=new a.SourceLocation(this,s,l)),e.ranges&&(u.range=[i,o]),t.push(u)}}e.__esModule=!0,e.defaultOptions=void 0,e.getOptions=n;var o=r("./util"),a=r("./locutil"),s=e.defaultOptions={ecmaVersion:9,sourceType:"script",onInsertedSemicolon:null,onTrailingComma:null,allowReserved:null,allowReturnOutsideFunction:!1,allowImportExportEverywhere:!1,allowAwaitOutsideFunction:!1,allowHashBang:!1,locations:!1,onToken:null,onComment:null,ranges:!1,program:null,sourceFile:null,directSourceFile:null,preserveParens:!1}},"parseutil.js":function(e,t,r){function n(){this.shorthandAssign=this.trailingComma=this.parenthesizedAssign=this.parenthesizedBind=this.doubleProto=-1}e.__esModule=!0,e.DestructuringErrors=n;var i=r("./tokentype"),o=r("./state"),a=r("./whitespace"),s=o.Parser.prototype,l=/^(?:'((?:\\.|[^'])*?)'|"((?:\\.|[^"])*?)")/;s.strictDirective=function(e){for(;;){a.skipWhiteSpace.lastIndex=e,e+=a.skipWhiteSpace.exec(this.input)[0].length;var t=l.exec(this.input.slice(e));if(!t)return!1;if("use strict"===(t[1]||t[2]))return!1;e+=t[0].length,a.skipWhiteSpace.lastIndex=e,e+=a.skipWhiteSpace.exec(this.input)[0].length,";"===this.input[e]&&e++}},s.eat=function(e){return this.type===e&&(this.next(),!0)},s.isContextual=function(e){return this.type===i.types.name&&this.value===e&&!this.containsEsc},s.eatContextual=function(e){return!!this.isContextual(e)&&(this.next(),!0)},s.expectContextual=function(e){this.eatContextual(e)||this.unexpected()},s.canInsertSemicolon=function(){return this.type===i.types.eof||this.type===i.types.braceR||a.lineBreak.test(this.input.slice(this.lastTokEnd,this.start))},s.insertSemicolon=function(){if(this.canInsertSemicolon())return this.options.onInsertedSemicolon&&this.options.onInsertedSemicolon(this.lastTokEnd,this.lastTokEndLoc),!0},s.semicolon=function(){this.eat(i.types.semi)||this.insertSemicolon()||this.unexpected()},s.afterTrailingComma=function(e,t){if(this.type===e)return this.options.onTrailingComma&&this.options.onTrailingComma(this.lastTokStart,this.lastTokStartLoc),t||this.next(),!0},s.expect=function(e){this.eat(e)||this.unexpected()},s.unexpected=function(e){this.raise(null!=e?e:this.start,"Unexpected token")},s.checkPatternErrors=function(e,t){if(e){e.trailingComma>-1&&this.raiseRecoverable(e.trailingComma,"Comma is not permitted after the rest element");var r=t?e.parenthesizedAssign:e.parenthesizedBind;r>-1&&this.raiseRecoverable(r,"Parenthesized pattern")}},s.checkExpressionErrors=function(e,t){if(!e)return!1;var r=e.shorthandAssign,n=e.doubleProto;return t?(r>=0&&this.raise(r,"Shorthand property assignments are valid only in destructuring patterns"),void(n>=0&&this.raiseRecoverable(n,"Redefinition of __proto__ property"))):r>=0||n>=0},s.checkYieldAwaitInDefaultParams=function(){this.yieldPos&&(!this.awaitPos||this.yieldPos<this.awaitPos)&&this.raise(this.yieldPos,"Yield expression cannot be a default value"),this.awaitPos&&this.raise(this.awaitPos,"Await expression cannot be a default value")},s.isSimpleAssignTarget=function(e){return"ParenthesizedExpression"===e.type?this.isSimpleAssignTarget(e.expression):"Identifier"===e.type||"MemberExpression"===e.type}},"regexp.js":function(e,t,r){function n(e){return e&&e.__esModule?e:{"default":e}}function i(e){return e<=65535?String.fromCharCode(e):(e-=65536,String.fromCharCode((e>>10)+55296,(1023&e)+56320))}function o(e){return 36===e||e>=40&&e<=43||46===e||63===e||e>=91&&e<=94||e>=123&&e<=125}function a(e){return(0,g.isIdentifierStart)(e,!0)||36===e||95===e}function s(e){return(0,g.isIdentifierChar)(e,!0)||36===e||95===e||8204===e||8205===e}function l(e){return e>=65&&e<=90||e>=97&&e<=122}function u(e){return e>=0&&e<=1114111}function c(e){return 100===e||68===e||115===e||83===e||119===e||87===e}function d(e){return l(e)||95===e}function p(e){return d(e)||f(e)}function f(e){return e>=48&&e<=57}function h(e){return e>=48&&e<=57||e>=65&&e<=70||e>=97&&e<=102}function m(e){return e>=65&&e<=70?10+(e-65):e>=97&&e<=102?10+(e-97):e-48}function v(e){return e>=48&&e<=55}e.__esModule=!0,e.RegExpValidationState=void 0;var g=r("./identifier.js"),y=r("./state.js"),E=r("./unicode-property-data.js"),_=n(E),S=r("./util.js"),b=y.Parser.prototype,w=function(){function e(e){this.parser=e,this.validFlags="gim"+(e.options.ecmaVersion>=6?"uy":"")+(e.options.ecmaVersion>=9?"s":""),this.unicodeProperties=_["default"][e.options.ecmaVersion>=11?11:e.options.ecmaVersion],this.source="",this.flags="",this.start=0,this.switchU=!1,this.switchN=!1,this.pos=0,this.lastIntValue=0,this.lastStringValue="",this.lastAssertionIsQuantifiable=!1,this.numCapturingParens=0,this.maxBackReference=0,this.groupNames=[],this.backReferenceNames=[]}var t=e.prototype;return t.reset=function(e,t,r){var n=r.indexOf("u")!==-1;this.start=0|e,this.source=t+"",this.flags=r,this.switchU=n&&this.parser.options.ecmaVersion>=6,this.switchN=n&&this.parser.options.ecmaVersion>=9},t.raise=function(e){this.parser.raiseRecoverable(this.start,"Invalid regular expression: /"+this.source+"/: "+e)},t.at=function(e){var t=this.source,r=t.length;if(e>=r)return-1;var n=t.charCodeAt(e);return!this.switchU||n<=55295||n>=57344||e+1>=r?n:(n<<10)+t.charCodeAt(e+1)-56613888},t.nextIndex=function(e){var t=this.source,r=t.length;if(e>=r)return r;var n=t.charCodeAt(e);return!this.switchU||n<=55295||n>=57344||e+1>=r?e+1:e+2},t.current=function(){return this.at(this.pos)},t.lookahead=function(){return this.at(this.nextIndex(this.pos))},t.advance=function(){this.pos=this.nextIndex(this.pos)},t.eat=function(e){return this.current()===e&&(this.advance(),!0)},e}();e.RegExpValidationState=w,b.validateRegExpFlags=function(e){for(var t=e.validFlags,r=e.flags,n=0;n<r.length;n++){var i=r.charAt(n);t.indexOf(i)===-1&&this.raise(e.start,"Invalid regular expression flag"),r.indexOf(i,n+1)>-1&&this.raise(e.start,"Duplicate regular expression flag")}},b.validateRegExpPattern=function(e){this.regexp_pattern(e),!e.switchN&&this.options.ecmaVersion>=9&&e.groupNames.length>0&&(e.switchN=!0,this.regexp_pattern(e))},b.regexp_pattern=function(e){e.pos=0,e.lastIntValue=0,e.lastStringValue="",e.lastAssertionIsQuantifiable=!1,e.numCapturingParens=0,e.maxBackReference=0,e.groupNames.length=0,e.backReferenceNames.length=0,this.regexp_disjunction(e),e.pos!==e.source.length&&(e.eat(41)&&e.raise("Unmatched ')'"),(e.eat(93)||e.eat(125))&&e.raise("Lone quantifier brackets")),e.maxBackReference>e.numCapturingParens&&e.raise("Invalid escape");for(var t=e.backReferenceNames,r=Array.isArray(t),n=0,t=r?t:t[Symbol.iterator]();;){var i;if(r){if(n>=t.length)break;i=t[n++]}else{if(n=t.next(),n.done)break;i=n.value}var o=i;e.groupNames.indexOf(o)===-1&&e.raise("Invalid named capture referenced")}},b.regexp_disjunction=function(e){for(this.regexp_alternative(e);e.eat(124);)this.regexp_alternative(e);this.regexp_eatQuantifier(e,!0)&&e.raise("Nothing to repeat"),e.eat(123)&&e.raise("Lone quantifier brackets")},b.regexp_alternative=function(e){for(;e.pos<e.source.length&&this.regexp_eatTerm(e););},b.regexp_eatTerm=function(e){return this.regexp_eatAssertion(e)?(e.lastAssertionIsQuantifiable&&this.regexp_eatQuantifier(e)&&e.switchU&&e.raise("Invalid quantifier"),!0):!(e.switchU?!this.regexp_eatAtom(e):!this.regexp_eatExtendedAtom(e))&&(this.regexp_eatQuantifier(e),!0)},b.regexp_eatAssertion=function(e){var t=e.pos;if(e.lastAssertionIsQuantifiable=!1,e.eat(94)||e.eat(36))return!0;if(e.eat(92)){if(e.eat(66)||e.eat(98))return!0;e.pos=t}if(e.eat(40)&&e.eat(63)){var r=!1;if(this.options.ecmaVersion>=9&&(r=e.eat(60)),e.eat(61)||e.eat(33))return this.regexp_disjunction(e),e.eat(41)||e.raise("Unterminated group"),e.lastAssertionIsQuantifiable=!r,!0}return e.pos=t,!1},b.regexp_eatQuantifier=function(e,t){return void 0===t&&(t=!1),!!this.regexp_eatQuantifierPrefix(e,t)&&(e.eat(63),!0)},b.regexp_eatQuantifierPrefix=function(e,t){return e.eat(42)||e.eat(43)||e.eat(63)||this.regexp_eatBracedQuantifier(e,t)},b.regexp_eatBracedQuantifier=function(e,t){var r=e.pos;if(e.eat(123)){var n=0,i=-1;if(this.regexp_eatDecimalDigits(e)&&(n=e.lastIntValue,e.eat(44)&&this.regexp_eatDecimalDigits(e)&&(i=e.lastIntValue),e.eat(125)))return i!==-1&&i<n&&!t&&e.raise("numbers out of order in {} quantifier"),!0;e.switchU&&!t&&e.raise("Incomplete quantifier"),e.pos=r}return!1},b.regexp_eatAtom=function(e){return this.regexp_eatPatternCharacters(e)||e.eat(46)||this.regexp_eatReverseSolidusAtomEscape(e)||this.regexp_eatCharacterClass(e)||this.regexp_eatUncapturingGroup(e)||this.regexp_eatCapturingGroup(e)},b.regexp_eatReverseSolidusAtomEscape=function(e){var t=e.pos;if(e.eat(92)){if(this.regexp_eatAtomEscape(e))return!0;e.pos=t}return!1},b.regexp_eatUncapturingGroup=function(e){var t=e.pos;if(e.eat(40)){if(e.eat(63)&&e.eat(58)){if(this.regexp_disjunction(e),e.eat(41))return!0;e.raise("Unterminated group")}e.pos=t}return!1},b.regexp_eatCapturingGroup=function(e){if(e.eat(40)){if(this.options.ecmaVersion>=9?this.regexp_groupSpecifier(e):63===e.current()&&e.raise("Invalid group"),this.regexp_disjunction(e),e.eat(41))return e.numCapturingParens+=1,!0;e.raise("Unterminated group")}return!1},b.regexp_eatExtendedAtom=function(e){return e.eat(46)||this.regexp_eatReverseSolidusAtomEscape(e)||this.regexp_eatCharacterClass(e)||this.regexp_eatUncapturingGroup(e)||this.regexp_eatCapturingGroup(e)||this.regexp_eatInvalidBracedQuantifier(e)||this.regexp_eatExtendedPatternCharacter(e)},b.regexp_eatInvalidBracedQuantifier=function(e){return this.regexp_eatBracedQuantifier(e,!0)&&e.raise("Nothing to repeat"),!1},b.regexp_eatSyntaxCharacter=function(e){var t=e.current();return!!o(t)&&(e.lastIntValue=t,e.advance(),!0)},b.regexp_eatPatternCharacters=function(e){for(var t=e.pos,r=0;(r=e.current())!==-1&&!o(r);)e.advance();return e.pos!==t},b.regexp_eatExtendedPatternCharacter=function(e){var t=e.current();return!(t===-1||36===t||t>=40&&t<=43||46===t||63===t||91===t||94===t||124===t)&&(e.advance(),!0)},b.regexp_groupSpecifier=function(e){if(e.eat(63)){if(this.regexp_eatGroupName(e))return e.groupNames.indexOf(e.lastStringValue)!==-1&&e.raise("Duplicate capture group name"),void e.groupNames.push(e.lastStringValue);e.raise("Invalid group")}},b.regexp_eatGroupName=function(e){if(e.lastStringValue="",e.eat(60)){if(this.regexp_eatRegExpIdentifierName(e)&&e.eat(62))return!0;e.raise("Invalid capture group name")}return!1},b.regexp_eatRegExpIdentifierName=function(e){if(e.lastStringValue="",this.regexp_eatRegExpIdentifierStart(e)){for(e.lastStringValue+=i(e.lastIntValue);this.regexp_eatRegExpIdentifierPart(e);)e.lastStringValue+=i(e.lastIntValue);return!0}return!1},b.regexp_eatRegExpIdentifierStart=function(e){var t=e.pos,r=e.current();return e.advance(),92===r&&this.regexp_eatRegExpUnicodeEscapeSequence(e)&&(r=e.lastIntValue),a(r)?(e.lastIntValue=r,!0):(e.pos=t,!1)},b.regexp_eatRegExpIdentifierPart=function(e){var t=e.pos,r=e.current();return e.advance(),92===r&&this.regexp_eatRegExpUnicodeEscapeSequence(e)&&(r=e.lastIntValue),s(r)?(e.lastIntValue=r,!0):(e.pos=t,!1)},b.regexp_eatAtomEscape=function(e){return!!(this.regexp_eatBackReference(e)||this.regexp_eatCharacterClassEscape(e)||this.regexp_eatCharacterEscape(e)||e.switchN&&this.regexp_eatKGroupName(e))||(e.switchU&&(99===e.current()&&e.raise("Invalid unicode escape"),e.raise("Invalid escape")),!1)},b.regexp_eatBackReference=function(e){var t=e.pos;if(this.regexp_eatDecimalEscape(e)){var r=e.lastIntValue;if(e.switchU)return r>e.maxBackReference&&(e.maxBackReference=r),!0;if(r<=e.numCapturingParens)return!0;e.pos=t}return!1},b.regexp_eatKGroupName=function(e){if(e.eat(107)){if(this.regexp_eatGroupName(e))return e.backReferenceNames.push(e.lastStringValue),!0;e.raise("Invalid named reference")}return!1},b.regexp_eatCharacterEscape=function(e){return this.regexp_eatControlEscape(e)||this.regexp_eatCControlLetter(e)||this.regexp_eatZero(e)||this.regexp_eatHexEscapeSequence(e)||this.regexp_eatRegExpUnicodeEscapeSequence(e)||!e.switchU&&this.regexp_eatLegacyOctalEscapeSequence(e)||this.regexp_eatIdentityEscape(e)},b.regexp_eatCControlLetter=function(e){var t=e.pos;if(e.eat(99)){if(this.regexp_eatControlLetter(e))return!0;e.pos=t}return!1},b.regexp_eatZero=function(e){return 48===e.current()&&!f(e.lookahead())&&(e.lastIntValue=0,e.advance(),!0)},b.regexp_eatControlEscape=function(e){var t=e.current();return 116===t?(e.lastIntValue=9,e.advance(),!0):110===t?(e.lastIntValue=10,e.advance(),!0):118===t?(e.lastIntValue=11,e.advance(),!0):102===t?(e.lastIntValue=12,e.advance(),!0):114===t&&(e.lastIntValue=13,e.advance(),!0)},b.regexp_eatControlLetter=function(e){var t=e.current();return!!l(t)&&(e.lastIntValue=t%32,e.advance(),!0)},b.regexp_eatRegExpUnicodeEscapeSequence=function(e){var t=e.pos;if(e.eat(117)){if(this.regexp_eatFixedHexDigits(e,4)){var r=e.lastIntValue;if(e.switchU&&r>=55296&&r<=56319){var n=e.pos;if(e.eat(92)&&e.eat(117)&&this.regexp_eatFixedHexDigits(e,4)){var i=e.lastIntValue;if(i>=56320&&i<=57343)return e.lastIntValue=1024*(r-55296)+(i-56320)+65536,!0}e.pos=n,e.lastIntValue=r}return!0}if(e.switchU&&e.eat(123)&&this.regexp_eatHexDigits(e)&&e.eat(125)&&u(e.lastIntValue))return!0;e.switchU&&e.raise("Invalid unicode escape"),e.pos=t}return!1},b.regexp_eatIdentityEscape=function(e){if(e.switchU)return!!this.regexp_eatSyntaxCharacter(e)||!!e.eat(47)&&(e.lastIntValue=47,!0);var t=e.current();return!(99===t||e.switchN&&107===t)&&(e.lastIntValue=t,e.advance(),!0)},b.regexp_eatDecimalEscape=function(e){e.lastIntValue=0;var t=e.current();if(t>=49&&t<=57){do e.lastIntValue=10*e.lastIntValue+(t-48),e.advance();while((t=e.current())>=48&&t<=57);return!0}return!1},b.regexp_eatCharacterClassEscape=function(e){var t=e.current();if(c(t))return e.lastIntValue=-1,e.advance(),!0;if(e.switchU&&this.options.ecmaVersion>=9&&(80===t||112===t)){if(e.lastIntValue=-1,e.advance(),e.eat(123)&&this.regexp_eatUnicodePropertyValueExpression(e)&&e.eat(125))return!0;e.raise("Invalid property name")}return!1},b.regexp_eatUnicodePropertyValueExpression=function(e){var t=e.pos;if(this.regexp_eatUnicodePropertyName(e)&&e.eat(61)){var r=e.lastStringValue;if(this.regexp_eatUnicodePropertyValue(e)){var n=e.lastStringValue;return this.regexp_validateUnicodePropertyNameAndValue(e,r,n),!0}}if(e.pos=t,this.regexp_eatLoneUnicodePropertyNameOrValue(e)){var i=e.lastStringValue;return this.regexp_validateUnicodePropertyNameOrValue(e,i),!0}return!1},b.regexp_validateUnicodePropertyNameAndValue=function(e,t,r){(0,S.has)(e.unicodeProperties.nonBinary,t)||e.raise("Invalid property name"),e.unicodeProperties.nonBinary[t].test(r)||e.raise("Invalid property value")},b.regexp_validateUnicodePropertyNameOrValue=function(e,t){e.unicodeProperties.binary.test(t)||e.raise("Invalid property name")},b.regexp_eatUnicodePropertyName=function(e){var t=0;for(e.lastStringValue="";d(t=e.current());)e.lastStringValue+=i(t),e.advance();return""!==e.lastStringValue},b.regexp_eatUnicodePropertyValue=function(e){var t=0;for(e.lastStringValue="";p(t=e.current());)e.lastStringValue+=i(t),e.advance();return""!==e.lastStringValue},b.regexp_eatLoneUnicodePropertyNameOrValue=function(e){return this.regexp_eatUnicodePropertyValue(e)},b.regexp_eatCharacterClass=function(e){if(e.eat(91)){if(e.eat(94),this.regexp_classRanges(e),e.eat(93))return!0;e.raise("Unterminated character class")}return!1},b.regexp_classRanges=function(e){for(;this.regexp_eatClassAtom(e);){var t=e.lastIntValue;if(e.eat(45)&&this.regexp_eatClassAtom(e)){var r=e.lastIntValue;!e.switchU||t!==-1&&r!==-1||e.raise("Invalid character class"),t!==-1&&r!==-1&&t>r&&e.raise("Range out of order in character class")}}},b.regexp_eatClassAtom=function(e){var t=e.pos;if(e.eat(92)){if(this.regexp_eatClassEscape(e))return!0;if(e.switchU){var r=e.current();(99===r||v(r))&&e.raise("Invalid class escape"),e.raise("Invalid escape")}e.pos=t}var n=e.current();return 93!==n&&(e.lastIntValue=n,e.advance(),!0)},b.regexp_eatClassEscape=function(e){var t=e.pos;if(e.eat(98))return e.lastIntValue=8,!0;if(e.switchU&&e.eat(45))return e.lastIntValue=45,!0;if(!e.switchU&&e.eat(99)){if(this.regexp_eatClassControlLetter(e))return!0;e.pos=t}return this.regexp_eatCharacterClassEscape(e)||this.regexp_eatCharacterEscape(e)},b.regexp_eatClassControlLetter=function(e){var t=e.current();return!(!f(t)&&95!==t)&&(e.lastIntValue=t%32,e.advance(),!0)},b.regexp_eatHexEscapeSequence=function(e){var t=e.pos;if(e.eat(120)){if(this.regexp_eatFixedHexDigits(e,2))return!0;e.switchU&&e.raise("Invalid escape"),e.pos=t}return!1},b.regexp_eatDecimalDigits=function(e){var t=e.pos,r=0;for(e.lastIntValue=0;f(r=e.current());)e.lastIntValue=10*e.lastIntValue+(r-48),e.advance();return e.pos!==t},b.regexp_eatHexDigits=function(e){var t=e.pos,r=0;for(e.lastIntValue=0;h(r=e.current());)e.lastIntValue=16*e.lastIntValue+m(r),e.advance();return e.pos!==t},b.regexp_eatLegacyOctalEscapeSequence=function(e){if(this.regexp_eatOctalDigit(e)){var t=e.lastIntValue;if(this.regexp_eatOctalDigit(e)){var r=e.lastIntValue;t<=3&&this.regexp_eatOctalDigit(e)?e.lastIntValue=64*t+8*r+e.lastIntValue:e.lastIntValue=8*t+r}else e.lastIntValue=t;return!0}return!1},b.regexp_eatOctalDigit=function(e){var t=e.current();return v(t)?(e.lastIntValue=t-48,e.advance(),!0):(e.lastIntValue=0,!1)},b.regexp_eatFixedHexDigits=function(e,t){var r=e.pos;e.lastIntValue=0;for(var n=0;n<t;++n){var i=e.current();if(!h(i))return e.pos=r,!1;e.lastIntValue=16*e.lastIntValue+m(i),e.advance()}return!0}},"scope.js":function(e,t,r){var n=r("./state"),i=r("./scopeflags"),o=n.Parser.prototype,a=function(e){this.flags=e,this["var"]=[],this.lexical=[],this.functions=[]};o.enterScope=function(e){this.scopeStack.push(new a(e))},o.exitScope=function(){this.scopeStack.pop()},o.treatFunctionsAsVarInScope=function(e){return e.flags&i.SCOPE_FUNCTION||!this.inModule&&e.flags&i.SCOPE_TOP},o.declareName=function(e,t,r){var n=!1;if(t===i.BIND_LEXICAL){var o=this.currentScope();n=o.lexical.indexOf(e)>-1||o.functions.indexOf(e)>-1||o["var"].indexOf(e)>-1,o.lexical.push(e),this.inModule&&o.flags&i.SCOPE_TOP&&delete this.undefinedExports[e]}else if(t===i.BIND_SIMPLE_CATCH){var a=this.currentScope();a.lexical.push(e)}else if(t===i.BIND_FUNCTION){var s=this.currentScope();n=this.treatFunctionsAsVar?s.lexical.indexOf(e)>-1:s.lexical.indexOf(e)>-1||s["var"].indexOf(e)>-1,s.functions.push(e)}else for(var l=this.scopeStack.length-1;l>=0;--l){var u=this.scopeStack[l];if(u.lexical.indexOf(e)>-1&&!(u.flags&i.SCOPE_SIMPLE_CATCH&&u.lexical[0]===e)||!this.treatFunctionsAsVarInScope(u)&&u.functions.indexOf(e)>-1){n=!0;break}if(u["var"].push(e),this.inModule&&u.flags&i.SCOPE_TOP&&delete this.undefinedExports[e],u.flags&i.SCOPE_VAR)break}n&&this.raiseRecoverable(r,"Identifier '"+e+"' has already been declared")},o.checkLocalExport=function(e){this.scopeStack[0].lexical.indexOf(e.name)===-1&&this.scopeStack[0]["var"].indexOf(e.name)===-1&&(this.undefinedExports[e.name]=e)},o.currentScope=function(){return this.scopeStack[this.scopeStack.length-1]},o.currentVarScope=function(){for(var e=this.scopeStack.length-1;;e--){var t=this.scopeStack[e];if(t.flags&i.SCOPE_VAR)return t}},o.currentThisScope=function(){for(var e=this.scopeStack.length-1;;e--){var t=this.scopeStack[e];if(t.flags&i.SCOPE_VAR&&!(t.flags&i.SCOPE_ARROW))return t}}},"scopeflags.js":function(e,t,r){function n(e,t){return o|(e?a:0)|(t?s:0)}e.__esModule=!0,e.functionFlags=n;var i=e.SCOPE_TOP=1,o=e.SCOPE_FUNCTION=2,a=(e.SCOPE_VAR=i|o,e.SCOPE_ASYNC=4),s=e.SCOPE_GENERATOR=8;e.SCOPE_ARROW=16,e.SCOPE_SIMPLE_CATCH=32,e.SCOPE_SUPER=64,e.SCOPE_DIRECT_SUPER=128,e.BIND_NONE=0,e.BIND_VAR=1,e.BIND_LEXICAL=2,e.BIND_FUNCTION=3,e.BIND_SIMPLE_CATCH=4,e.BIND_OUTSIDE=5},"state.js":function(e,t,r){function n(e,t){for(var r=0;r<t.length;r++){var n=t[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,n.key,n)}}function i(e,t,r){return t&&n(e.prototype,t),r&&n(e,r),e}e.__esModule=!0,e.Parser=void 0;var o=r("./identifier"),a=r("./tokentype"),s=r("./whitespace"),l=r("./options"),u=r("./util"),c=r("./scopeflags"),d=function(){function e(e,t,r){this.options=e=(0,l.getOptions)(e),this.sourceFile=e.sourceFile,this.keywords=(0,u.wordsRegexp)(o.keywords[e.ecmaVersion>=6?6:5]);var n="";if(e.allowReserved!==!0){for(var i=e.ecmaVersion;!(n=o.reservedWords[i]);i--);"module"===e.sourceType&&(n+=" await")}this.reservedWords=(0,u.wordsRegexp)(n);var d=(n?n+" ":"")+o.reservedWords.strict;this.reservedWordsStrict=(0,u.wordsRegexp)(d),this.reservedWordsStrictBind=(0,u.wordsRegexp)(d+" "+o.reservedWords.strictBind),this.input=String(t),this.containsEsc=!1,r?(this.pos=r,this.lineStart=this.input.lastIndexOf("\n",r-1)+1,this.curLine=this.input.slice(0,this.lineStart).split(s.lineBreak).length):(this.pos=this.lineStart=0,this.curLine=1),this.type=a.types.eof,this.value=null,this.start=this.end=this.pos,this.startLoc=this.endLoc=this.curPosition(),this.lastTokEndLoc=this.lastTokStartLoc=null,this.lastTokStart=this.lastTokEnd=this.pos,this.context=this.initialContext(),this.exprAllowed=!0,this.inModule="module"===e.sourceType,this.strict=this.inModule||this.strictDirective(this.pos),this.potentialArrowAt=-1,this.yieldPos=this.awaitPos=this.awaitIdentPos=0,this.labels=[],this.undefinedExports={},0===this.pos&&e.allowHashBang&&"#!"===this.input.slice(0,2)&&this.skipLineComment(2),this.scopeStack=[],this.enterScope(c.SCOPE_TOP),this.regexpState=null}var t=e.prototype;return t.parse=function(){var e=this.options.program||this.startNode();return this.nextToken(),this.parseTopLevel(e)},t.inNonArrowFunction=function(){return(this.currentThisScope().flags&c.SCOPE_FUNCTION)>0},e.extend=function(){for(var e=this,t=arguments.length,r=new Array(t),n=0;n<t;n++)r[n]=arguments[n];for(var i=0;i<r.length;i++)e=r[i](e);return e},e.parse=function(e,t){return new this(t,e).parse()},e.parseExpressionAt=function(e,t,r){var n=new this(r,e,t);return n.nextToken(),n.parseExpression()},e.tokenizer=function(e,t){return new this(t,e)},i(e,[{key:"inFunction",get:function(){return(this.currentVarScope().flags&c.SCOPE_FUNCTION)>0}},{key:"inGenerator",get:function(){return(this.currentVarScope().flags&c.SCOPE_GENERATOR)>0}},{key:"inAsync",get:function(){return(this.currentVarScope().flags&c.SCOPE_ASYNC)>0}},{key:"allowSuper",get:function(){return(this.currentThisScope().flags&c.SCOPE_SUPER)>0}},{key:"allowDirectSuper",get:function(){return(this.currentThisScope().flags&c.SCOPE_DIRECT_SUPER)>0}},{key:"treatFunctionsAsVar",get:function(){return this.treatFunctionsAsVarInScope(this.currentScope())}}]),e}();e.Parser=d},"statement.js":function(e,t,r){var n=r("./tokentype"),i=r("./state"),o=r("./whitespace"),a=r("./identifier"),s=r("./util"),l=r("./parseutil"),u=r("./scopeflags"),c=i.Parser.prototype;c.parseTopLevel=function(e){var t={};for(e.body||(e.body=[]);this.type!==n.types.eof;){var r=this.parseStatement(null,!0,t);e.body.push(r)}if(this.inModule)for(var i=Object.keys(this.undefinedExports),o=Array.isArray(i),a=0,i=o?i:i[Symbol.iterator]();;){var s;if(o){if(a>=i.length)break;s=i[a++]}else{if(a=i.next(),a.done)break;s=a.value}var l=s;this.raiseRecoverable(this.undefinedExports[l].start,"Export '"+l+"' is not defined")}return this.adaptDirectivePrologue(e.body),this.next(),this.options.ecmaVersion>=6&&(e.sourceType=this.options.sourceType),this.finishNode(e,"Program")};var d={kind:"loop"},p={kind:"switch"};c.isLet=function(e){if(this.options.ecmaVersion<6||!this.isContextual("let"))return!1;o.skipWhiteSpace.lastIndex=this.pos;var t=o.skipWhiteSpace.exec(this.input),r=this.pos+t[0].length,n=this.input.charCodeAt(r);if(91===n)return!0;if(e)return!1;if(123===n)return!0;if((0,a.isIdentifierStart)(n,!0)){for(var i=r+1;(0,a.isIdentifierChar)(this.input.charCodeAt(i),!0);)++i;var s=this.input.slice(r,i);if(!a.keywordRelationalOperator.test(s))return!0}return!1},c.isAsyncFunction=function(){if(this.options.ecmaVersion<8||!this.isContextual("async"))return!1;o.skipWhiteSpace.lastIndex=this.pos;var e=o.skipWhiteSpace.exec(this.input),t=this.pos+e[0].length;return!(o.lineBreak.test(this.input.slice(this.pos,t))||"function"!==this.input.slice(t,t+8)||t+8!==this.input.length&&(0,a.isIdentifierChar)(this.input.charAt(t+8)))},c.parseStatement=function(e,t,r){var i,a=this.type,s=this.startNode();switch(this.isLet(e)&&(a=n.types._var,i="let"),a){case n.types._break:case n.types._continue:return this.parseBreakContinueStatement(s,a.keyword);case n.types._debugger:return this.parseDebuggerStatement(s);case n.types._do:return this.parseDoStatement(s);case n.types._for:return this.parseForStatement(s);case n.types._function:return e&&(this.strict||"if"!==e&&"label"!==e)&&this.options.ecmaVersion>=6&&this.unexpected(),this.parseFunctionStatement(s,!1,!e);case n.types._class:return e&&this.unexpected(),this.parseClass(s,!0);case n.types._if:return this.parseIfStatement(s);case n.types._return:return this.parseReturnStatement(s);case n.types._switch:return this.parseSwitchStatement(s);case n.types._throw:return this.parseThrowStatement(s);case n.types._try:return this.parseTryStatement(s);case n.types._const:case n.types._var:return i=i||this.value,e&&"var"!==i&&this.unexpected(),this.parseVarStatement(s,i);case n.types._while:return this.parseWhileStatement(s);case n.types._with:return this.parseWithStatement(s);case n.types.braceL:return this.parseBlock(!0,s);case n.types.semi:return this.parseEmptyStatement(s);case n.types._export:case n.types._import:if(this.options.ecmaVersion>10&&a===n.types._import){o.skipWhiteSpace.lastIndex=this.pos;var l=o.skipWhiteSpace.exec(this.input),u=this.pos+l[0].length,c=this.input.charCodeAt(u);if(40===c)return this.parseExpressionStatement(s,this.parseExpression())}return this.options.allowImportExportEverywhere||(t||this.raise(this.start,"'import' and 'export' may only appear at the top level"),this.inModule||this.raise(this.start,"'import' and 'export' may appear only with 'sourceType: module'")),a===n.types._import?this.parseImport(s):this.parseExport(s,r);default:if(this.isAsyncFunction())return e&&this.unexpected(),this.next(),this.parseFunctionStatement(s,!0,!e);var d=this.value,p=this.parseExpression();return a===n.types.name&&"Identifier"===p.type&&this.eat(n.types.colon)?this.parseLabeledStatement(s,d,p,e):this.parseExpressionStatement(s,p)}},c.parseBreakContinueStatement=function(e,t){var r="break"===t;this.next(),this.eat(n.types.semi)||this.insertSemicolon()?e.label=null:this.type!==n.types.name?this.unexpected():(e.label=this.parseIdent(),this.semicolon());for(var i=0;i<this.labels.length;++i){var o=this.labels[i];if(null==e.label||o.name===e.label.name){if(null!=o.kind&&(r||"loop"===o.kind))break;if(e.label&&r)break}}return i===this.labels.length&&this.raise(e.start,"Unsyntactic "+t),this.finishNode(e,r?"BreakStatement":"ContinueStatement")},c.parseDebuggerStatement=function(e){return this.next(),this.semicolon(),this.finishNode(e,"DebuggerStatement")},c.parseDoStatement=function(e){return this.next(),this.labels.push(d),e.body=this.parseStatement("do"),this.labels.pop(),this.expect(n.types._while),e.test=this.parseParenExpression(),this.options.ecmaVersion>=6?this.eat(n.types.semi):this.semicolon(),this.finishNode(e,"DoWhileStatement")},c.parseForStatement=function(e){this.next();var t=this.options.ecmaVersion>=9&&(this.inAsync||!this.inFunction&&this.options.allowAwaitOutsideFunction)&&this.eatContextual("await")?this.lastTokStart:-1;if(this.labels.push(d),this.enterScope(0),this.expect(n.types.parenL),this.type===n.types.semi)return t>-1&&this.unexpected(t),this.parseFor(e,null);var r=this.isLet();if(this.type===n.types._var||this.type===n.types._const||r){var i=this.startNode(),o=r?"let":this.value;return this.next(),this.parseVar(i,!0,o),this.finishNode(i,"VariableDeclaration"),(this.type===n.types._in||this.options.ecmaVersion>=6&&this.isContextual("of"))&&1===i.declarations.length?(this.options.ecmaVersion>=9&&(this.type===n.types._in?t>-1&&this.unexpected(t):e.await=t>-1),this.parseForIn(e,i)):(t>-1&&this.unexpected(t),this.parseFor(e,i))}var a=new l.DestructuringErrors,s=this.parseExpression(!0,a);
return this.type===n.types._in||this.options.ecmaVersion>=6&&this.isContextual("of")?(this.options.ecmaVersion>=9&&(this.type===n.types._in?t>-1&&this.unexpected(t):e.await=t>-1),this.toAssignable(s,!1,a),this.checkLVal(s),this.parseForIn(e,s)):(this.checkExpressionErrors(a,!0),t>-1&&this.unexpected(t),this.parseFor(e,s))},c.parseFunctionStatement=function(e,t,r){return this.next(),this.parseFunction(e,h|(r?0:m),!1,t)},c.parseIfStatement=function(e){return this.next(),e.test=this.parseParenExpression(),e.consequent=this.parseStatement("if"),e.alternate=this.eat(n.types._else)?this.parseStatement("if"):null,this.finishNode(e,"IfStatement")},c.parseReturnStatement=function(e){return this.inFunction||this.options.allowReturnOutsideFunction||this.raise(this.start,"'return' outside of function"),this.next(),this.eat(n.types.semi)||this.insertSemicolon()?e.argument=null:(e.argument=this.parseExpression(),this.semicolon()),this.finishNode(e,"ReturnStatement")},c.parseSwitchStatement=function(e){this.next(),e.discriminant=this.parseParenExpression(),e.cases=[],this.expect(n.types.braceL),this.labels.push(p),this.enterScope(0);for(var t,r=!1;this.type!==n.types.braceR;)if(this.type===n.types._case||this.type===n.types._default){var i=this.type===n.types._case;t&&this.finishNode(t,"SwitchCase"),e.cases.push(t=this.startNode()),t.consequent=[],this.next(),i?t.test=this.parseExpression():(r&&this.raiseRecoverable(this.lastTokStart,"Multiple default clauses"),r=!0,t.test=null),this.expect(n.types.colon)}else t||this.unexpected(),t.consequent.push(this.parseStatement(null));return this.exitScope(),t&&this.finishNode(t,"SwitchCase"),this.next(),this.labels.pop(),this.finishNode(e,"SwitchStatement")},c.parseThrowStatement=function(e){return this.next(),o.lineBreak.test(this.input.slice(this.lastTokEnd,this.start))&&this.raise(this.lastTokEnd,"Illegal newline after throw"),e.argument=this.parseExpression(),this.semicolon(),this.finishNode(e,"ThrowStatement")};var f=[];c.parseTryStatement=function(e){if(this.next(),e.block=this.parseBlock(),e.handler=null,this.type===n.types._catch){var t=this.startNode();if(this.next(),this.eat(n.types.parenL)){t.param=this.parseBindingAtom();var r="Identifier"===t.param.type;this.enterScope(r?u.SCOPE_SIMPLE_CATCH:0),this.checkLVal(t.param,r?u.BIND_SIMPLE_CATCH:u.BIND_LEXICAL),this.expect(n.types.parenR)}else this.options.ecmaVersion<10&&this.unexpected(),t.param=null,this.enterScope(0);t.body=this.parseBlock(!1),this.exitScope(),e.handler=this.finishNode(t,"CatchClause")}return e.finalizer=this.eat(n.types._finally)?this.parseBlock():null,e.handler||e.finalizer||this.raise(e.start,"Missing catch or finally clause"),this.finishNode(e,"TryStatement")},c.parseVarStatement=function(e,t){return this.next(),this.parseVar(e,!1,t),this.semicolon(),this.finishNode(e,"VariableDeclaration")},c.parseWhileStatement=function(e){return this.next(),e.test=this.parseParenExpression(),this.labels.push(d),e.body=this.parseStatement("while"),this.labels.pop(),this.finishNode(e,"WhileStatement")},c.parseWithStatement=function(e){return this.strict&&this.raise(this.start,"'with' in strict mode"),this.next(),e.object=this.parseParenExpression(),e.body=this.parseStatement("with"),this.finishNode(e,"WithStatement")},c.parseEmptyStatement=function(e){return this.next(),this.finishNode(e,"EmptyStatement")},c.parseLabeledStatement=function(e,t,r,i){for(var o=this.labels,a=Array.isArray(o),s=0,o=a?o:o[Symbol.iterator]();;){var l;if(a){if(s>=o.length)break;l=o[s++]}else{if(s=o.next(),s.done)break;l=s.value}var u=l;u.name===t&&this.raise(r.start,"Label '"+t+"' is already declared")}for(var c=this.type.isLoop?"loop":this.type===n.types._switch?"switch":null,d=this.labels.length-1;d>=0;d--){var p=this.labels[d];if(p.statementStart!==e.start)break;p.statementStart=this.start,p.kind=c}return this.labels.push({name:t,kind:c,statementStart:this.start}),e.body=this.parseStatement(i?i.indexOf("label")===-1?i+"label":i:"label"),this.labels.pop(),e.label=r,this.finishNode(e,"LabeledStatement")},c.parseExpressionStatement=function(e,t){return e.expression=t,this.semicolon(),this.finishNode(e,"ExpressionStatement")},c.parseBlock=function(e,t){for(void 0===e&&(e=!0),void 0===t&&(t=this.startNode()),t.body=[],this.expect(n.types.braceL),e&&this.enterScope(0);!this.eat(n.types.braceR);){var r=this.parseStatement(null);t.body.push(r)}return e&&this.exitScope(),this.finishNode(t,"BlockStatement")},c.parseFor=function(e,t){return e.init=t,this.expect(n.types.semi),e.test=this.type===n.types.semi?null:this.parseExpression(),this.expect(n.types.semi),e.update=this.type===n.types.parenR?null:this.parseExpression(),this.expect(n.types.parenR),e.body=this.parseStatement("for"),this.exitScope(),this.labels.pop(),this.finishNode(e,"ForStatement")},c.parseForIn=function(e,t){var r=this.type===n.types._in;return this.next(),"VariableDeclaration"===t.type&&null!=t.declarations[0].init&&(!r||this.options.ecmaVersion<8||this.strict||"var"!==t.kind||"Identifier"!==t.declarations[0].id.type)?this.raise(t.start,(r?"for-in":"for-of")+" loop variable declaration may not have an initializer"):"AssignmentPattern"===t.type&&this.raise(t.start,"Invalid left-hand side in for-loop"),e.left=t,e.right=r?this.parseExpression():this.parseMaybeAssign(),this.expect(n.types.parenR),e.body=this.parseStatement("for"),this.exitScope(),this.labels.pop(),this.finishNode(e,r?"ForInStatement":"ForOfStatement")},c.parseVar=function(e,t,r){for(e.declarations=[],e.kind=r;;){var i=this.startNode();if(this.parseVarId(i,r),this.eat(n.types.eq)?i.init=this.parseMaybeAssign(t):"const"!==r||this.type===n.types._in||this.options.ecmaVersion>=6&&this.isContextual("of")?"Identifier"===i.id.type||t&&(this.type===n.types._in||this.isContextual("of"))?i.init=null:this.raise(this.lastTokEnd,"Complex binding patterns require an initialization value"):this.unexpected(),e.declarations.push(this.finishNode(i,"VariableDeclarator")),!this.eat(n.types.comma))break}return e},c.parseVarId=function(e,t){e.id=this.parseBindingAtom(),this.checkLVal(e.id,"var"===t?u.BIND_VAR:u.BIND_LEXICAL,!1)};var h=1,m=2,v=4;c.parseFunction=function(e,t,r,i){this.initFunction(e),(this.options.ecmaVersion>=9||this.options.ecmaVersion>=6&&!i)&&(this.type===n.types.star&&t&m&&this.unexpected(),e.generator=this.eat(n.types.star)),this.options.ecmaVersion>=8&&(e.async=!!i),t&h&&(e.id=t&v&&this.type!==n.types.name?null:this.parseIdent(),!e.id||t&m||this.checkLVal(e.id,this.strict||e.generator||e.async?this.treatFunctionsAsVar?u.BIND_VAR:u.BIND_LEXICAL:u.BIND_FUNCTION));var o=this.yieldPos,a=this.awaitPos,s=this.awaitIdentPos;return this.yieldPos=0,this.awaitPos=0,this.awaitIdentPos=0,this.enterScope((0,u.functionFlags)(e.async,e.generator)),t&h||(e.id=this.type===n.types.name?this.parseIdent():null),this.parseFunctionParams(e),this.parseFunctionBody(e,r,!1),this.yieldPos=o,this.awaitPos=a,this.awaitIdentPos=s,this.finishNode(e,t&h?"FunctionDeclaration":"FunctionExpression")},c.parseFunctionParams=function(e){this.expect(n.types.parenL),e.params=this.parseBindingList(n.types.parenR,!1,this.options.ecmaVersion>=8),this.checkYieldAwaitInDefaultParams()},c.parseClass=function(e,t){this.next();var r=this.strict;this.strict=!0,this.parseClassId(e,t),this.parseClassSuper(e);var i=this.startNode(),o=!1;for(i.body=[],this.expect(n.types.braceL);!this.eat(n.types.braceR);){var a=this.parseClassElement(null!==e.superClass);a&&(i.body.push(a),"MethodDefinition"===a.type&&"constructor"===a.kind&&(o&&this.raise(a.start,"Duplicate constructor in the same class"),o=!0))}return e.body=this.finishNode(i,"ClassBody"),this.strict=r,this.finishNode(e,t?"ClassDeclaration":"ClassExpression")},c.parseClassElement=function(e){var t=this;if(this.eat(n.types.semi))return null;var r=this.startNode(),i=function(e,i){void 0===i&&(i=!1);var o=t.start,a=t.startLoc;return!!t.eatContextual(e)&&(!(t.type===n.types.parenL||i&&t.canInsertSemicolon())||(r.key&&t.unexpected(),r.computed=!1,r.key=t.startNodeAt(o,a),r.key.name=e,t.finishNode(r.key,"Identifier"),!1))};r.kind="method",r["static"]=i("static");var o=this.eat(n.types.star),a=!1;o||(this.options.ecmaVersion>=8&&i("async",!0)?(a=!0,o=this.options.ecmaVersion>=9&&this.eat(n.types.star)):i("get")?r.kind="get":i("set")&&(r.kind="set")),r.key||this.parsePropertyName(r);var s=r.key,l=!1;return r.computed||r["static"]||!("Identifier"===s.type&&"constructor"===s.name||"Literal"===s.type&&"constructor"===s.value)?r["static"]&&"Identifier"===s.type&&"prototype"===s.name&&this.raise(s.start,"Classes may not have a static property named prototype"):("method"!==r.kind&&this.raise(s.start,"Constructor can't have get/set modifier"),o&&this.raise(s.start,"Constructor can't be a generator"),a&&this.raise(s.start,"Constructor can't be an async method"),r.kind="constructor",l=e),this.parseClassMethod(r,o,a,l),"get"===r.kind&&0!==r.value.params.length&&this.raiseRecoverable(r.value.start,"getter should have no params"),"set"===r.kind&&1!==r.value.params.length&&this.raiseRecoverable(r.value.start,"setter should have exactly one param"),"set"===r.kind&&"RestElement"===r.value.params[0].type&&this.raiseRecoverable(r.value.params[0].start,"Setter cannot use rest params"),r},c.parseClassMethod=function(e,t,r,n){return e.value=this.parseMethod(t,r,n),this.finishNode(e,"MethodDefinition")},c.parseClassId=function(e,t){this.type===n.types.name?(e.id=this.parseIdent(),t&&this.checkLVal(e.id,u.BIND_LEXICAL,!1)):(t===!0&&this.unexpected(),e.id=null)},c.parseClassSuper=function(e){e.superClass=this.eat(n.types._extends)?this.parseExprSubscripts():null},c.parseExport=function(e,t){if(this.next(),this.eat(n.types.star))return this.expectContextual("from"),this.type!==n.types.string&&this.unexpected(),e.source=this.parseExprAtom(),this.semicolon(),this.finishNode(e,"ExportAllDeclaration");if(this.eat(n.types._default)){this.checkExport(t,"default",this.lastTokStart);var r;if(this.type===n.types._function||(r=this.isAsyncFunction())){var i=this.startNode();this.next(),r&&this.next(),e.declaration=this.parseFunction(i,h|v,!1,r)}else if(this.type===n.types._class){var o=this.startNode();e.declaration=this.parseClass(o,"nullableID")}else e.declaration=this.parseMaybeAssign(),this.semicolon();return this.finishNode(e,"ExportDefaultDeclaration")}if(this.shouldParseExportStatement())e.declaration=this.parseStatement(null),"VariableDeclaration"===e.declaration.type?this.checkVariableExport(t,e.declaration.declarations):this.checkExport(t,e.declaration.id.name,e.declaration.id.start),e.specifiers=[],e.source=null;else{if(e.declaration=null,e.specifiers=this.parseExportSpecifiers(t),this.eatContextual("from"))this.type!==n.types.string&&this.unexpected(),e.source=this.parseExprAtom();else{for(var a=e.specifiers,s=Array.isArray(a),l=0,a=s?a:a[Symbol.iterator]();;){var u;if(s){if(l>=a.length)break;u=a[l++]}else{if(l=a.next(),l.done)break;u=l.value}var c=u;this.checkUnreserved(c.local),this.checkLocalExport(c.local)}e.source=null}this.semicolon()}return this.finishNode(e,"ExportNamedDeclaration")},c.checkExport=function(e,t,r){e&&((0,s.has)(e,t)&&this.raiseRecoverable(r,"Duplicate export '"+t+"'"),e[t]=!0)},c.checkPatternExport=function(e,t){var r=t.type;if("Identifier"===r)this.checkExport(e,t.name,t.start);else if("ObjectPattern"===r)for(var n=t.properties,i=Array.isArray(n),o=0,n=i?n:n[Symbol.iterator]();;){var a;if(i){if(o>=n.length)break;a=n[o++]}else{if(o=n.next(),o.done)break;a=o.value}var s=a;this.checkPatternExport(e,s)}else if("ArrayPattern"===r)for(var l=t.elements,u=Array.isArray(l),c=0,l=u?l:l[Symbol.iterator]();;){var d;if(u){if(c>=l.length)break;d=l[c++]}else{if(c=l.next(),c.done)break;d=c.value}var p=d;p&&this.checkPatternExport(e,p)}else"Property"===r?this.checkPatternExport(e,t.value):"AssignmentPattern"===r?this.checkPatternExport(e,t.left):"RestElement"===r?this.checkPatternExport(e,t.argument):"ParenthesizedExpression"===r&&this.checkPatternExport(e,t.expression)},c.checkVariableExport=function(e,t){if(e)for(var r=t,n=Array.isArray(r),i=0,r=n?r:r[Symbol.iterator]();;){var o;if(n){if(i>=r.length)break;o=r[i++]}else{if(i=r.next(),i.done)break;o=i.value}var a=o;this.checkPatternExport(e,a.id)}},c.shouldParseExportStatement=function(){return"var"===this.type.keyword||"const"===this.type.keyword||"class"===this.type.keyword||"function"===this.type.keyword||this.isLet()||this.isAsyncFunction()},c.parseExportSpecifiers=function(e){var t=[],r=!0;for(this.expect(n.types.braceL);!this.eat(n.types.braceR);){if(r)r=!1;else if(this.expect(n.types.comma),this.afterTrailingComma(n.types.braceR))break;var i=this.startNode();i.local=this.parseIdent(!0),i.exported=this.eatContextual("as")?this.parseIdent(!0):i.local,this.checkExport(e,i.exported.name,i.exported.start),t.push(this.finishNode(i,"ExportSpecifier"))}return t},c.parseImport=function(e){return this.next(),this.type===n.types.string?(e.specifiers=f,e.source=this.parseExprAtom()):(e.specifiers=this.parseImportSpecifiers(),this.expectContextual("from"),e.source=this.type===n.types.string?this.parseExprAtom():this.unexpected()),this.semicolon(),this.finishNode(e,"ImportDeclaration")},c.parseImportSpecifiers=function(){var e=[],t=!0;if(this.type===n.types.name){var r=this.startNode();if(r.local=this.parseIdent(),this.checkLVal(r.local,u.BIND_LEXICAL),e.push(this.finishNode(r,"ImportDefaultSpecifier")),!this.eat(n.types.comma))return e}if(this.type===n.types.star){var i=this.startNode();return this.next(),this.expectContextual("as"),i.local=this.parseIdent(),this.checkLVal(i.local,u.BIND_LEXICAL),e.push(this.finishNode(i,"ImportNamespaceSpecifier")),e}for(this.expect(n.types.braceL);!this.eat(n.types.braceR);){if(t)t=!1;else if(this.expect(n.types.comma),this.afterTrailingComma(n.types.braceR))break;var o=this.startNode();o.imported=this.parseIdent(!0),this.eatContextual("as")?o.local=this.parseIdent():(this.checkUnreserved(o.imported),o.local=o.imported),this.checkLVal(o.local,u.BIND_LEXICAL),e.push(this.finishNode(o,"ImportSpecifier"))}return e},c.adaptDirectivePrologue=function(e){for(var t=0;t<e.length&&this.isDirectiveCandidate(e[t]);++t)e[t].directive=e[t].expression.raw.slice(1,-1)},c.isDirectiveCandidate=function(e){return"ExpressionStatement"===e.type&&"Literal"===e.expression.type&&"string"==typeof e.expression.value&&('"'===this.input[e.start]||"'"===this.input[e.start])}},"tokencontext.js":function(e,t,r){e.__esModule=!0,e.types=e.TokContext=void 0;var n=r("./state"),i=r("./tokentype"),o=r("./whitespace"),a=function(e,t,r,n,i){this.token=e,this.isExpr=!!t,this.preserveSpace=!!r,this.override=n,this.generator=!!i};e.TokContext=a;var s=e.types={b_stat:new a("{",(!1)),b_expr:new a("{",(!0)),b_tmpl:new a("${",(!1)),p_stat:new a("(",(!1)),p_expr:new a("(",(!0)),q_tmpl:new a("`",(!0),(!0),function(e){return e.tryReadTemplateToken()}),f_stat:new a("function",(!1)),f_expr:new a("function",(!0)),f_expr_gen:new a("function",(!0),(!1),null,(!0)),f_gen:new a("function",(!1),(!1),null,(!0))},l=n.Parser.prototype;l.initialContext=function(){return[s.b_stat]},l.braceIsBlock=function(e){var t=this.curContext();return t===s.f_expr||t===s.f_stat||(e!==i.types.colon||t!==s.b_stat&&t!==s.b_expr?e===i.types._return||e===i.types.name&&this.exprAllowed?o.lineBreak.test(this.input.slice(this.lastTokEnd,this.start)):e===i.types._else||e===i.types.semi||e===i.types.eof||e===i.types.parenR||e===i.types.arrow||(e===i.types.braceL?t===s.b_stat:e!==i.types._var&&e!==i.types._const&&e!==i.types.name&&!this.exprAllowed):!t.isExpr)},l.inGeneratorContext=function(){for(var e=this.context.length-1;e>=1;e--){var t=this.context[e];if("function"===t.token)return t.generator}return!1},l.updateContext=function(e){var t,r=this.type;r.keyword&&e===i.types.dot?this.exprAllowed=!1:(t=r.updateContext)?t.call(this,e):this.exprAllowed=r.beforeExpr},i.types.parenR.updateContext=i.types.braceR.updateContext=function(){if(1===this.context.length)return void(this.exprAllowed=!0);var e=this.context.pop();e===s.b_stat&&"function"===this.curContext().token&&(e=this.context.pop()),this.exprAllowed=!e.isExpr},i.types.braceL.updateContext=function(e){this.context.push(this.braceIsBlock(e)?s.b_stat:s.b_expr),this.exprAllowed=!0},i.types.dollarBraceL.updateContext=function(){this.context.push(s.b_tmpl),this.exprAllowed=!0},i.types.parenL.updateContext=function(e){var t=e===i.types._if||e===i.types._for||e===i.types._with||e===i.types._while;this.context.push(t?s.p_stat:s.p_expr),this.exprAllowed=!0},i.types.incDec.updateContext=function(){},i.types._function.updateContext=i.types._class.updateContext=function(e){!e.beforeExpr||e===i.types.semi||e===i.types._else||e===i.types._return&&o.lineBreak.test(this.input.slice(this.lastTokEnd,this.start))||(e===i.types.colon||e===i.types.braceL)&&this.curContext()===s.b_stat?this.context.push(s.f_stat):this.context.push(s.f_expr),this.exprAllowed=!1},i.types.backQuote.updateContext=function(){this.curContext()===s.q_tmpl?this.context.pop():this.context.push(s.q_tmpl),this.exprAllowed=!1},i.types.star.updateContext=function(e){if(e===i.types._function){var t=this.context.length-1;this.context[t]===s.f_expr?this.context[t]=s.f_expr_gen:this.context[t]=s.f_gen}this.exprAllowed=!0},i.types.name.updateContext=function(e){var t=!1;this.options.ecmaVersion>=6&&e!==i.types.dot&&("of"===this.value&&!this.exprAllowed||"yield"===this.value&&this.inGeneratorContext())&&(t=!0),this.exprAllowed=t}},"tokenize.js":function(e,t,r){function n(e){return e<=65535?String.fromCharCode(e):(e-=65536,String.fromCharCode((e>>10)+55296,(1023&e)+56320))}e.__esModule=!0,e.Token=void 0;var i=r("./identifier"),o=r("./tokentype"),a=r("./state"),s=r("./locutil"),l=r("./regexp"),u=r("./whitespace"),c=function(e){this.type=e.type,this.value=e.value,this.start=e.start,this.end=e.end,e.options.locations&&(this.loc=new s.SourceLocation(e,e.startLoc,e.endLoc)),e.options.ranges&&(this.range=[e.start,e.end])};e.Token=c;var d=a.Parser.prototype;d.next=function(){this.options.onToken&&this.options.onToken(new c(this)),this.lastTokEnd=this.end,this.lastTokStart=this.start,this.lastTokEndLoc=this.endLoc,this.lastTokStartLoc=this.startLoc,this.nextToken()},d.getToken=function(){return this.next(),new c(this)},"undefined"!=typeof Symbol&&(d[Symbol.iterator]=function(){var e=this;return{next:function(){var t=e.getToken();return{done:t.type===o.types.eof,value:t}}}}),d.curContext=function(){return this.context[this.context.length-1]},d.nextToken=function(){var e=this.curContext();return e&&e.preserveSpace||this.skipSpace(),this.start=this.pos,this.options.locations&&(this.startLoc=this.curPosition()),this.pos>=this.input.length?this.finishToken(o.types.eof):e.override?e.override(this):void this.readToken(this.fullCharCodeAtPos())},d.readToken=function(e){return(0,i.isIdentifierStart)(e,this.options.ecmaVersion>=6)||92===e?this.readWord():this.getTokenFromCode(e)},d.fullCharCodeAtPos=function(){var e=this.input.charCodeAt(this.pos);if(e<=55295||e>=57344)return e;var t=this.input.charCodeAt(this.pos+1);return(e<<10)+t-56613888},d.skipBlockComment=function(){var e=this.options.onComment&&this.curPosition(),t=this.pos,r=this.input.indexOf("*/",this.pos+=2);if(r===-1&&this.raise(this.pos-2,"Unterminated comment"),this.pos=r+2,this.options.locations){u.lineBreakG.lastIndex=t;for(var n;(n=u.lineBreakG.exec(this.input))&&n.index<this.pos;)++this.curLine,this.lineStart=n.index+n[0].length}this.options.onComment&&this.options.onComment(!0,this.input.slice(t+2,r),t,this.pos,e,this.curPosition())},d.skipLineComment=function(e){for(var t=this.pos,r=this.options.onComment&&this.curPosition(),n=this.input.charCodeAt(this.pos+=e);this.pos<this.input.length&&!(0,u.isNewLine)(n);)n=this.input.charCodeAt(++this.pos);this.options.onComment&&this.options.onComment(!1,this.input.slice(t+e,this.pos),t,this.pos,r,this.curPosition())},d.skipSpace=function(){e:for(;this.pos<this.input.length;){var e=this.input.charCodeAt(this.pos);switch(e){case 32:case 160:++this.pos;break;case 13:10===this.input.charCodeAt(this.pos+1)&&++this.pos;case 10:case 8232:case 8233:++this.pos,this.options.locations&&(++this.curLine,this.lineStart=this.pos);break;case 47:switch(this.input.charCodeAt(this.pos+1)){case 42:this.skipBlockComment();break;case 47:this.skipLineComment(2);break;default:break e}break;default:if(!(e>8&&e<14||e>=5760&&u.nonASCIIwhitespace.test(String.fromCharCode(e))))break e;++this.pos}}},d.finishToken=function(e,t){this.end=this.pos,this.options.locations&&(this.endLoc=this.curPosition());var r=this.type;this.type=e,this.value=t,this.updateContext(r)},d.readToken_dot=function(){var e=this.input.charCodeAt(this.pos+1);if(e>=48&&e<=57)return this.readNumber(!0);var t=this.input.charCodeAt(this.pos+2);return this.options.ecmaVersion>=6&&46===e&&46===t?(this.pos+=3,this.finishToken(o.types.ellipsis)):(++this.pos,this.finishToken(o.types.dot))},d.readToken_slash=function(){var e=this.input.charCodeAt(this.pos+1);return this.exprAllowed?(++this.pos,this.readRegexp()):61===e?this.finishOp(o.types.assign,2):this.finishOp(o.types.slash,1)},d.readToken_mult_modulo_exp=function(e){var t=this.input.charCodeAt(this.pos+1),r=1,n=42===e?o.types.star:o.types.modulo;return this.options.ecmaVersion>=7&&42===e&&42===t&&(++r,n=o.types.starstar,t=this.input.charCodeAt(this.pos+2)),61===t?this.finishOp(o.types.assign,r+1):this.finishOp(n,r)},d.readToken_pipe_amp=function(e){var t=this.input.charCodeAt(this.pos+1);return t===e?this.finishOp(124===e?o.types.logicalOR:o.types.logicalAND,2):61===t?this.finishOp(o.types.assign,2):this.finishOp(124===e?o.types.bitwiseOR:o.types.bitwiseAND,1)},d.readToken_caret=function(){var e=this.input.charCodeAt(this.pos+1);return 61===e?this.finishOp(o.types.assign,2):this.finishOp(o.types.bitwiseXOR,1)},d.readToken_plus_min=function(e){var t=this.input.charCodeAt(this.pos+1);return t===e?45!==t||this.inModule||62!==this.input.charCodeAt(this.pos+2)||0!==this.lastTokEnd&&!u.lineBreak.test(this.input.slice(this.lastTokEnd,this.pos))?this.finishOp(o.types.incDec,2):(this.skipLineComment(3),this.skipSpace(),this.nextToken()):61===t?this.finishOp(o.types.assign,2):this.finishOp(o.types.plusMin,1)},d.readToken_lt_gt=function(e){var t=this.input.charCodeAt(this.pos+1),r=1;return t===e?(r=62===e&&62===this.input.charCodeAt(this.pos+2)?3:2,61===this.input.charCodeAt(this.pos+r)?this.finishOp(o.types.assign,r+1):this.finishOp(o.types.bitShift,r)):33!==t||60!==e||this.inModule||45!==this.input.charCodeAt(this.pos+2)||45!==this.input.charCodeAt(this.pos+3)?(61===t&&(r=2),this.finishOp(o.types.relational,r)):(this.skipLineComment(4),this.skipSpace(),this.nextToken())},d.readToken_eq_excl=function(e){var t=this.input.charCodeAt(this.pos+1);return 61===t?this.finishOp(o.types.equality,61===this.input.charCodeAt(this.pos+2)?3:2):61===e&&62===t&&this.options.ecmaVersion>=6?(this.pos+=2,this.finishToken(o.types.arrow)):this.finishOp(61===e?o.types.eq:o.types.prefix,1)},d.getTokenFromCode=function(e){switch(e){case 46:return this.readToken_dot();case 40:return++this.pos,this.finishToken(o.types.parenL);case 41:return++this.pos,this.finishToken(o.types.parenR);case 59:return++this.pos,this.finishToken(o.types.semi);case 44:return++this.pos,this.finishToken(o.types.comma);case 91:return++this.pos,this.finishToken(o.types.bracketL);case 93:return++this.pos,this.finishToken(o.types.bracketR);case 123:return++this.pos,this.finishToken(o.types.braceL);case 125:return++this.pos,this.finishToken(o.types.braceR);case 58:return++this.pos,this.finishToken(o.types.colon);case 63:return++this.pos,this.finishToken(o.types.question);case 96:if(this.options.ecmaVersion<6)break;return++this.pos,this.finishToken(o.types.backQuote);case 48:var t=this.input.charCodeAt(this.pos+1);if(120===t||88===t)return this.readRadixNumber(16);if(this.options.ecmaVersion>=6){if(111===t||79===t)return this.readRadixNumber(8);if(98===t||66===t)return this.readRadixNumber(2)}case 49:case 50:case 51:case 52:case 53:case 54:case 55:case 56:case 57:return this.readNumber(!1);case 34:case 39:return this.readString(e);case 47:return this.readToken_slash();case 37:case 42:return this.readToken_mult_modulo_exp(e);case 124:case 38:return this.readToken_pipe_amp(e);case 94:return this.readToken_caret();case 43:case 45:return this.readToken_plus_min(e);case 60:case 62:return this.readToken_lt_gt(e);case 61:case 33:return this.readToken_eq_excl(e);case 126:return this.finishOp(o.types.prefix,1)}this.raise(this.pos,"Unexpected character '"+n(e)+"'")},d.finishOp=function(e,t){var r=this.input.slice(this.pos,this.pos+t);return this.pos+=t,this.finishToken(e,r)},d.readRegexp=function(){for(var e,t,r=this.pos;;){this.pos>=this.input.length&&this.raise(r,"Unterminated regular expression");var n=this.input.charAt(this.pos);if(u.lineBreak.test(n)&&this.raise(r,"Unterminated regular expression"),e)e=!1;else{if("["===n)t=!0;else if("]"===n&&t)t=!1;else if("/"===n&&!t)break;e="\\"===n}++this.pos}var i=this.input.slice(r,this.pos);++this.pos;var a=this.pos,s=this.readWord1();this.containsEsc&&this.unexpected(a);var c=this.regexpState||(this.regexpState=new l.RegExpValidationState(this));c.reset(r,i,s),this.validateRegExpFlags(c),this.validateRegExpPattern(c);var d=null;try{d=new RegExp(i,s)}catch(p){}return this.finishToken(o.types.regexp,{pattern:i,flags:s,value:d})},d.readInt=function(e,t){for(var r=this.pos,n=0,i=0,o=null==t?1/0:t;i<o;++i){var a=this.input.charCodeAt(this.pos),s=void 0;if(s=a>=97?a-97+10:a>=65?a-65+10:a>=48&&a<=57?a-48:1/0,s>=e)break;++this.pos,n=n*e+s}return this.pos===r||null!=t&&this.pos-r!==t?null:n},d.readRadixNumber=function(e){var t=this.pos;this.pos+=2;var r=this.readInt(e);return null==r&&this.raise(this.start+2,"Expected number in radix "+e),this.options.ecmaVersion>=11&&110===this.input.charCodeAt(this.pos)?(r="undefined"!=typeof BigInt?BigInt(this.input.slice(t,this.pos)):null,++this.pos):(0,i.isIdentifierStart)(this.fullCharCodeAtPos())&&this.raise(this.pos,"Identifier directly after number"),this.finishToken(o.types.num,r)},d.readNumber=function(e){var t=this.pos;e||null!==this.readInt(10)||this.raise(t,"Invalid number");var r=this.pos-t>=2&&48===this.input.charCodeAt(t);r&&this.strict&&this.raise(t,"Invalid number"),r&&/[89]/.test(this.input.slice(t,this.pos))&&(r=!1);var n=this.input.charCodeAt(this.pos);if(!r&&!e&&this.options.ecmaVersion>=11&&110===n){var a=this.input.slice(t,this.pos),s="undefined"!=typeof BigInt?BigInt(a):null;return++this.pos,(0,i.isIdentifierStart)(this.fullCharCodeAtPos())&&this.raise(this.pos,"Identifier directly after number"),this.finishToken(o.types.num,s)}46!==n||r||(++this.pos,this.readInt(10),n=this.input.charCodeAt(this.pos)),69!==n&&101!==n||r||(n=this.input.charCodeAt(++this.pos),43!==n&&45!==n||++this.pos,null===this.readInt(10)&&this.raise(t,"Invalid number")),(0,i.isIdentifierStart)(this.fullCharCodeAtPos())&&this.raise(this.pos,"Identifier directly after number");var l=this.input.slice(t,this.pos),u=r?parseInt(l,8):parseFloat(l);return this.finishToken(o.types.num,u)},d.readCodePoint=function(){var e,t=this.input.charCodeAt(this.pos);if(123===t){this.options.ecmaVersion<6&&this.unexpected();var r=++this.pos;e=this.readHexChar(this.input.indexOf("}",this.pos)-this.pos),++this.pos,e>1114111&&this.invalidStringToken(r,"Code point out of bounds")}else e=this.readHexChar(4);return e},d.readString=function(e){for(var t="",r=++this.pos;;){this.pos>=this.input.length&&this.raise(this.start,"Unterminated string constant");var n=this.input.charCodeAt(this.pos);if(n===e)break;92===n?(t+=this.input.slice(r,this.pos),t+=this.readEscapedChar(!1),r=this.pos):((0,u.isNewLine)(n,this.options.ecmaVersion>=10)&&this.raise(this.start,"Unterminated string constant"),++this.pos)}return t+=this.input.slice(r,this.pos++),this.finishToken(o.types.string,t)};var p={};d.tryReadTemplateToken=function(){this.inTemplateElement=!0;try{this.readTmplToken()}catch(e){if(e!==p)throw e;this.readInvalidTemplateToken()}this.inTemplateElement=!1},d.invalidStringToken=function(e,t){if(this.inTemplateElement&&this.options.ecmaVersion>=9)throw p;this.raise(e,t)},d.readTmplToken=function(){for(var e="",t=this.pos;;){this.pos>=this.input.length&&this.raise(this.start,"Unterminated template");var r=this.input.charCodeAt(this.pos);if(96===r||36===r&&123===this.input.charCodeAt(this.pos+1))return this.pos!==this.start||this.type!==o.types.template&&this.type!==o.types.invalidTemplate?(e+=this.input.slice(t,this.pos),this.finishToken(o.types.template,e)):36===r?(this.pos+=2,this.finishToken(o.types.dollarBraceL)):(++this.pos,this.finishToken(o.types.backQuote));if(92===r)e+=this.input.slice(t,this.pos),e+=this.readEscapedChar(!0),t=this.pos;else if((0,u.isNewLine)(r)){switch(e+=this.input.slice(t,this.pos),++this.pos,r){case 13:10===this.input.charCodeAt(this.pos)&&++this.pos;case 10:e+="\n";break;default:e+=String.fromCharCode(r)}this.options.locations&&(++this.curLine,this.lineStart=this.pos),t=this.pos}else++this.pos}},d.readInvalidTemplateToken=function(){for(;this.pos<this.input.length;this.pos++)switch(this.input[this.pos]){case"\\":++this.pos;break;case"$":if("{"!==this.input[this.pos+1])break;case"`":return this.finishToken(o.types.invalidTemplate,this.input.slice(this.start,this.pos))}this.raise(this.start,"Unterminated template")},d.readEscapedChar=function(e){var t=this.input.charCodeAt(++this.pos);switch(++this.pos,t){case 110:return"\n";case 114:return"\r";case 120:return String.fromCharCode(this.readHexChar(2));case 117:return n(this.readCodePoint());case 116:return"\t";case 98:return"\b";case 118:return"\x0B";case 102:return"\f";case 13:10===this.input.charCodeAt(this.pos)&&++this.pos;case 10:return this.options.locations&&(this.lineStart=this.pos,++this.curLine),"";default:if(t>=48&&t<=55){var r=this.input.substr(this.pos-1,3).match(/^[0-7]+/)[0],i=parseInt(r,8);return i>255&&(r=r.slice(0,-1),i=parseInt(r,8)),this.pos+=r.length-1,t=this.input.charCodeAt(this.pos),"0"===r&&56!==t&&57!==t||!this.strict&&!e||this.invalidStringToken(this.pos-1-r.length,e?"Octal literal in template string":"Octal literal in strict mode"),String.fromCharCode(i)}return(0,u.isNewLine)(t)?"":String.fromCharCode(t)}},d.readHexChar=function(e){var t=this.pos,r=this.readInt(16,e);return null===r&&this.invalidStringToken(t,"Bad character escape sequence"),r},d.readWord1=function(){this.containsEsc=!1;for(var e="",t=!0,r=this.pos,n=this.options.ecmaVersion>=6;this.pos<this.input.length;){var o=this.fullCharCodeAtPos();if((0,i.isIdentifierChar)(o,n))this.pos+=o<=65535?1:2;else{if(92!==o)break;this.containsEsc=!0,e+=this.input.slice(r,this.pos);var a=this.pos;117!==this.input.charCodeAt(++this.pos)&&this.invalidStringToken(this.pos,"Expecting Unicode escape sequence \\uXXXX"),++this.pos;var s=this.readCodePoint();(t?i.isIdentifierStart:i.isIdentifierChar)(s,n)||this.invalidStringToken(a,"Invalid Unicode escape"),e+=this.input.substr(this.pos-6,6),r=this.pos}t=!1}return e+this.input.slice(r,this.pos)},d.readWord=function(){var e=this.readWord1(),t=o.types.name;return this.keywords.test(e)&&(this.containsEsc&&this.raiseRecoverable(this.start,"Escape sequence in keyword "+e),t=o.keywords[e]),this.finishToken(t,e)}},"tokentype.js":function(e,t,r){function n(e,t){return new o(e,{beforeExpr:!0,binop:t})}function i(e,t){return void 0===t&&(t={}),t.keyword=e,l[e]=new o(e,t)}e.__esModule=!0;var o=function(e,t){void 0===t&&(t={}),this.label=e,this.keyword=t.keyword,this.beforeExpr=!!t.beforeExpr,this.startsExpr=!!t.startsExpr,this.isLoop=!!t.isLoop,this.isAssign=!!t.isAssign,this.prefix=!!t.prefix,this.postfix=!!t.postfix,this.binop=t.binop||null,this.updateContext=null};e.TokenType=o;var a={beforeExpr:!0},s={startsExpr:!0},l=e.keywords={};e.types={num:new o("num",s),regexp:new o("regexp",s),string:new o("string",s),name:new o("name",s),eof:new o("eof"),bracketL:new o("[",{beforeExpr:!0,startsExpr:!0}),bracketR:new o("]"),braceL:new o("{",{beforeExpr:!0,startsExpr:!0}),braceR:new o("}"),parenL:new o("(",{beforeExpr:!0,
startsExpr:!0}),parenR:new o(")"),comma:new o(",",a),semi:new o(";",a),colon:new o(":",a),dot:new o("."),question:new o("?",a),arrow:new o("=>",a),template:new o("template"),invalidTemplate:new o("invalidTemplate"),ellipsis:new o("...",a),backQuote:new o("`",s),dollarBraceL:new o("${",{beforeExpr:!0,startsExpr:!0}),eq:new o("=",{beforeExpr:!0,isAssign:!0}),assign:new o("_=",{beforeExpr:!0,isAssign:!0}),incDec:new o("++/--",{prefix:!0,postfix:!0,startsExpr:!0}),prefix:new o("!/~",{beforeExpr:!0,prefix:!0,startsExpr:!0}),logicalOR:n("||",1),logicalAND:n("&&",2),bitwiseOR:n("|",3),bitwiseXOR:n("^",4),bitwiseAND:n("&",5),equality:n("==/!=/===/!==",6),relational:n("</>/<=/>=",7),bitShift:n("<</>>/>>>",8),plusMin:new o("+/-",{beforeExpr:!0,binop:9,prefix:!0,startsExpr:!0}),modulo:n("%",10),star:n("*",10),slash:n("/",10),starstar:new o("**",{beforeExpr:!0}),_break:i("break"),_case:i("case",a),_catch:i("catch"),_continue:i("continue"),_debugger:i("debugger"),_default:i("default",a),_do:i("do",{isLoop:!0,beforeExpr:!0}),_else:i("else",a),_finally:i("finally"),_for:i("for",{isLoop:!0}),_function:i("function",s),_if:i("if"),_return:i("return",a),_switch:i("switch"),_throw:i("throw",a),_try:i("try"),_var:i("var"),_const:i("const"),_while:i("while",{isLoop:!0}),_with:i("with"),_new:i("new",{beforeExpr:!0,startsExpr:!0}),_this:i("this",s),_super:i("super",s),_class:i("class",s),_extends:i("extends",a),_export:i("export"),_import:i("import",s),_null:i("null",s),_true:i("true",s),_false:i("false",s),_in:i("in",{beforeExpr:!0,binop:7}),_instanceof:i("instanceof",{beforeExpr:!0,binop:7}),_typeof:i("typeof",{beforeExpr:!0,prefix:!0,startsExpr:!0}),_void:i("void",{beforeExpr:!0,prefix:!0,startsExpr:!0}),_delete:i("delete",{beforeExpr:!0,prefix:!0,startsExpr:!0})}},"unicode-property-data.js":function(e,t,r){function n(e){var t=h[e]={binary:(0,i.wordsRegexp)(l[e]+" "+u),nonBinary:{General_Category:(0,i.wordsRegexp)(u),Script:(0,i.wordsRegexp)(f[e])}};t.nonBinary.Script_Extensions=t.nonBinary.Script,t.nonBinary.gc=t.nonBinary.General_Category,t.nonBinary.sc=t.nonBinary.Script,t.nonBinary.scx=t.nonBinary.Script_Extensions}e.__esModule=!0;var i=r("./util.js"),o="ASCII ASCII_Hex_Digit AHex Alphabetic Alpha Any Assigned Bidi_Control Bidi_C Bidi_Mirrored Bidi_M Case_Ignorable CI Cased Changes_When_Casefolded CWCF Changes_When_Casemapped CWCM Changes_When_Lowercased CWL Changes_When_NFKC_Casefolded CWKCF Changes_When_Titlecased CWT Changes_When_Uppercased CWU Dash Default_Ignorable_Code_Point DI Deprecated Dep Diacritic Dia Emoji Emoji_Component Emoji_Modifier Emoji_Modifier_Base Emoji_Presentation Extender Ext Grapheme_Base Gr_Base Grapheme_Extend Gr_Ext Hex_Digit Hex IDS_Binary_Operator IDSB IDS_Trinary_Operator IDST ID_Continue IDC ID_Start IDS Ideographic Ideo Join_Control Join_C Logical_Order_Exception LOE Lowercase Lower Math Noncharacter_Code_Point NChar Pattern_Syntax Pat_Syn Pattern_White_Space Pat_WS Quotation_Mark QMark Radical Regional_Indicator RI Sentence_Terminal STerm Soft_Dotted SD Terminal_Punctuation Term Unified_Ideograph UIdeo Uppercase Upper Variation_Selector VS White_Space space XID_Continue XIDC XID_Start XIDS",a=o+" Extended_Pictographic",s=a,l={9:o,10:a,11:s},u="Cased_Letter LC Close_Punctuation Pe Connector_Punctuation Pc Control Cc cntrl Currency_Symbol Sc Dash_Punctuation Pd Decimal_Number Nd digit Enclosing_Mark Me Final_Punctuation Pf Format Cf Initial_Punctuation Pi Letter L Letter_Number Nl Line_Separator Zl Lowercase_Letter Ll Mark M Combining_Mark Math_Symbol Sm Modifier_Letter Lm Modifier_Symbol Sk Nonspacing_Mark Mn Number N Open_Punctuation Ps Other C Other_Letter Lo Other_Number No Other_Punctuation Po Other_Symbol So Paragraph_Separator Zp Private_Use Co Punctuation P punct Separator Z Space_Separator Zs Spacing_Mark Mc Surrogate Cs Symbol S Titlecase_Letter Lt Unassigned Cn Uppercase_Letter Lu",c="Adlam Adlm Ahom Ahom Anatolian_Hieroglyphs Hluw Arabic Arab Armenian Armn Avestan Avst Balinese Bali Bamum Bamu Bassa_Vah Bass Batak Batk Bengali Beng Bhaiksuki Bhks Bopomofo Bopo Brahmi Brah Braille Brai Buginese Bugi Buhid Buhd Canadian_Aboriginal Cans Carian Cari Caucasian_Albanian Aghb Chakma Cakm Cham Cham Cherokee Cher Common Zyyy Coptic Copt Qaac Cuneiform Xsux Cypriot Cprt Cyrillic Cyrl Deseret Dsrt Devanagari Deva Duployan Dupl Egyptian_Hieroglyphs Egyp Elbasan Elba Ethiopic Ethi Georgian Geor Glagolitic Glag Gothic Goth Grantha Gran Greek Grek Gujarati Gujr Gurmukhi Guru Han Hani Hangul Hang Hanunoo Hano Hatran Hatr Hebrew Hebr Hiragana Hira Imperial_Aramaic Armi Inherited Zinh Qaai Inscriptional_Pahlavi Phli Inscriptional_Parthian Prti Javanese Java Kaithi Kthi Kannada Knda Katakana Kana Kayah_Li Kali Kharoshthi Khar Khmer Khmr Khojki Khoj Khudawadi Sind Lao Laoo Latin Latn Lepcha Lepc Limbu Limb Linear_A Lina Linear_B Linb Lisu Lisu Lycian Lyci Lydian Lydi Mahajani Mahj Malayalam Mlym Mandaic Mand Manichaean Mani Marchen Marc Masaram_Gondi Gonm Meetei_Mayek Mtei Mende_Kikakui Mend Meroitic_Cursive Merc Meroitic_Hieroglyphs Mero Miao Plrd Modi Modi Mongolian Mong Mro Mroo Multani Mult Myanmar Mymr Nabataean Nbat New_Tai_Lue Talu Newa Newa Nko Nkoo Nushu Nshu Ogham Ogam Ol_Chiki Olck Old_Hungarian Hung Old_Italic Ital Old_North_Arabian Narb Old_Permic Perm Old_Persian Xpeo Old_South_Arabian Sarb Old_Turkic Orkh Oriya Orya Osage Osge Osmanya Osma Pahawh_Hmong Hmng Palmyrene Palm Pau_Cin_Hau Pauc Phags_Pa Phag Phoenician Phnx Psalter_Pahlavi Phlp Rejang Rjng Runic Runr Samaritan Samr Saurashtra Saur Sharada Shrd Shavian Shaw Siddham Sidd SignWriting Sgnw Sinhala Sinh Sora_Sompeng Sora Soyombo Soyo Sundanese Sund Syloti_Nagri Sylo Syriac Syrc Tagalog Tglg Tagbanwa Tagb Tai_Le Tale Tai_Tham Lana Tai_Viet Tavt Takri Takr Tamil Taml Tangut Tang Telugu Telu Thaana Thaa Thai Thai Tibetan Tibt Tifinagh Tfng Tirhuta Tirh Ugaritic Ugar Vai Vaii Warang_Citi Wara Yi Yiii Zanabazar_Square Zanb",d=c+" Dogra Dogr Gunjala_Gondi Gong Hanifi_Rohingya Rohg Makasar Maka Medefaidrin Medf Old_Sogdian Sogo Sogdian Sogd",p=d+" Elymaic Elym Nandinagari Nand Nyiakeng_Puachue_Hmong Hmnp Wancho Wcho",f={9:c,10:d,11:p},h={};n(9),n(10),n(11),e["default"]=h,t.exports=e["default"]},"util.js":function(e,t,r){function n(e,t){return a.call(e,t)}function i(e){return new RegExp("^(?:"+e.replace(/ /g,"|")+")$")}e.__esModule=!0,e.has=n,e.wordsRegexp=i;var o=Object.prototype,a=o.hasOwnProperty,s=o.toString;e.isArray=Array.isArray||function(e){return"[object Array]"===s.call(e)}},"whitespace.js":function(e,t,r){function n(e,t){return 10===e||13===e||!t&&(8232===e||8233===e)}e.__esModule=!0,e.isNewLine=n;var i=e.lineBreak=/\r\n?|\n|\u2028|\u2029/;e.lineBreakG=new RegExp(i.source,"g"),e.nonASCIIwhitespace=/[\u1680\u2000-\u200a\u202f\u205f\u3000\ufeff]/,e.skipWhiteSpace=/(?:\s|\/\/.*|\/\*[^]*?\*\/)*/g}}},bowser:{":mainpath:":"./src/bowser.js",src:{"bowser.js":function(e,t,r){!function(e,r,n){"undefined"!=typeof t&&t.exports?t.exports=n():"function"==typeof define&&define.amd?define(r,n):e[r]=n()}(void 0,"bowser",function(){function e(e){function t(t){var r=e.match(t);return r&&r.length>1&&r[1]||""}function r(t){var r=e.match(t);return r&&r.length>1&&r[2]||""}var n,i=t(/(ipod|iphone|ipad)/i).toLowerCase(),o=/like android/i.test(e),s=!o&&/android/i.test(e),l=/nexus\s*[0-6]\s*/i.test(e),u=!l&&/nexus\s*[0-9]+/i.test(e),c=/CrOS/.test(e),d=/silk/i.test(e),p=/sailfish/i.test(e),f=/tizen/i.test(e),h=/(web|hpw)os/i.test(e),m=/windows phone/i.test(e),v=(/SamsungBrowser/i.test(e),!m&&/windows/i.test(e)),g=!i&&!d&&/macintosh/i.test(e),y=!s&&!p&&!f&&!h&&/linux/i.test(e),E=t(/edge\/(\d+(\.\d+)?)/i),_=t(/version\/(\d+(\.\d+)?)/i),S=/tablet/i.test(e),b=!S&&/[^-]mobi/i.test(e),w=/xbox/i.test(e);/opera/i.test(e)?n={name:"Opera",opera:a,version:_||t(/(?:opera|opr|opios)[\s\/](\d+(\.\d+)?)/i)}:/opr|opios/i.test(e)?n={name:"Opera",opera:a,version:t(/(?:opr|opios)[\s\/](\d+(\.\d+)?)/i)||_}:/SamsungBrowser/i.test(e)?n={name:"Samsung Internet for Android",samsungBrowser:a,version:_||t(/(?:SamsungBrowser)[\s\/](\d+(\.\d+)?)/i)}:/coast/i.test(e)?n={name:"Opera Coast",coast:a,version:_||t(/(?:coast)[\s\/](\d+(\.\d+)?)/i)}:/yabrowser/i.test(e)?n={name:"Yandex Browser",yandexbrowser:a,version:_||t(/(?:yabrowser)[\s\/](\d+(\.\d+)?)/i)}:/ucbrowser/i.test(e)?n={name:"UC Browser",ucbrowser:a,version:t(/(?:ucbrowser)[\s\/](\d+(?:\.\d+)+)/i)}:/mxios/i.test(e)?n={name:"Maxthon",maxthon:a,version:t(/(?:mxios)[\s\/](\d+(?:\.\d+)+)/i)}:/epiphany/i.test(e)?n={name:"Epiphany",epiphany:a,version:t(/(?:epiphany)[\s\/](\d+(?:\.\d+)+)/i)}:/puffin/i.test(e)?n={name:"Puffin",puffin:a,version:t(/(?:puffin)[\s\/](\d+(?:\.\d+)?)/i)}:/sleipnir/i.test(e)?n={name:"Sleipnir",sleipnir:a,version:t(/(?:sleipnir)[\s\/](\d+(?:\.\d+)+)/i)}:/k-meleon/i.test(e)?n={name:"K-Meleon",kMeleon:a,version:t(/(?:k-meleon)[\s\/](\d+(?:\.\d+)+)/i)}:m?(n={name:"Windows Phone",windowsphone:a},E?(n.msedge=a,n.version=E):(n.msie=a,n.version=t(/iemobile\/(\d+(\.\d+)?)/i))):/msie|trident/i.test(e)?n={name:"Internet Explorer",msie:a,version:t(/(?:msie |rv:)(\d+(\.\d+)?)/i)}:c?n={name:"Chrome",chromeos:a,chromeBook:a,chrome:a,version:t(/(?:chrome|crios|crmo)\/(\d+(\.\d+)?)/i)}:/chrome.+? edge/i.test(e)?n={name:"Microsoft Edge",msedge:a,version:E}:/vivaldi/i.test(e)?n={name:"Vivaldi",vivaldi:a,version:t(/vivaldi\/(\d+(\.\d+)?)/i)||_}:p?n={name:"Sailfish",sailfish:a,version:t(/sailfish\s?browser\/(\d+(\.\d+)?)/i)}:/seamonkey\//i.test(e)?n={name:"SeaMonkey",seamonkey:a,version:t(/seamonkey\/(\d+(\.\d+)?)/i)}:/firefox|iceweasel|fxios/i.test(e)?(n={name:"Firefox",firefox:a,version:t(/(?:firefox|iceweasel|fxios)[ \/](\d+(\.\d+)?)/i)},/\((mobile|tablet);[^\)]*rv:[\d\.]+\)/i.test(e)&&(n.firefoxos=a)):d?n={name:"Amazon Silk",silk:a,version:t(/silk\/(\d+(\.\d+)?)/i)}:/phantom/i.test(e)?n={name:"PhantomJS",phantom:a,version:t(/phantomjs\/(\d+(\.\d+)?)/i)}:/slimerjs/i.test(e)?n={name:"SlimerJS",slimer:a,version:t(/slimerjs\/(\d+(\.\d+)?)/i)}:/blackberry|\bbb\d+/i.test(e)||/rim\stablet/i.test(e)?n={name:"BlackBerry",blackberry:a,version:_||t(/blackberry[\d]+\/(\d+(\.\d+)?)/i)}:h?(n={name:"WebOS",webos:a,version:_||t(/w(?:eb)?osbrowser\/(\d+(\.\d+)?)/i)},/touchpad\//i.test(e)&&(n.touchpad=a)):/bada/i.test(e)?n={name:"Bada",bada:a,version:t(/dolfin\/(\d+(\.\d+)?)/i)}:f?n={name:"Tizen",tizen:a,version:t(/(?:tizen\s?)?browser\/(\d+(\.\d+)?)/i)||_}:/qupzilla/i.test(e)?n={name:"QupZilla",qupzilla:a,version:t(/(?:qupzilla)[\s\/](\d+(?:\.\d+)+)/i)||_}:/chromium/i.test(e)?n={name:"Chromium",chromium:a,version:t(/(?:chromium)[\s\/](\d+(?:\.\d+)?)/i)||_}:/chrome|crios|crmo/i.test(e)?n={name:"Chrome",chrome:a,version:t(/(?:chrome|crios|crmo)\/(\d+(\.\d+)?)/i)}:s?n={name:"Android",version:_}:/safari|applewebkit/i.test(e)?(n={name:"Safari",safari:a},_&&(n.version=_)):i?(n={name:"iphone"==i?"iPhone":"ipad"==i?"iPad":"iPod"},_&&(n.version=_)):n=/googlebot/i.test(e)?{name:"Googlebot",googlebot:a,version:t(/googlebot\/(\d+(\.\d+))/i)||_}:{name:t(/^(.*)\/(.*) /),version:r(/^(.*)\/(.*) /)},!n.msedge&&/(apple)?webkit/i.test(e)?(/(apple)?webkit\/537\.36/i.test(e)?(n.name=n.name||"Blink",n.blink=a):(n.name=n.name||"Webkit",n.webkit=a),!n.version&&_&&(n.version=_)):!n.opera&&/gecko\//i.test(e)&&(n.name=n.name||"Gecko",n.gecko=a,n.version=n.version||t(/gecko\/(\d+(\.\d+)?)/i)),n.windowsphone||n.msedge||!s&&!n.silk?n.windowsphone||n.msedge||!i?g?n.mac=a:w?n.xbox=a:v?n.windows=a:y&&(n.linux=a):(n[i]=a,n.ios=a):n.android=a;var x="";n.windowsphone?x=t(/windows phone (?:os)?\s?(\d+(\.\d+)*)/i):i?(x=t(/os (\d+([_\s]\d+)*) like mac os x/i),x=x.replace(/[_\s]/g,".")):s?x=t(/android[ \/-](\d+(\.\d+)*)/i):n.webos?x=t(/(?:web|hpw)os\/(\d+(\.\d+)*)/i):n.blackberry?x=t(/rim\stablet\sos\s(\d+(\.\d+)*)/i):n.bada?x=t(/bada\/(\d+(\.\d+)*)/i):n.tizen&&(x=t(/tizen[\/\s](\d+(\.\d+)*)/i)),x&&(n.osversion=x);var T=x.split(".")[0];return S||u||"ipad"==i||s&&(3==T||T>=4&&!b)||n.silk?n.tablet=a:(b||"iphone"==i||"ipod"==i||s||l||n.blackberry||n.webos||n.bada)&&(n.mobile=a),n.msedge||n.msie&&n.version>=10||n.yandexbrowser&&n.version>=15||n.vivaldi&&n.version>=1||n.chrome&&n.version>=20||n.samsungBrowser&&n.version>=4||n.firefox&&n.version>=20||n.safari&&n.version>=6||n.opera&&n.version>=10||n.ios&&n.osversion&&n.osversion.split(".")[0]>=6||n.blackberry&&n.version>=10.1||n.chromium&&n.version>=20?n.a=a:n.msie&&n.version<10||n.chrome&&n.version<20||n.firefox&&n.version<20||n.safari&&n.version<6||n.opera&&n.version<10||n.ios&&n.osversion&&n.osversion.split(".")[0]<6||n.chromium&&n.version<20?n.c=a:n.x=a,n}function t(e){return e.split(".").length}function r(e,t){var r,n=[];if(Array.prototype.map)return Array.prototype.map.call(e,t);for(r=0;r<e.length;r++)n.push(t(e[r]));return n}function n(e){for(var n=Math.max(t(e[0]),t(e[1])),i=r(e,function(e){var i=n-t(e);return e+=new Array(i+1).join(".0"),r(e.split("."),function(e){return new Array(20-e.length).join("0")+e}).reverse()});--n>=0;){if(i[0][n]>i[1][n])return 1;if(i[0][n]!==i[1][n])return-1;if(0===n)return 0}}function i(t,r,i){var o=s;"string"==typeof r&&(i=r,r=void 0),void 0===r&&(r=!1),i&&(o=e(i));var a=""+o.version;for(var l in t)if(t.hasOwnProperty(l)&&o[l]){if("string"!=typeof t[l])throw new Error("Browser version in the minVersion map should be a string: "+l+": "+String(t));return n([a,t[l]])<0}return r}function o(e,t,r){return!i(e,t,r)}var a=!0,s=e("undefined"!=typeof navigator?navigator.userAgent||"":"");return s.test=function(e){for(var t=0;t<e.length;++t){var r=e[t];if("string"==typeof r&&r in s)return!0}return!1},s.isUnsupportedBrowser=i,s.compareVersions=n,s.check=o,s._detect=e,s})}}},"esotope-hammerhead":{":mainpath:":"esotope.js","esotope.js":function(e,t,r){"use strict";function n(){return{indent:null,base:null,parse:null,format:{indent:{style:"    ",base:0},newline:"\n",space:" ",json:!1,renumber:!1,hexadecimal:!1,quotes:"single",escapeless:!1,compact:!1,parentheses:!0,semicolons:!0,safeConcatenation:!1},directive:!1,raw:!0,verbatim:null}}function i(e){if(e<128)return e>=97&&e<=122||e>=65&&e<=90||e>=48&&e<=57||36===e||95===e||92===e;var t=String.fromCharCode(e);return $.test(t)}function o(e){return 10===e||13===e||8232===e||8233===e}function a(e){return 32===e||9===e||o(e)||11===e||12===e||160===e||e>=5760&&Y.indexOf(e)>=0}function s(e){return e>=48&&e<=57}function l(e,t){var r="";for(t|=0;t>0;t>>>=1,e+=e)1&t&&(r+=e);return r}function u(e,t){function r(e){return"object"==typeof e&&e instanceof Object&&!(e instanceof RegExp)}var n,i;for(n in t)t.hasOwnProperty(n)&&(i=t[n],r(i)?r(e[n])?u(e[n],i):e[n]=u({},i):e[n]=i);return e}function c(e){var t,r,n,i,o;if(e===1/0)return k?"null":j?"1e400":"1e+400";if(t=""+e,!j||t.length<3)return t;for(r=t.indexOf("."),k||48!==t.charCodeAt(0)||1!==r||(r=0,t=t.slice(1)),n=t,t=t.replace("e+","e"),i=0,(o=n.indexOf("e"))>0&&(i=+n.slice(o+1),n=n.slice(0,o)),r>=0&&(i-=n.length-r-1,n=+(n.slice(0,r)+n.slice(r+1))+""),o=0;48===n.charCodeAt(n.length+o-1);)--o;return 0!==o&&(i-=o,n=n.slice(0,o)),0!==i&&(n+="e"+i),(n.length<t.length||R&&e>1e12&&Math.floor(e)===e&&(n="0x"+e.toString(16)).length<t.length)&&+n===e&&(t=n),t}function d(e,t){return 8232===(e&-2)?(t?"u":"\\u")+(8232===e?"2028":"2029"):10===e||13===e?(t?"":"\\")+(10===e?"n":"r"):String.fromCharCode(e)}function p(e){var t,r,n,i,o,a,s,l;if(r=e.toString(),e.source){if(t=r.match(/\/([^/]*)$/),!t)return r;for(n=t[1],r="",s=!1,l=!1,i=0,o=e.source.length;i<o;++i)a=e.source.charCodeAt(i),l?(r+=d(a,l),l=!1):(s?93===a&&(s=!1):47===a?r+="\\":91===a&&(s=!0),r+=d(a,l),l=92===a);return"/"+r+"/"+n}return r}function f(e,t){var r,n="\\";switch(e){case 8:n+="b";break;case 12:n+="f";break;case 9:n+="t";break;default:r=e.toString(16).toUpperCase(),n+=k||e>255?"u"+"0000".slice(r.length)+r:0!==e||s(t)?11===e?"x0B":"x"+"00".slice(r.length)+r:"0"}return n}function h(e){var t="\\";switch(e){case 92:t+="\\";break;case 10:t+="n";break;case 13:t+="r";break;case 8232:t+="u2028";break;case 8233:t+="u2029"}return t}function m(e){var t,r,n,i;for(i="double"===U?'"':"'",t=0,r=e.length;t<r;++t){if(n=e.charCodeAt(t),39===n){i='"';break}if(34===n){i="'";break}92===n&&++t}return i+e+i}function v(e){var t,r,n,i,a,s="",l=0,u=0;for(t=0,r=e.length;t<r;++t){if(n=e.charCodeAt(t),39===n)++l;else if(34===n)++u;else if(47===n&&k)s+="\\";else{if(o(n)||92===n){s+=h(n);continue}if(k&&n<32||!(k||F||n>=32&&n<=126)){s+=f(n,e.charCodeAt(t+1));continue}}s+=String.fromCharCode(n)}if(i=!("double"===U||"auto"===U&&u<l),a=i?"'":'"',!(i?l:u))return a+s+a;for(e=s,s=a,t=0,r=e.length;t<r;++t)n=e.charCodeAt(t),(39===n&&i||34===n&&!i)&&(s+="\\"),s+=String.fromCharCode(n);return s+a}function g(e,t){if(!e.length)return t;if(!t.length)return e;var r=e.charCodeAt(e.length-1),n=t.charCodeAt(0);return i(r)&&i(n)||r===n&&(43===r||45===r)||47===r&&105===n?e+ne.space+t:a(r)||a(n)?e+t:e+ne.optSpace+t}function y(){var e=ne.indent;return ne.indent+=ne.indentUnit,e}function E(e){return e.type===K.BlockStatement?ne.optSpace:e.type===K.EmptyStatement?"":ne.newline+ne.indent+ne.indentUnit}function _(e){return e.type===K.BlockStatement?ne.optSpace:ne.newline+ne.indent}function S(e,t){var r=e[G.verbatim],n="string"==typeof r,i=n||void 0===r.precedence?z.Sequence:r.precedence,o=i<t.precedence,a=n?r:r.content,s=a.split(/\r\n|\n/),l=s.length;o&&(ne.js+="("),ne.js+=s[0];for(var u=1;u<l;u++)ne.js+=ne.newline+ne.indent+s[u];o&&(ne.js+=")")}function b(e){var t=e.params,r=t.length,n=r-1,i=e.type===K.ArrowFunctionExpression&&1===r&&t[0].type===K.Identifier;if(i)ne.js+=t[0].name;else{ne.js+="(";for(var o=0;o<r;++o){var a=t[o];t[o].type===K.Identifier?ne.js+=a.name:ie[a.type](a,Q.e4),o!==n&&(ne.js+=","+ne.optSpace)}ne.js+=")"}}function w(e){var t=e.body;if(b(e),e.type===K.ArrowFunctionExpression&&(ne.js+=ne.optSpace+"=>"),e.expression){ne.js+=ne.optSpace;var r=I(t,Q.e4);"{"===r.charAt(0)&&(r="("+r+")"),ne.js+=r}else ne.js+=E(t),oe[t.type](t,Q.s8)}function x(e,t){var r=e.operator,n=X[e.operator],o=n<t.precedence,a=t.allowIn||o,s=Q.e16(n,a),l=I(e.left,s);o|="in"===r&&!a,o&&(ne.js+="("),l=47===l.charCodeAt(l.length-1)&&i(r.charCodeAt(0))?l+ne.space+r:g(l,r),s.precedence++;var u=I(e.right,s);"/"===r&&"/"===u.charAt(0)||"<"===r.slice(-1)&&"!--"===u.slice(0,3)?l+=ne.space+u:l=g(l,u),ne.js+=l,o&&(ne.js+=")")}function T(e){var t=e.elements,r=t.length;if(r){var n=r-1,i=r>1,o=y(),a=ne.newline+ne.indent;ne.js+="[";for(var s=0;s<r;s++){var l=t[s];i&&(ne.js+=a),l&&ie[l.type](l,Q.e4),s===n&&l||(ne.js+=",")}ne.indent=o,i&&(ne.js+=ne.newline+ne.indent),ne.js+="]"}else ne.js+="[]"}function P(e){var t=e.blocks,r=e.filter,n=e.type===K.GeneratorExpression,i=n?"(":"[",o=I(e.body,Q.e4);if(t){for(var a=y(),s=t.length,l=0;l<s;++l){var u=I(t[l],Q.e5);i=l>0?g(i,u):i+u}ne.indent=a}if(r){var c=I(r,Q.e5);i=g(i,"if"+ne.optSpace),i=g(i,"("+c+")")}i=g(i,o),i+=n?")":"]",ne.js+=i}function A(e,t,r){for(var n=r.length,i=n-1,o=0;o<n;++o){var a=O(r[o],Q.s7);e=g(e,a),(t||o!==i)&&(e+=_(r[o].body))}return e}function C(e,t,r){var n=t.body,i=t.left,o=!B&&r.semicolonOptional,a=y(),s=t.await?" await":"",l="for"+s+ne.optSpace+"(";if(i.type===K.VariableDeclaration){var u=y();l+=i.kind+ne.space+O(i.declarations[0],Q.s6),ne.indent=u}else l+=I(i,Q.e10);l=g(l,e);var c=I(t.right,Q.e4);l=g(l,c)+")",ne.indent=a,ne.js+=l+E(n),oe[n.type](n,Q.s4(o))}function I(e,t){var r=ne.js;ne.js="",ie[e.type](e,t);var n=ne.js;return ne.js=r,n}function O(e,t){var r=ne.js;ne.js="",oe[e.type](e,t);var n=ne.js;return ne.js=r,n}function M(e){return ne.js="",oe[e.type]?oe[e.type](e,Q.s7):ie[e.type](e,Q.e19),ne.js}function N(e){return function(t,r){G.verbatim&&t.hasOwnProperty(G.verbatim)?S(t,r):e(t,r)}}function D(){var e={};for(var t in ee)ee.hasOwnProperty(t)&&(e[t]=N(ee[t]));return e}var L,k,j,R,U,F,H,B,V,W,G,q,K={AssignmentExpression:"AssignmentExpression",AssignmentPattern:"AssignmentPattern",ArrayExpression:"ArrayExpression",ArrayPattern:"ArrayPattern",ArrowFunctionExpression:"ArrowFunctionExpression",AwaitExpression:"AwaitExpression",BlockStatement:"BlockStatement",BinaryExpression:"BinaryExpression",BreakStatement:"BreakStatement",CallExpression:"CallExpression",CatchClause:"CatchClause",ClassBody:"ClassBody",ClassDeclaration:"ClassDeclaration",ClassExpression:"ClassExpression",ComprehensionBlock:"ComprehensionBlock",ComprehensionExpression:"ComprehensionExpression",ConditionalExpression:"ConditionalExpression",ContinueStatement:"ContinueStatement",DirectiveStatement:"DirectiveStatement",DoWhileStatement:"DoWhileStatement",DebuggerStatement:"DebuggerStatement",EmptyStatement:"EmptyStatement",ExportAllDeclaration:"ExportAllDeclaration",ExportBatchSpecifier:"ExportBatchSpecifier",ExportDeclaration:"ExportDeclaration",ExportNamedDeclaration:"ExportNamedDeclaration",ExportSpecifier:"ExportSpecifier",ExpressionStatement:"ExpressionStatement",ForStatement:"ForStatement",ForInStatement:"ForInStatement",ForOfStatement:"ForOfStatement",FunctionDeclaration:"FunctionDeclaration",FunctionExpression:"FunctionExpression",GeneratorExpression:"GeneratorExpression",Identifier:"Identifier",IfStatement:"IfStatement",Import:"Import",ImportSpecifier:"ImportSpecifier",ImportDeclaration:"ImportDeclaration",Literal:"Literal",LabeledStatement:"LabeledStatement",LogicalExpression:"LogicalExpression",MemberExpression:"MemberExpression",MetaProperty:"MetaProperty",MethodDefinition:"MethodDefinition",ModuleDeclaration:"ModuleDeclaration",NewExpression:"NewExpression",ObjectExpression:"ObjectExpression",ObjectPattern:"ObjectPattern",Program:"Program",Property:"Property",RestElement:"RestElement",ReturnStatement:"ReturnStatement",SequenceExpression:"SequenceExpression",SpreadElement:"SpreadElement",Super:"Super",SwitchStatement:"SwitchStatement",SwitchCase:"SwitchCase",TaggedTemplateExpression:"TaggedTemplateExpression",TemplateElement:"TemplateElement",TemplateLiteral:"TemplateLiteral",ThisExpression:"ThisExpression",ThrowStatement:"ThrowStatement",TryStatement:"TryStatement",UnaryExpression:"UnaryExpression",UpdateExpression:"UpdateExpression",VariableDeclaration:"VariableDeclaration",VariableDeclarator:"VariableDeclarator",WhileStatement:"WhileStatement",WithStatement:"WithStatement",YieldExpression:"YieldExpression"};e.Syntax=K;var z={Sequence:0,Yield:1,Assignment:1,Conditional:2,ArrowFunction:2,LogicalOR:3,LogicalAND:4,BitwiseOR:5,BitwiseXOR:6,BitwiseAND:7,Equality:8,Relational:9,BitwiseSHIFT:10,Additive:11,Multiplicative:12,Unary:13,Postfix:14,Await:14,Call:15,New:16,TaggedTemplate:17,Member:18,Primary:19},X={"||":z.LogicalOR,"&&":z.LogicalAND,"|":z.BitwiseOR,"^":z.BitwiseXOR,"&":z.BitwiseAND,"==":z.Equality,"!=":z.Equality,"===":z.Equality,"!==":z.Equality,is:z.Equality,isnt:z.Equality,"<":z.Relational,">":z.Relational,"<=":z.Relational,">=":z.Relational,"in":z.Relational,"instanceof":z.Relational,"<<":z.BitwiseSHIFT,">>":z.BitwiseSHIFT,">>>":z.BitwiseSHIFT,"+":z.Additive,"-":z.Additive,"*":z.Multiplicative,"%":z.Multiplicative,"/":z.Multiplicative},Y=[5760,6158,8192,8193,8194,8195,8196,8197,8198,8199,8200,8201,8202,8239,8287,12288,65279],$=new RegExp("[ªµºÀ-ÖØ-öø-ˁˆ-ˑˠ-ˤˬˮ̀-ʹͶͷͺ-ͽΆΈ-ΊΌΎ-ΡΣ-ϵϷ-ҁ҃-҇Ҋ-ԧԱ-Ֆՙա-և֑-ׇֽֿׁׂׅׄא-תװ-ײؐ-ؚؠ-٩ٮ-ۓە-ۜ۟-۪ۨ-ۼۿܐ-݊ݍ-ޱ߀-ߵߺࠀ-࠭ࡀ-࡛ࢠࢢ-ࢬࣤ-ࣾऀ-ॣ०-९ॱ-ॷॹ-ॿঁ-ঃঅ-ঌএঐও-নপ-রলশ-হ়-ৄেৈো-ৎৗড়ঢ়য়-ৣ০-ৱਁ-ਃਅ-ਊਏਐਓ-ਨਪ-ਰਲਲ਼ਵਸ਼ਸਹ਼ਾ-ੂੇੈੋ-੍ੑਖ਼-ੜਫ਼੦-ੵઁ-ઃઅ-ઍએ-ઑઓ-નપ-રલળવ-હ઼-ૅે-ૉો-્ૐૠ-ૣ૦-૯ଁ-ଃଅ-ଌଏଐଓ-ନପ-ରଲଳଵ-ହ଼-ୄେୈୋ-୍ୖୗଡ଼ଢ଼ୟ-ୣ୦-୯ୱஂஃஅ-ஊஎ-ஐஒ-கஙசஜஞடணதந-பம-ஹா-ூெ-ைொ-்ௐௗ௦-௯ఁ-ఃఅ-ఌఎ-ఐఒ-నప-ళవ-హఽ-ౄె-ైొ-్ౕౖౘౙౠ-ౣ౦-౯ಂಃಅ-ಌಎ-ಐಒ-ನಪ-ಳವ-ಹ಼-ೄೆ-ೈೊ-್ೕೖೞೠ-ೣ೦-೯ೱೲംഃഅ-ഌഎ-ഐഒ-ഺഽ-ൄെ-ൈൊ-ൎൗൠ-ൣ൦-൯ൺ-ൿංඃඅ-ඖක-නඳ-රලව-ෆ්ා-ුූෘ-ෟෲෳก-ฺเ-๎๐-๙ກຂຄງຈຊຍດ-ທນ-ຟມ-ຣລວສຫອ-ູົ-ຽເ-ໄໆ່-ໍ໐-໙ໜ-ໟༀ༘༙༠-༩༹༵༷༾-ཇཉ-ཬཱ-྄྆-ྗྙ-ྼ࿆က-၉ၐ-ႝႠ-ჅჇჍა-ჺჼ-ቈቊ-ቍቐ-ቖቘቚ-ቝበ-ኈኊ-ኍነ-ኰኲ-ኵኸ-ኾዀዂ-ዅወ-ዖዘ-ጐጒ-ጕጘ-ፚ፝-፟ᎀ-ᎏᎠ-Ᏼᐁ-ᙬᙯ-ᙿᚁ-ᚚᚠ-ᛪᛮ-ᛰᜀ-ᜌᜎ-᜔ᜠ-᜴ᝀ-ᝓᝠ-ᝬᝮ-ᝰᝲᝳក-៓ៗៜ៝០-៩᠋-᠍᠐-᠙ᠠ-ᡷᢀ-ᢪᢰ-ᣵᤀ-ᤜᤠ-ᤫᤰ-᤻᥆-ᥭᥰ-ᥴᦀ-ᦫᦰ-ᧉ᧐-᧙ᨀ-ᨛᨠ-ᩞ᩠-᩿᩼-᪉᪐-᪙ᪧᬀ-ᭋ᭐-᭙᭫-᭳ᮀ-᯳ᰀ-᰷᱀-᱉ᱍ-ᱽ᳐-᳔᳒-ᳶᴀ-ᷦ᷼-ἕἘ-Ἕἠ-ὅὈ-Ὅὐ-ὗὙὛὝὟ-ώᾀ-ᾴᾶ-ᾼιῂ-ῄῆ-ῌῐ-ΐῖ-Ίῠ-Ῥῲ-ῴῶ-ῼ‌‍‿⁀⁔ⁱⁿₐ-ₜ⃐-⃥⃜⃡-⃰ℂℇℊ-ℓℕℙ-ℝℤΩℨK-ℭℯ-ℹℼ-ℿⅅ-ⅉⅎⅠ-ↈⰀ-Ⱞⰰ-ⱞⱠ-ⳤⳫ-ⳳⴀ-ⴥⴧⴭⴰ-ⵧⵯ⵿-ⶖⶠ-ⶦⶨ-ⶮⶰ-ⶶⶸ-ⶾⷀ-ⷆⷈ-ⷎⷐ-ⷖⷘ-ⷞⷠ-ⷿⸯ々-〇〡-〯〱-〵〸-〼ぁ-ゖ゙゚ゝ-ゟァ-ヺー-ヿㄅ-ㄭㄱ-ㆎㆠ-ㆺㇰ-ㇿ㐀-䶵一-鿌ꀀ-ꒌꓐ-ꓽꔀ-ꘌꘐ-ꘫꙀ-꙯ꙴ-꙽ꙿ-ꚗꚟ-꛱ꜗ-ꜟꜢ-ꞈꞋ-ꞎꞐ-ꞓꞠ-Ɦꟸ-ꠧꡀ-ꡳꢀ-꣄꣐-꣙꣠-ꣷꣻ꤀-꤭ꤰ-꥓ꥠ-ꥼꦀ-꧀ꧏ-꧙ꨀ-ꨶꩀ-ꩍ꩐-꩙ꩠ-ꩶꩺꩻꪀ-ꫂꫛ-ꫝꫠ-ꫯꫲ-꫶ꬁ-ꬆꬉ-ꬎꬑ-ꬖꬠ-ꬦꬨ-ꬮꯀ-ꯪ꯬꯭꯰-꯹가-힣ힰ-ퟆퟋ-ퟻ豈-舘並-龎ﬀ-ﬆﬓ-ﬗיִ-ﬨשׁ-זּטּ-לּמּנּסּףּפּצּ-ﮱﯓ-ﴽﵐ-ﶏﶒ-ﷇﷰ-ﷻ︀-️︠-︦︳︴﹍-﹏ﹰ-ﹴﹶ-ﻼ０-９Ａ-Ｚ＿ａ-ｚｦ-ﾾￂ-ￇￊ-ￏￒ-ￗￚ-ￜ]");L=Array.isArray,L||(L=function(e){return"[object Array]"===Object.prototype.toString.call(e)});var Q={e1:function(e){return{precedence:z.Assignment,allowIn:e,allowCall:!0,allowUnparenthesizedNew:!0}},e2:function(e){return{precedence:z.LogicalOR,allowIn:e,allowCall:!0,allowUnparenthesizedNew:!0}},e3:{precedence:z.Call,allowIn:!0,allowCall:!0,allowUnparenthesizedNew:!1},e4:{precedence:z.Assignment,allowIn:!0,allowCall:!0,allowUnparenthesizedNew:!0},e5:{precedence:z.Sequence,allowIn:!0,allowCall:!0,allowUnparenthesizedNew:!0},e6:function(e){return{precedence:z.New,allowIn:!0,allowCall:!1,allowUnparenthesizedNew:e}},e7:{precedence:z.Unary,allowIn:!0,allowCall:!0,allowUnparenthesizedNew:!0},e8:{precedence:z.Postfix,allowIn:!0,allowCall:!0,allowUnparenthesizedNew:!0},e9:{precedence:void 0,allowIn:!0,allowCall:!0,allowUnparenthesizedNew:!0},e10:{precedence:z.Call,allowIn:!0,allowCall:!0,allowUnparenthesizedNew:!0},e11:function(e){return{precedence:z.Call,allowIn:!0,allowCall:e,allowUnparenthesizedNew:!1}},e12:{precedence:z.Primary,allowIn:!1,allowCall:!1,allowUnparenthesizedNew:!0},e13:{precedence:z.Primary,allowIn:!0,allowCall:!0,allowUnparenthesizedNew:!0},e14:{precedence:z.Sequence,allowIn:!1,allowCall:!0,allowUnparenthesizedNew:!0},e15:function(e){return{precedence:z.Sequence,allowIn:!0,allowCall:e,allowUnparenthesizedNew:!0}},e16:function(e,t){return{precedence:e,allowIn:t,allowCall:!0,allowUnparenthesizedNew:!0}},e17:function(e){return{precedence:z.Call,allowIn:e,allowCall:!0,allowUnparenthesizedNew:!0}},e18:function(e){return{precedence:z.Assignment,allowIn:e,allowCall:!0,allowUnparenthesizedNew:!0}},e19:{precedence:z.Sequence,allowIn:!0,allowCall:!0,semicolonOptional:!1},e20:{precedence:z.Await,allowCall:!0},s1:function(e,t){return{allowIn:!0,functionBody:!1,directiveContext:e,semicolonOptional:t}},s2:{allowIn:!0,functionBody:!1,directiveContext:!1,semicolonOptional:!0},s3:function(e){return{allowIn:e,functionBody:!1,directiveContext:!1,semicolonOptional:!1}},s4:function(e){return{allowIn:!0,functionBody:!1,directiveContext:!1,semicolonOptional:e}},s5:function(e){return{allowIn:!0,functionBody:!1,directiveContext:!0,semicolonOptional:e}},s6:{allowIn:!1,functionBody:!1,directiveContext:!1,semicolonOptional:!1},s7:{allowIn:!0,functionBody:!1,directiveContext:!1,semicolonOptional:!1},s8:{allowIn:!0,functionBody:!0,directiveContext:!1,semicolonOptional:!1}},J=/[.eExX]|^0[0-9]+/,Z=/[0-9]$/,ee={SequenceExpression:function(e,t){var r=e.expressions,n=r.length,i=n-1,o=z.Sequence<t.precedence,a=Q.e1(t.allowIn||o);o&&(ne.js+="(");for(var s=0;s<n;s++){var l=r[s];ie[l.type](l,a),s!==i&&(ne.js+=","+ne.optSpace)}o&&(ne.js+=")")},AssignmentExpression:function(e,t){var r=e.left,n=e.right,i=z.Assignment<t.precedence,o=t.allowIn||i;i&&(ne.js+="("),ie[r.type](r,Q.e17(o)),ne.js+=ne.optSpace+e.operator+ne.optSpace,ie[n.type](n,Q.e18(o)),i&&(ne.js+=")")},AssignmentPattern:function(e){var t={left:e.left,right:e.right,operator:"="};ie.AssignmentExpression(t,Q.e4)},ArrowFunctionExpression:function(e,t){var r=z.ArrowFunction<t.precedence;r&&(ne.js+="("),e.async&&(ne.js+="async "),w(e),r&&(ne.js+=")")},AwaitExpression:function(e,t){var r=z.Await<t.precedence;r&&(ne.js+="("),ne.js+=e.all?"await* ":"await ",ie[e.argument.type](e.argument,Q.e20),r&&(ne.js+=")")},ConditionalExpression:function(e,t){var r=e.test,n=e.consequent,i=e.alternate,o=z.Conditional<t.precedence,a=t.allowIn||o,s=Q.e2(a),l=Q.e1(a);o&&(ne.js+="("),ie[r.type](r,s),ne.js+=ne.optSpace+"?"+ne.optSpace,ie[n.type](n,l),ne.js+=ne.optSpace+":"+ne.optSpace,ie[i.type](i,l),o&&(ne.js+=")")},LogicalExpression:x,BinaryExpression:x,CallExpression:function(e,t){var r=e.callee,n=e.arguments,i=n.length,o=i-1,a=!t.allowCall||z.Call<t.precedence;a&&(ne.js+="("),ie[r.type](r,Q.e3),ne.js+="(";for(var s=0;s<i;++s){var l=n[s];ie[l.type](l,Q.e4),s!==o&&(ne.js+=","+ne.optSpace)}ne.js+=")",a&&(ne.js+=")")},NewExpression:function(e,t){var r=e.arguments,n=z.New<t.precedence,i=r.length,o=i-1,a=!t.allowUnparenthesizedNew||H||i>0,s=I(e.callee,Q.e6(!a));if(n&&(ne.js+="("),ne.js+=g("new",s),a){ne.js+="(";for(var l=0;l<i;++l){var u=r[l];ie[u.type](u,Q.e4),l!==o&&(ne.js+=","+ne.optSpace)}ne.js+=")"}n&&(ne.js+=")")},MemberExpression:function(e,t){var r=e.object,n=e.property,i=z.Member<t.precedence,o=!e.computed&&r.type===K.Literal&&"number"==typeof r.value;if(i&&(ne.js+="("),o){var a=I(r,Q.e11(t.allowCall)),s=Z.test(a)&&!J.test(a);ne.js+=s?a+".":a}else ie[r.type](r,Q.e11(t.allowCall));e.computed?(ne.js+="[",ie[n.type](n,Q.e15(t.allowCall)),ne.js+="]"):ne.js+="."+n.name,i&&(ne.js+=")")},UnaryExpression:function(e,t){var r=z.Unary<t.precedence,n=e.operator,o=I(e.argument,Q.e7);if(r&&(ne.js+="("),""===ne.optSpace||n.length>2)ne.js+=g(n,o);else{ne.js+=n;var a=n.charCodeAt(n.length-1),s=o.charCodeAt(0);(a===s&&(43===a||45===a)||i(a)&&i(s))&&(ne.js+=ne.space),ne.js+=o}r&&(ne.js+=")")},YieldExpression:function(e,t){var r=e.argument,n=e.delegate?"yield*":"yield",i=z.Yield<t.precedence;if(i&&(ne.js+="("),r){var o=I(r,Q.e4);n=g(n,o)}ne.js+=n,i&&(ne.js+=")")},UpdateExpression:function(e,t){var r=e.argument,n=e.operator,i=e.prefix,o=i?z.Unary:z.Postfix,a=o<t.precedence;a&&(ne.js+="("),i?(ne.js+=n,ie[r.type](r,Q.e8)):(ie[r.type](r,Q.e8),ne.js+=n),a&&(ne.js+=")")},FunctionExpression:function(e){var t=!!e.generator;e.async&&(ne.js+="async "),ne.js+=t?"function*":"function",e.id?(ne.js+=t?ne.optSpace:ne.space,ne.js+=e.id.name):ne.js+=ne.optSpace,w(e)},ExportBatchSpecifier:function(){ne.js+="*"},ArrayPattern:T,ArrayExpression:T,ClassExpression:function(e){var t=e.id,r=e.superClass,n=e.body,i="class";if(t){var o=I(t,Q.e9);i=g(i,o)}if(r){var a=I(r,Q.e4);a=g("extends",a),i=g(i,a)}ne.js+=i+ne.optSpace,oe[n.type](n,Q.s2)},MetaProperty:function(e,t){var r=e.meta,n=e.property,i=z.Member<t.precedence;i&&(ne.js+="("),ne.js+=("string"==typeof r?r:r.name)+"."+("string"==typeof n?n:n.name),i&&(ne.js+=")")},MethodDefinition:function(e){var t=e["static"]?"static"+ne.optSpace:"",r=I(e.key,Q.e5);e.computed&&(r="["+r+"]"),"get"===e.kind||"set"===e.kind?(r=g(e.kind,r),ne.js+=g(t,r)):e.value.generator?ne.js+=t+"*"+r:e.value.async?ne.js+=t+"async "+r:ne.js+=g(t,r),w(e.value)},Property:function(e){var t=e.value,r=e.kind,n=I(e.key,Q.e4);e.computed&&(n="["+n+"]"),"get"===r||"set"===r?(ne.js+=r+ne.space+n,w(t)):e.shorthand?ne.js+=n:e.method?(t.generator?n="*"+n:t.async&&(n="async "+n),ne.js+=n,w(t)):(ne.js+=n+":"+ne.optSpace,ie[t.type](t,Q.e4))},ObjectExpression:function(e){var t=e.properties,r=t.length;if(r){var n=r-1,i=y();ne.js+="{";for(var o=0;o<r;o++){var a=t[o],s=a.type||K.Property;ne.js+=ne.newline+ne.indent,ie[s](a,Q.e5),o!==n&&(ne.js+=",")}ne.indent=i,ne.js+=ne.newline+ne.indent+"}"}else ne.js+="{}"},ObjectPattern:function(e){var t=e.properties,r=t.length;if(r){var n=r-1,i=!1;if(1===r)i=t[0].value.type!==K.Identifier;else for(var o=0;o<r;o++)if(!t[o].shorthand){i=!0;break}ne.js+=i?"{"+ne.newline:"{";for(var a=y(),s=","+(i?ne.newline:ne.optSpace),o=0;o<r;o++){var l=t[o];i&&(ne.js+=ne.indent),ie[l.type](l,Q.e5),o!==n&&(ne.js+=s)}ne.indent=a,ne.js+=i?ne.newline+ne.indent+"}":"}"}else ne.js+="{}"},ThisExpression:function(){ne.js+="this"},Identifier:function(e){ne.js+=e.name},Import:function(){ne.js+="import"},ImportSpecifier:function(e){ne.js+=e.imported.name,e.local&&(ne.js+=ne.space+"as"+ne.space+e.local.name)},ExportSpecifier:function(e){ne.js+=e.local.name,e.exported&&(ne.js+=ne.space+"as"+ne.space+e.exported.name)},Literal:function(e){if(G.raw&&void 0!==e.raw)ne.js+=e.raw;else if(null===e.value)ne.js+="null";else{var t=typeof e.value;"string"===t?ne.js+=v(e.value):"number"===t?ne.js+=c(e.value):"boolean"===t?ne.js+=e.value?"true":"false":ne.js+=p(e.value)}},GeneratorExpression:P,ComprehensionExpression:P,ComprehensionBlock:function(e){var t=e.left,r=void 0,n=I(e.right,Q.e5);r=t.type===K.VariableDeclaration?t.kind+ne.space+O(t.declarations[0],Q.s6):I(t,Q.e10),r=g(r,e.of?"of":"in"),ne.js+="for"+ne.optSpace+"("+g(r,n)+")"},RestElement:function(e){ne.js+="..."+e.argument.name},SpreadElement:function(e){
var t=e.argument;ne.js+="...",ie[t.type](t,Q.e4)},TaggedTemplateExpression:function(e,t){var r=e.tag,n=e.quasi,i=z.TaggedTemplate<t.precedence;i&&(ne.js+="("),ie[r.type](r,Q.e11(t.allowCall)),ie[n.type](n,Q.e12),i&&(ne.js+=")")},TemplateElement:function(e){ne.js+=e.value.raw},TemplateLiteral:function(e){var t=e.quasis,r=e.expressions,n=t.length,i=n-1;ne.js+="`";for(var o=0;o<n;++o){var a=t[o];if(ie[a.type](a,Q.e13),o!==i){var s=r[o];ne.js+="${"+ne.optSpace,ie[s.type](s,Q.e5),ne.js+=ne.optSpace+"}"}}ne.js+="`"},Super:function(){ne.js+="super"}},te=/^{|^class(?:\s|{)|^(async )?function(?:\s|\*|\()/,re={BlockStatement:function(e,t){var r=e.body,n=r.length,i=n-1,o=y();ne.js+="{"+ne.newline;for(var a=0;a<n;a++){var s=r[a];ne.js+=ne.indent,oe[s.type](s,Q.s1(t.functionBody,a===i)),ne.js+=ne.newline}ne.indent=o,ne.js+=ne.indent+"}"},BreakStatement:function(e,t){e.label?ne.js+="break "+e.label.name:ne.js+="break",!B&&t.semicolonOptional||(ne.js+=";")},ContinueStatement:function(e,t){e.label?ne.js+="continue "+e.label.name:ne.js+="continue",!B&&t.semicolonOptional||(ne.js+=";")},ClassBody:function(e){var t=e.body,r=t.length,n=r-1,i=y();ne.js+="{"+ne.newline;for(var o=0;o<r;o++){var a=t[o],s=a.type||K.Property;ne.js+=ne.indent,ie[s](a,Q.e5),o!==n&&(ne.js+=ne.newline)}ne.indent=i,ne.js+=ne.newline+ne.indent+"}"},ClassDeclaration:function(e){var t=e.body,r=e.superClass,n="class "+e.id.name;if(r){var i=I(r,Q.e4);n+=ne.space+g("extends",i)}ne.js+=n+ne.optSpace,oe[t.type](t,Q.s2)},DirectiveStatement:function(e,t){G.raw&&e.raw?ne.js+=e.raw:ne.js+=m(e.directive),!B&&t.semicolonOptional||(ne.js+=";")},DoWhileStatement:function(e,t){var r=e.body,n=e.test,i=E(r)+O(r,Q.s7)+_(r),o=g("do",i);ne.js+=g(o,"while"+ne.optSpace+"("),ie[n.type](n,Q.e5),ne.js+=")",!B&&t.semicolonOptional||(ne.js+=";")},CatchClause:function(e){var t=e.param,r=e.guard,n=e.body,i=y();ne.js+="catch"+ne.optSpace,t&&(ne.js+="(",ie[t.type](t,Q.e5)),r&&(ne.js+=" if ",ie[r.type](r,Q.e5)),ne.indent=i,t&&(ne.js+=")"),ne.js+=E(n),oe[n.type](n,Q.s7)},DebuggerStatement:function(e,t){ne.js+="debugger",!B&&t.semicolonOptional||(ne.js+=";")},EmptyStatement:function(){ne.js+=";"},ExportAllDeclaration:function(e,t){re.ExportDeclaration(e,t,!0)},ExportDeclaration:function(e,t,r){var n=e.specifiers,i=e.declaration,o=B||!t.semicolonOptional;if(e["default"]){var a=I(i,Q.e4);ne.js+=g("export default",a),o&&(ne.js+=";")}else if(n||r){var s="export";if(r)s+=ne.optSpace+"*";else if(0===n.length)s+=ne.optSpace+"{"+ne.optSpace+"}";else if(n[0].type===K.ExportBatchSpecifier){var l=I(n[0],Q.e5);s=g(s,l)}else{var u=y(),c=n.length,d=c-1;s+=ne.optSpace+"{";for(var p=0;p<c;++p)s+=ne.newline+ne.indent,s+=I(n[p],Q.e5),p!==d&&(s+=",");ne.indent=u,s+=ne.newline+ne.indent+"}"}e.source?(ne.js+=g(s,"from"+ne.optSpace),ie.Literal(e.source)):ne.js+=s,o&&(ne.js+=";")}else if(i){var a=O(i,Q.s4(!o));ne.js+=g("export",a)}},ExportNamedDeclaration:function(e,t){re.ExportDeclaration(e,t)},ExpressionStatement:function(e,t){var r=I(e.expression,Q.e5),n=te.test(r)||W&&t.directiveContext&&e.expression.type===K.Literal&&"string"==typeof e.expression.value;n?ne.js+="("+r+")":ne.js+=r,!B&&t.semicolonOptional||(ne.js+=";")},ImportDeclaration:function(e,t){var r=e.specifiers,n="import",i=r.length;if(i){var o=!!r[0]["default"],a=o?1:0,s=i-1;if(o&&(n=g(n,r[0].id.name)),a<i){if(o&&(n+=","),n+=ne.optSpace+"{",a===s)n+=ne.optSpace+I(r[a],Q.e5)+ne.optSpace;else{for(var l=y(),u=a;u<i;u++)n+=ne.newline+ne.indent+I(r[u],Q.e5),u!==s&&(n+=",");ne.indent=l,n+=ne.newline+ne.indent}n+="}"+ne.optSpace}n=g(n,"from")}ne.js+=n+ne.optSpace,ie.Literal(e.source),!B&&t.semicolonOptional||(ne.js+=";")},VariableDeclarator:function(e,t){var r=e.id,n=e.init,i=Q.e1(t.allowIn);n?(ie[r.type](r,i),ne.js+=ne.optSpace+"="+ne.optSpace,ie[n.type](n,i)):r.type===K.Identifier?ne.js+=r.name:ie[r.type](r,i)},VariableDeclaration:function(e,t){var r=e.declarations,n=r.length,i=n>1?y():ne.indent,o=Q.s3(t.allowIn);ne.js+=e.kind;for(var a=0;a<n;a++){var s=r[a];ne.js+=0===a?ne.space:","+ne.optSpace,oe[s.type](s,o)}!B&&t.semicolonOptional||(ne.js+=";"),ne.indent=i},ThrowStatement:function(e,t){var r=I(e.argument,Q.e5);ne.js+=g("throw",r),!B&&t.semicolonOptional||(ne.js+=";")},TryStatement:function(e){var t=e.block,r=e.finalizer,n="try"+E(t)+O(t,Q.s7)+_(t),i=e.handlers||e.guardedHandlers;i&&(n=A(n,r,i)),e.handler&&(i=L(e.handler)?e.handler:[e.handler],n=A(n,r,i)),r&&(n=g(n,"finally"+E(r)),n+=O(r,Q.s7)),ne.js+=n},SwitchStatement:function(e){var t=e.cases,r=e.discriminant,n=y();if(ne.js+="switch"+ne.optSpace+"(",ie[r.type](r,Q.e5),ne.js+=")"+ne.optSpace+"{"+ne.newline,ne.indent=n,t)for(var i=t.length,o=i-1,a=0;a<i;a++){var s=t[a];ne.js+=ne.indent,oe[s.type](s,Q.s4(a===o)),ne.js+=ne.newline}ne.js+=ne.indent+"}"},SwitchCase:function(e,t){var r=e.consequent,n=r[0],i=e.test,o=0,a=!B&&t.semicolonOptional,s=r.length,l=s-1,u=y();if(i){var c=I(i,Q.e5);ne.js+=g("case",c)+":"}else ne.js+="default:";for(s&&n.type===K.BlockStatement&&(o++,ne.js+=E(n),oe[n.type](n,Q.s7));o<s;o++){var d=r[o],p=o===l&&a;ne.js+=ne.newline+ne.indent,oe[d.type](d,Q.s4(p))}ne.indent=u},IfStatement:function(e,t){var r=e.consequent,n=e.test,i=y(),o=!B&&t.semicolonOptional;if(ne.js+="if"+ne.optSpace+"(",ie[n.type](n,Q.e5),ne.js+=")",ne.indent=i,ne.js+=E(r),e.alternate){var a=O(r,Q.s7)+_(r),s=O(e.alternate,Q.s4(o));s=e.alternate.type===K.IfStatement?"else "+s:g("else",E(e.alternate)+s),ne.js+=g(a,s)}else oe[r.type](r,Q.s4(o))},ForStatement:function(e,t){var r=e.init,n=e.test,i=e.body,o=e.update,a=!B&&t.semicolonOptional,s=y();ne.js+="for"+ne.optSpace+"(",r?r.type===K.VariableDeclaration?oe[r.type](r,Q.s6):(ie[r.type](r,Q.e14),ne.js+=";"):ne.js+=";",n&&(ne.js+=ne.optSpace,ie[n.type](n,Q.e5)),ne.js+=";",o&&(ne.js+=ne.optSpace,ie[o.type](o,Q.e5)),ne.js+=")",ne.indent=s,ne.js+=E(i),oe[i.type](i,Q.s4(a))},ForInStatement:function(e,t){C("in",e,t)},ForOfStatement:function(e,t){C("of",e,t)},LabeledStatement:function(e,t){var r=e.body,n=!B&&t.semicolonOptional,i=ne.indent;ne.js+=e.label.name+":"+E(r),r.type!==K.BlockStatement&&(i=y()),oe[r.type](r,Q.s4(n)),ne.indent=i},ModuleDeclaration:function(e,t){ne.js+="module"+ne.space+e.id.name+ne.space+"from"+ne.optSpace,ie.Literal(e.source),!B&&t.semicolonOptional||(ne.js+=";")},Program:function(e){var t=e.body,r=t.length,n=r-1;V&&r>0&&(ne.js+="\n");for(var i=0;i<r;i++){var o=t[i];ne.js+=ne.indent,oe[o.type](o,Q.s5(!V&&i===n)),i!==n&&(ne.js+=ne.newline)}},FunctionDeclaration:function(e){var t=!!e.generator;e.async&&(ne.js+="async "),ne.js+=t?"function*"+ne.optSpace:"function"+ne.space,ne.js+=e.id.name,w(e)},ReturnStatement:function(e,t){var r=e.argument;if(r){var n=I(r,Q.e5);ne.js+=g("return",n)}else ne.js+="return";!B&&t.semicolonOptional||(ne.js+=";")},WhileStatement:function(e,t){var r=e.body,n=e.test,i=!B&&t.semicolonOptional,o=y();ne.js+="while"+ne.optSpace+"(",ie[n.type](n,Q.e5),ne.js+=")",ne.indent=o,ne.js+=E(r),oe[r.type](r,Q.s4(i))},WithStatement:function(e,t){var r=e.body,n=e.object,i=!B&&t.semicolonOptional,o=y();ne.js+="with"+ne.optSpace+"(",ie[n.type](n,Q.e5),ne.js+=")",ne.indent=o,ne.js+=E(r),oe[r.type](r,Q.s4(i))}},ne={js:"",newline:"\n",optSpace:" ",space:" ",indentUnit:"    ",indent:""},ie=void 0,oe=re;e.generate=function(e,t){var r=n();return null!=t?("string"==typeof t.indent&&(r.format.indent.style=t.indent),"number"==typeof t.base&&(r.format.indent.base=t.base),t=u(r,t),ne.indentUnit=t.format.indent.style,"string"==typeof t.base?ne.indent=t.base:ne.indent=l(ne.indentUnit,t.format.indent.base)):(t=r,ne.indentUnit=t.format.indent.style,ne.indent=l(ne.indentUnit,t.format.indent.base)),k=t.format.json,j=t.format.renumber,R=!k&&t.format.hexadecimal,U=k?"double":t.format.quotes,F=t.format.escapeless,ne.newline=t.format.newline,ne.optSpace=t.format.space,t.format.compact&&(ne.newline=ne.optSpace=ne.indentUnit=ne.indent=""),ne.space=ne.optSpace?ne.optSpace:" ",H=t.format.parentheses,B=t.format.semicolons,V=t.format.safeConcatenation,W=t.directive,q=k?null:t.parse,G=t,ie=G.verbatim?D():ee,M(e)}}},"json-hammerhead":{":mainpath:":"json.js","json.js":function(exports,module,require){function f(e){return e<10?"0"+e:e}function quote(e){return escapable.lastIndex=0,escapable.test(e)?'"'+e.replace(escapable,function(e){var t=meta[e];return"string"==typeof t?t:"\\u"+("0000"+e.charCodeAt(0).toString(16)).slice(-4)})+'"':'"'+e+'"'}function str(e,t){var r,n,i,o,a,s=gap,l=t[e];if(l&&"object"==typeof l){var u=Object.prototype.toString.apply(l);"[object String]"===u||"[object Number]"===u||"[object Boolean]"===u?l=l.valueOf():"[object Date]"===u&&(l=isFinite(this.valueOf())?this.getUTCFullYear()+"-"+f(this.getUTCMonth()+1)+"-"+f(this.getUTCDate())+"T"+f(this.getUTCHours())+":"+f(this.getUTCMinutes())+":"+f(this.getUTCSeconds())+"Z":null)}switch(typeof l){case"string":return quote(l);case"number":return isFinite(l)?String(l):"null";case"boolean":case"null":return String(l);case"object":if(!l)return"null";if(gap+=indent,a=[],"[object Array]"===Object.prototype.toString.apply(l)){for(o=l.length,r=0;r<o;r+=1)a[r]=str(r,l)||"null";return i=0===a.length?"[]":gap?"[\n"+gap+a.join(",\n"+gap)+"\n"+s+"]":"["+a.join(",")+"]",gap=s,i}for(n in l)Object.prototype.hasOwnProperty.call(l,n)&&(i=str(n,l),i&&a.push(quote(n)+(gap?": ":":")+i));return i=0===a.length?"{}":gap?"{\n"+gap+a.join(",\n"+gap)+"\n"+s+"}":"{"+a.join(",")+"}",gap=s,i}}function isDOMNode(e){return"object"==typeof Node?e instanceof Node:"number"==typeof e.nodeType&&"string"==typeof e.nodeName}function isJQueryObj(e){return!(!e||!e.jquery)}var cx=/[\u0000\u00ad\u0600-\u0604\u070f\u17b4\u17b5\u200c-\u200f\u2028-\u202f\u2060-\u206f\ufeff\ufff0-\uffff]/g,escapable=/[\\\"\x00-\x1f\x7f-\x9f\u00ad\u0600-\u0604\u070f\u17b4\u17b5\u200c-\u200f\u2028-\u202f\u2060-\u206f\ufeff\ufff0-\uffff]/g,gap,indent,meta={"\b":"\\b","\t":"\\t","\n":"\\n","\f":"\\f","\r":"\\r",'"':'\\"',"\\":"\\\\"};exports.stringify=function(e){return gap="",indent="",str("",{"":e})},exports.parse=function(text,reviver){function walk(e,t){var r,n,i=e[t];if(i&&"object"==typeof i)for(r in i)Object.prototype.hasOwnProperty.call(i,r)&&(n=walk(i,r),void 0!==n?i[r]=n:delete i[r]);return reviver.call(e,t,i)}var j;if(text=String(text),cx.lastIndex=0,cx.test(text)&&(text=text.replace(cx,function(e){return"\\u"+("0000"+e.charCodeAt(0).toString(16)).slice(-4)})),/^[\],:{}\s]*$/.test(text.replace(/\\(?:["\\\/bfnrt]|u[0-9a-fA-F]{4})/g,"@").replace(/"[^"\\\n\r]*"|true|false|null|-?\d+(?:\.\d*)?(?:[eE][+\-]?\d+)?/g,"]").replace(/(?:^|:|,)(?:\s*\[)+/g,"")))return j=eval("("+text+")"),"function"==typeof reviver?walk({"":j},""):j;throw new SyntaxError("JSON.parse")},exports.isSerializable=function(e){if(e){if("function"==typeof e||isJQueryObj(e)||isDOMNode(e))return!1;if("object"==typeof e)for(var t in e)if(e.hasOwnProperty(t)&&!exports.isSerializable(e[t]))return!1}return!0}}},pinkie:{"index.js":function(e,t,r){function n(){for(var e=0;e<x.length;e++)x[e][0](x[e][1]);x=[],v=!1}function i(e,t){x.push([e,t]),v||(v=!0,w(n,0))}function o(e,t){function r(e){l(t,e)}function n(e){c(t,e)}try{e(r,n)}catch(i){n(i)}}function a(e){var t=e.owner,r=t._state,n=t._data,i=e[r],o=e.then;if("function"==typeof i){r=E;try{n=i(n)}catch(a){c(o,a)}}s(o,n)||(r===E&&l(o,n),r===_&&c(o,n))}function s(e,t){var r;try{if(e===t)throw new TypeError("A promises callback cannot return that same promise.");if(t&&("function"==typeof t||"object"==typeof t)){var n=t.then;if("function"==typeof n)return n.call(t,function(n){r||(r=!0,t===n?u(e,n):l(e,n))},function(t){r||(r=!0,c(e,t))}),!0}}catch(i){return r||c(e,i),!0}return!1}function l(e,t){e!==t&&s(e,t)||u(e,t)}function u(e,t){e._state===g&&(e._state=y,e._data=t,i(p,e))}function c(e,t){e._state===g&&(e._state=y,e._data=t,i(f,e))}function d(e){e._then=e._then.forEach(a)}function p(e){e._state=E,d(e)}function f(e){e._state=_,d(e),!e._handled&&b&&global.process.emit("unhandledRejection",e._data,e)}function h(e){global.process.emit("rejectionHandled",e)}function m(e){if("function"!=typeof e)throw new TypeError("Promise resolver "+e+" is not a function");if(this instanceof m==!1)throw new TypeError("Failed to construct 'Promise': Please use the 'new' operator, this object constructor cannot be called as a function.");this._then=[],o(e,this)}var v,g="pending",y="settled",E="fulfilled",_="rejected",S=function(){},b="undefined"!=typeof global&&"undefined"!=typeof global.process&&"function"==typeof global.process.emit,w="undefined"==typeof setImmediate?setTimeout:setImmediate,x=[];m.prototype={constructor:m,_state:g,_then:null,_data:void 0,_handled:!1,then:function(e,t){var r={owner:this,then:new this.constructor(S),fulfilled:e,rejected:t};return!t&&!e||this._handled||(this._handled=!0,this._state===_&&b&&i(h,this)),this._state===E||this._state===_?i(a,r):this._then.push(r),r.then},"catch":function(e){return this.then(null,e)}},m.all=function(e){if(!Array.isArray(e))throw new TypeError("You must pass an array to Promise.all().");return new m(function(t,r){function n(e){return a++,function(r){o[e]=r,--a||t(o)}}for(var i,o=[],a=0,s=0;s<e.length;s++)i=e[s],i&&"function"==typeof i.then?i.then(n(s),r):o[s]=i;a||t(o)})},m.race=function(e){if(!Array.isArray(e))throw new TypeError("You must pass an array to Promise.race().");return new m(function(t,r){for(var n,i=0;i<e.length;i++)n=e[i],n&&"function"==typeof n.then?n.then(t,r):t(n)})},m.resolve=function(e){return e&&"object"==typeof e&&e.constructor===m?e:new m(function(t){t(e)})},m.reject=function(e){return new m(function(t,r){r(e)})},t.exports=m}},"testcafe-hammerhead":{src:{client:{"dom-processor":{"client-dom-adapter.js":function(e,t,r){function n(e,t){e.prototype=Object.create(t.prototype),e.prototype.constructor=e,i(e,t)}function i(e,t){return(i=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e})(e,t)}var o=function(e){return e&&e.__esModule?e:{"default":e}},a=function(e){if(e&&e.__esModule)return e;var t={};if(null!=e)for(var r in e)Object.hasOwnProperty.call(e,r)&&(t[r]=e[r]);return t["default"]=e,t};Object.defineProperty(e,"__esModule",{value:!0});var s=o(r("../../processing/dom/internal-properties")),l=o(r("../../processing/dom/base-dom-adapter")),u=o(r("../sandbox/native-methods")),c=r("../utils/destination-location"),d=r("../utils/url"),p=a(r("../utils/dom")),f=o(r("../sandbox/node/document/writer")),h=r("../sandbox/windows-storage"),m=r("../utils/html"),v=function(e){function t(){var t;return t=e.apply(this,arguments)||this,t._srcdocMode=!1,t}n(t,e);var r=t.prototype;return r.removeAttr=function(e,t){return u["default"].removeAttribute.call(e,t)},r.getAttr=function(e,t){return u["default"].getAttribute.call(e,t)},r.hasAttr=function(e,t){return e.hasAttribute(t)},r.isSVGElement=function(e){return p.isSVGElement(e)},r.getClassName=function(e){return e.className},r.hasEventHandler=function(e){for(var t=u["default"].elementAttributesGetter.call(e),r=0;r<t.length;r++){var n=t[r];if(this.EVENTS.indexOf(n.name)!==-1)return!0}return!1},r.getTagName=function(e){return p.getTagName(e)},r.setAttr=function(e,t,r){return u["default"].setAttribute.call(e,t,r)},r.setScriptContent=function(e,t){u["default"].scriptTextSetter.call(e,t)},r.getScriptContent=function(e){return u["default"].scriptTextGetter.call(e)},r.getStyleContent=function(e){return u["default"].elementInnerHTMLGetter.call(e)},r.setStyleContent=function(e,t){u["default"].elementInnerHTMLSetter.call(e,t)},r.needToProcessContent=function(e){return!f["default"].hasUnclosedElementFlag(e)},r.needToProcessUrl=function(){return!0},r.hasIframeParent=function(e){if(this._srcdocMode)return!0;try{return e[s["default"].processedContext]?window.top!==e[s["default"].processedContext]:window.top.document!==p.findDocument(e)}catch(t){return!0}},r.getProxyUrl=function(){return d.getProxyUrl.apply(d,arguments)},r.isTopParentIframe=function(e){var t=e[s["default"].processedContext];return t&&window.top===t.parent},r.sameOriginCheck=function(e,t){return c.sameOriginCheck(e,t)},r.isExistingTarget=function(e){return!!h.findByName(e)},r.processSrcdocAttr=function(e){this._srcdocMode=!0;var t=m.processHtml(e,{isPage:!0});return this._srcdocMode=!1,t},t}(l["default"]);e["default"]=v,t.exports=e["default"]},"index.js":function(e,t,r){var n=function(e){return e&&e.__esModule?e:{"default":e}};Object.defineProperty(e,"__esModule",{value:!0});var i=n(r("./client-dom-adapter")),o=n(r("../../processing/dom/index"));e["default"]=new o["default"](new i["default"]),t.exports=e["default"]}},"index.js":function(e,t,r){var n=function(e){return e&&e.__esModule?e:{"default":e}},i=function(e){if(e&&e.__esModule)return e;var t={};if(null!=e)for(var r in e)Object.hasOwnProperty.call(e,r)&&(t[r]=e[r]);return t["default"]=e,t};Object.defineProperty(e,"__esModule",{value:!0});var o=n(r("pinkie")),a=n(r("./sandbox")),s=n(r("./utils/event-emitter")),l=n(r("./sandbox/xhr")),u=n(r("./settings")),c=n(r("./transport")),d=i(r("json-hammerhead")),p=i(r("./utils/browser")),f=i(r("./utils/destination-location")),h=i(r("./utils/dom")),m=i(r("./utils/event")),v=i(r("./utils/types")),g=i(r("./utils/position")),y=i(r("./utils/style")),E=n(r("../utils/string-trim")),_=i(r("../utils/cookie")),S=i(r("../utils/url")),b=i(r("../utils/headers")),w=i(r("../utils/stack-processing")),x=n(r("../utils/self-removing-scripts")),T=i(r("./utils/url")),P=i(r("./utils/feature-detection")),A=i(r("./utils/html")),C=n(r("./sandbox/native-methods")),I=r("../processing/script"),O=r("../processing/script/header"),M=n(r("../processing/style")),N=n(r("./utils/extend")),D=n(r("../processing/dom/internal-properties")),L=n(r("./page-navigation-watch")),k=n(r("./dom-processor")),j=function(){function e(){var e=this;this.win=null,this.transport=new c["default"],this.sandbox=new a["default"](this.transport),this.pageNavigationWatch=new L["default"](this.sandbox.event,this.sandbox.codeInstrumentation,this.sandbox.node.element),this.EVENTS={beforeFormSubmit:this.sandbox.node.element.BEFORE_FORM_SUBMIT_EVENT,beforeBeforeUnload:this.sandbox.event.unload.BEFORE_BEFORE_UNLOAD_EVENT,beforeUnload:this.sandbox.event.unload.BEFORE_UNLOAD_EVENT,unload:this.sandbox.event.unload.UNLOAD_EVENT,bodyCreated:this.sandbox.node.mutation.BODY_CREATED_EVENT,documentCleaned:this.sandbox.node.mutation.DOCUMENT_CLEANED_EVENT,uncaughtJsError:this.sandbox.node.win.UNCAUGHT_JS_ERROR_EVENT,unhandledRejection:this.sandbox.node.win.UNHANDLED_REJECTION_EVENT,startFileUploading:this.sandbox.upload.START_FILE_UPLOADING_EVENT,endFileUploading:this.sandbox.upload.END_FILE_UPLOADING_EVENT,evalIframeScript:this.sandbox.iframe.EVAL_EXTERNAL_SCRIPT_EVENT,xhrCompleted:this.sandbox.xhr.XHR_COMPLETED_EVENT,xhrError:this.sandbox.xhr.XHR_ERROR_EVENT,beforeXhrSend:this.sandbox.xhr.BEFORE_XHR_SEND_EVENT,fetchSent:this.sandbox.fetch.FETCH_REQUEST_SENT_EVENT,pageNavigationTriggered:this.pageNavigationWatch.PAGE_NAVIGATION_TRIGGERED_EVENT,scriptElementAdded:this.sandbox.node.element.SCRIPT_ELEMENT_ADDED_EVENT,consoleMethCalled:this.sandbox.console.CONSOLE_METH_CALLED_EVENT,windowOpened:this.sandbox.childWindow.WINDOW_OPENED_EVENT},this.PROCESSING_COMMENTS={stylesheetStart:M["default"].STYLESHEET_PROCESSING_START_COMMENT,stylesheetEnd:M["default"].STYLESHEET_PROCESSING_END_COMMENT,scriptStart:O.SCRIPT_PROCESSING_START_COMMENT,scriptEndHeader:O.SCRIPT_PROCESSING_END_HEADER_COMMENT,scriptEnd:O.SCRIPT_PROCESSING_END_COMMENT},this.EventEmitter=s["default"],this.doUpload=function(t,r){return e.sandbox.upload.doUpload(t,r)},this.createNativeXHR=l["default"].createNativeXHR,this.processScript=I.processScript,this.get=r,this.Promise=o["default"],this.json=d,this.nativeMethods=this.sandbox.nativeMethods,this.shadowUI=this.sandbox.shadowUI,this.storages=this.sandbox.storageSandbox,this.eventSandbox={listeners:this.sandbox.event.listeners,hover:this.sandbox.event.hover,focusBlur:this.sandbox.event.focusBlur,elementEditingWatcher:this.sandbox.event.elementEditingWatcher,eventSimulator:this.sandbox.event.eventSimulator,selection:this.sandbox.event.selection,message:this.sandbox.event.message,timers:this.sandbox.event.timers,DataTransfer:this.sandbox.event.DataTransfer,DragDataStore:this.sandbox.event.DragDataStore},this.utils={browser:p,dom:h,event:m,position:g,style:y,types:v,trim:E["default"],extend:N["default"],html:A,url:T,featureDetection:P,destLocation:f},this.sharedUtils={cookie:_,url:S,headers:b,stackProcessing:w,selfRemovingScripts:x["default"]},this.settings=u["default"]}var t=e.prototype;return t._getEventOwner=function(e){switch(e){case this.EVENTS.pageNavigationTriggered:return this.pageNavigationWatch;case this.EVENTS.beforeUnload:case this.EVENTS.beforeBeforeUnload:case this.EVENTS.unload:return this.sandbox.event.unload;case this.EVENTS.bodyCreated:case this.EVENTS.documentCleaned:return this.sandbox.node.mutation;case this.EVENTS.uncaughtJsError:case this.EVENTS.unhandledRejection:return this.sandbox.node.win;case this.EVENTS.startFileUploading:case this.EVENTS.endFileUploading:return this.sandbox.upload;case this.EVENTS.evalIframeScript:return this.sandbox.iframe;case this.EVENTS.xhrCompleted:case this.EVENTS.xhrError:case this.EVENTS.beforeXhrSend:return this.sandbox.xhr;case this.EVENTS.beforeFormSubmit:case this.EVENTS.scriptElementAdded:return this.sandbox.node.element;case this.EVENTS.fetchSent:return this.sandbox.fetch;case this.EVENTS.consoleMethCalled:return this.sandbox.console;case this.EVENTS.windowOpened:return this.sandbox.childWindow;default:return null}},e._cleanLocalStorageServiceData=function(e,t){var r=C["default"].winLocalStorageGetter.call(t);C["default"].storageRemoveItem.call(r,e)},t.on=function(e,t){var r=this._getEventOwner(e);r&&r.on(e,t)},t.off=function(e,t){var r=this._getEventOwner(e);r&&r.off(e,t)},t.navigateTo=function(e,t){var r=this,n=T.getNavigationUrl(e,this.win);n&&(this.win.location=n,t&&this.sandbox.node.win.on(this.sandbox.node.win.HASH_CHANGE_EVENT,function(){r.win.location.reload(!0)}))},t.start=function(t,r){this.win=r||window,u["default"].set(t),t.isFirstPageLoad&&e._cleanLocalStorageServiceData(t.sessionId,this.win),k["default"].forceProxySrcForImage=t.forceProxySrcForImage,k["default"].allowMultipleWindows=t.allowMultipleWindows,this.transport.start(this.eventSandbox.message),this.sandbox.attach(this.win),this.pageNavigationWatch.start()},e}(),R=new j;C["default"].objectDefineProperty(window,D["default"].hammerhead,{value:R,configurable:!0}),e["default"]=R,t.exports=e["default"]},"page-navigation-watch.js":function(e,t,r){function n(e,t){e.prototype=Object.create(t.prototype),e.prototype.constructor=e,i(e,t)}function i(e,t){return(i=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e})(e,t)}var o=function(e){return e&&e.__esModule?e:{"default":e}},a=function(e){if(e&&e.__esModule)return e;var t={};if(null!=e)for(var r in e)Object.hasOwnProperty.call(e,r)&&(t[r]=e[r]);return t["default"]=e,t};Object.defineProperty(e,"__esModule",{value:!0});var s=o(r("./utils/event-emitter")),l=r("../utils/url"),u=r("./utils/url"),c=r("./utils/dom"),d=a(r("./sandbox/windows-storage")),p=o(r("../processing/dom")),f=o(r("./utils/next-tick")),h=o(r("./sandbox/native-methods")),m=o(r("../processing/dom/internal-properties")),v=function(e){function t(t,r,n){var i;return i=e.call(this)||this,i._eventSandbox=t,i._codeInstrumentation=r,i._elementSandbox=n,i.PAGE_NAVIGATION_TRIGGERED_EVENT="hammerhead|event|page-navigation-triggered",i._lastLocationValue=window.location.toString(),i}n(t,e);var r=t.prototype;return r._formWatch=function(e,r){var n=function(e){var r=t._getTargetWindow(e);t._onNavigationTriggeredInWindow(r,h["default"].formActionGetter.call(e))};e.on(e.BEFORE_FORM_SUBMIT_EVENT,function(e){return n(e.form)}),r.listeners.initElementListening(window,["submit"]),r.listeners.addInternalEventBeforeListener(window,["submit"],function(e){var t=!1;if(c.isFormElement(e.target)){var i=function(r){t=t||r===e};r.on(r.EVENT_PREVENTED_EVENT,i),f["default"]().then(function(){r.off(r.EVENT_PREVENTED_EVENT,i),e.defaultPrevented||t||n(e.target)})}})},t._getTargetWindow=function(e){var t=h["default"].getAttribute.call(e,p["default"].getStoredAttrName("target"))||h["default"].getAttribute.call(e,"target")||"_self";switch(t){case"_top":return window.top;case"_parent":return window.parent;case"_self":return window;default:return d.findByName(t)}},r._linkWatch=function(e){e.listeners.initElementListening(window,["click"]),e.listeners.addInternalEventBeforeListener(window,["click"],function(r){var n=c.isAnchorElement(r.target)?r.target:c.closest(r.target,"a");if(n&&!c.isShadowUIElement(n)){var i=!1,o=t._getTargetWindow(n),a=h["default"].anchorHrefGetter.call(n),s=function(e){i=i||e===r};e.on(e.EVENT_PREVENTED_EVENT,s),f["default"]().then(function(){e.off(e.EVENT_PREVENTED_EVENT,s),r.defaultPrevented||i||t._onNavigationTriggeredInWindow(o,a)})}})},r._locationWatch=function(e){var t=this,r=e._locationAccessorsInstrumentation,n=function(e){return t.onNavigationTriggered(e)};r.on(r.LOCATION_CHANGED_EVENT,n)},t._onNavigationTriggeredInWindow=function(e,t){try{e[m["default"].hammerhead].pageNavigationWatch.onNavigationTriggered(t)}catch(r){}},r.onNavigationTriggered=function(e){var t=this._lastLocationValue;if(this._lastLocationValue=window.location.toString(),(e===t||"#"!==e.charAt(0)&&!u.isChangedOnlyHash(t,e))&&!p["default"].isJsProtocol(e)){var r=l.parseProxyUrl(e);r&&this.emit(this.PAGE_NAVIGATION_TRIGGERED_EVENT,r.destUrl)}},r.start=function(){this._locationWatch(this._codeInstrumentation),this._linkWatch(this._eventSandbox),this._formWatch(this._elementSandbox,this._eventSandbox)},t}(s["default"]);e["default"]=v,t.exports=e["default"]},sandbox:{"backup.js":function(e,t,r){function n(e,t){for(var r=e.length-1;r>=0;r--)try{if(e[r].iframe===t)return e[r]}catch(n){e.splice(r,1)}}function i(e,t){var r=s.getTopSameDomainWindow(e),i=e!==r?s.getFrameElement(e):null,o=r[u];o||(o=[],l["default"].objectDefineProperty(r,u,{value:o}));var a=n(o,i);a?a.sandbox=t:o.push({iframe:i,sandbox:t})}function o(e){var t=s.getTopSameDomainWindow(e),r=t[u],i=e!==t?e.frameElement:null;if(r){var o=n(r,i);return o?o.sandbox:null}return null}var a=function(e){return e&&e.__esModule?e:{"default":e}};Object.defineProperty(e,"__esModule",{value:!0});var s=r("../utils/dom"),l=a(r("./native-methods")),u="hammerhead|sandbox-backup";e.create=i,e.get=o},"base.js":function(e,t,r){function n(e,t){e.prototype=Object.create(t.prototype),e.prototype.constructor=e,i(e,t)}function i(e,t){return(i=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e})(e,t)}var o=function(e){return e&&e.__esModule?e:{"default":e}};Object.defineProperty(e,"__esModule",{value:!0});var a=o(r("../utils/event-emitter")),s=o(r("./native-methods")),l=r("../utils/dom"),u=o(r("../../processing/dom/internal-properties")),c=function(e){function t(){var t;return t=e.apply(this,arguments)||this,t.window=null,t.nativeMethods=s["default"],t.document=null,t}n(t,e);var r=t.prototype;return r.isDeactivated=function(){try{if(this.document.body,this.window[u["default"].hammerhead]){var e=l.getFrameElement(this.window);return!!e&&!l.isElementInDocument(e,l.findDocument(e))}}catch(t){}return!0},r.attach=function(e,t){this.window=e,this.document=t||e.document},t}(a["default"]);e["default"]=c,t.exports=e["default"]},"child-window":{"default-target.js":function(e,t,r){Object.defineProperty(e,"__esModule",{value:!0});var n;!function(e){e.form="_self",e.linkOrArea="_self",e.windowOpen="_blank"}(n||(n={})),e["default"]=n,t.exports=e["default"]},"index.js":function(e,t,r){function n(e,t){e.prototype=Object.create(t.prototype),e.prototype.constructor=e,i(e,t)}function i(e,t){return(i=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e})(e,t)}var o=function(e){return e&&e.__esModule?e:{"default":e}},a=function(e){if(e&&e.__esModule)return e;var t={};if(null!=e)for(var r in e)Object.hasOwnProperty.call(e,r)&&(t[r]=e[r]);return t["default"]=e,t};Object.defineProperty(e,"__esModule",{value:!0});var s=o(r("../base")),l=o(r("../../settings")),u=o(r("../native-methods")),c=a(r("../windows-storage")),d=o(r("../../utils/get-random-int-16-value")),p=a(r("../../utils/dom")),f=a(r("../../utils/url")),h=r("../../../utils/url"),m=o(r("./default-target")),v=o(r("../../../utils/is-keyword-target")),g=o(r("../../../processing/dom/internal-properties")),y=o(r("../../utils/get-top-opener-window")),E=r("../../utils/dom"),_="width=500px, height=500px",S="hammerhead|command|store-child-window",b=function(e){function t(t,r){var n;return n=e.call(this)||this,n._messageSandbox=t,n._listeners=r,n.WINDOW_OPENED_EVENT="hammerhead|event|window-opened",n}n(t,e),t._shouldOpenInNewWindowOnElementAction=function(e,t){var r=this._calculateTargetForElement(e);return this._shouldOpenInNewWindow(r,t)},t._shouldOpenInNewWindow=function(e,t){return e=e||t,e=e.toLowerCase(),v["default"](e)?"_blank"===e:!c.findByName(e)};var r=t.prototype;return r._openUrlInNewWindow=function(e,t,r,n){var i=d["default"]().toString();r=r||_,t=t||i;var o=f.getPageProxyUrl(e,i),a=n||this.window,s=u["default"].windowOpen.call(a,o,t,r);return this._tryToStoreChildWindow(s,y["default"]()),this.emit(this.WINDOW_OPENED_EVENT,{windowId:i,window:s}),{windowId:i,wnd:s}},t._calculateTargetForElement=function(e){var t,r=u["default"].querySelector.call(p.findDocument(e),"base");return e.target||(null===(t=r)||void 0===t?void 0:t.target)},r.handleClickOnLinkOrArea=function(e){var r=this;l["default"].get().allowMultipleWindows&&(this._listeners.initElementListening(e,["click"]),this._listeners.addInternalEventAfterListener(e,["click"],function(n){if(!n.defaultPrevented&&t._shouldOpenInNewWindowOnElementAction(e,m["default"].linkOrArea)){var i=u["default"].anchorHrefGetter.call(e);n.preventDefault(),r._openUrlInNewWindow(i)}}))},r.handleWindowOpen=function(e,r){var n=r[0],i=r[1],o=r[2];if(l["default"].get().allowMultipleWindows&&t._shouldOpenInNewWindow(i,m["default"].windowOpen)){var a=this._openUrlInNewWindow(n,i,o,e);return a.wnd}return u["default"].windowOpen.apply(e,r)},r._handleFormSubmitting=function(e){var r=this;l["default"].get().allowMultipleWindows&&(this._listeners.initElementListening(e,["submit"]),this._listeners.addInternalEventBeforeListener(e,["submit"],function(e){if(p.isFormElement(e.target)){var n=e.target;if(t._shouldOpenInNewWindowOnElementAction(n,m["default"].form)){var i=f.getProxyUrl(h.SPECIAL_BLANK_PAGE),o=r._openUrlInNewWindow(i),a=u["default"].formActionGetter.call(n),s=f.getPageProxyUrl(a,o.windowId);u["default"].formActionSetter.call(n,s),u["default"].formTargetSetter.call(n,o.windowId)}}}))},r._tryToStoreChildWindow=function(e,t){try{return t[g["default"].hammerhead].sandbox.childWindow.addWindow(e),!0}catch(r){return!1}},r._setupChildWindowCollecting=function(e){var t=this;if(!E.isIframeWindow(e)){var r=y["default"]();e!==r?this._tryToStoreChildWindow(e,r)||this._messageSandbox.sendServiceMsg({cmd:S},r):(this._childWindows=new Set,this._messageSandbox.on(this._messageSandbox.SERVICE_MSG_RECEIVED_EVENT,function(e){var r=e.message,n=e.source;r.cmd===S&&t._childWindows.add(n)}))}},r.addWindow=function(e){this._childWindows.add(e)},r.getChildWindows=function(){var e=this,t=[];return this._childWindows.forEach(function(r){r.parent?t.push(r):e._childWindows["delete"](r)}),t},r.attach=function(t){e.prototype.attach.call(this,t,t.document),this._handleFormSubmitting(t),this._setupChildWindowCollecting(t)},t}(s["default"]);e["default"]=b,t.exports=e["default"]}},"code-instrumentation":{"index.js":function(e,t,r){function n(e,t){e.prototype=Object.create(t.prototype),e.prototype.constructor=e,i(e,t)}function i(e,t){return(i=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e})(e,t)}var o=function(e){return e&&e.__esModule?e:{"default":e}};Object.defineProperty(e,"__esModule",{value:!0});var a=o(r("../base")),s=o(r("./properties")),l=o(r("./location")),u=o(r("./methods")),c=r("../../../processing/script"),d=o(r("../../../processing/script/instruction")),p=o(r("../../sandbox/native-methods")),f=r("../../utils/html"),h=r("../../utils/url"),m=o(r("../../utils/url-resolver")),v=function(e){
function t(t,r){var n;return n=e.call(this)||this,n._methodCallInstrumentation=new u["default"](t.message),n._locationAccessorsInstrumentation=new l["default"](r),n._propertyAccessorsInstrumentation=new s["default"],n}n(t,e);var r=t.prototype;return r.attach=function(r){var n=this;e.prototype.attach.call(this,r),this._methodCallInstrumentation.attach(r),this._locationAccessorsInstrumentation.attach(r),this.elementPropertyAccessors=this._propertyAccessorsInstrumentation.attach(r),p["default"].objectDefineProperty(r,d["default"].getEval,{value:function(e){if(e!==r.eval)return e;var n=function(t){return"string"==typeof t&&(t=c.processScript(t)),e(t)};return p["default"].objectDefineProperty(n,t.WRAPPED_EVAL_FN,{value:e}),n},configurable:!0}),p["default"].objectDefineProperty(r,d["default"].processScript,{value:function(e,t){if(t){if(e&&e.length&&"string"==typeof e[0]){for(var r=[c.processScript(e[0],!1)],n=1;n<e.length;n++)r.push(e[n]);return r}}else if("string"==typeof e)return c.processScript(e,!1);return e},configurable:!0}),p["default"].objectDefineProperty(r,d["default"].processHtml,{value:function(e,t){return"string"==typeof t&&(t=f.processHtml("<html><body>"+t+"</body></html>",{processedContext:e})),t},configurable:!0}),p["default"].objectDefineProperty(r,d["default"].getProxyUrl,{value:function(e,t){var r=m["default"].getBaseUrl(n.document),i=t&&t!==r;i&&m["default"].updateBase(t,n.document);var o=h.getProxyUrl(e,{resourceType:h.stringifyResourceType({isScript:!0})});return i&&m["default"].updateBase(r,n.document),o},configurable:!0}),p["default"].objectDefineProperty(r,d["default"].restArray,{value:function(e,t){return p["default"].arraySlice.call(e,t)},configurable:!0}),p["default"].objectDefineProperty(r,d["default"].restObject,{value:function(e,t){for(var r={},n=p["default"].objectKeys(e),i=0;i<n.length;i++){var o=n[i];t.indexOf(o)<0&&(r[o]=e[o])}return r},configurable:!0})},t}(a["default"]);e["default"]=v,v.WRAPPED_EVAL_FN="hammerhead|code-instrumentation|wrapped-eval-fn",t.exports=e["default"]},location:{"ancestor-origins-wrapper.js":function(e,t,r){function n(e,t){for(var r=0;r<t.length;r++){var n=t[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,n.key,n)}}function i(e,t,r){return t&&n(e.prototype,t),r&&n(e,r),e}function o(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function a(e,t){e.prototype=Object.create(t.prototype),e.prototype.constructor=e,s(e,t)}function s(e,t){return(s=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e})(e,t)}function l(e,t,r,n){var i=p.createOverriddenDescriptor(e,r,{value:n});c["default"].objectDefineProperty(t,r,i)}var u=function(e){return e&&e.__esModule?e:{"default":e}};Object.defineProperty(e,"__esModule",{value:!0});var c=u(r("../../native-methods")),d=u(r("./index")),p=r("../../../utils/overriding"),f=new WeakMap,h=function(){};h.prototype=DOMStringList.prototype;var m=function(e){function t(t,r){var n;n=e.call(this)||this;var i=t.location.ancestorOrigins,a=i.length,s=t.parent;f.set(o(n),a);for(var u=function(e){var t=d["default"].getLocationWrapper(s),a=t===s.location;l(i,o(n),e.toString(),a?"":t.origin),a&&r&&r(s,function(t){return l(i,o(n),e,t)}),s=s.parent},c=0;c<a;c++)u(c);return n}a(t,e);var r=t.prototype;return r.item=function(e){return this[e]},r.contains=function(e){"string"!=typeof e&&(e=String(e));for(var t=f.get(this)||0,r=0;r<t;r++)if(this[r]===e)return!0;return!1},i(t,[{key:"length",get:function(){return f.get(this)}}]),t}(h);e["default"]=m,t.exports=e["default"]},"index.js":function(e,t,r){function n(e,t){e.prototype=Object.create(t.prototype),e.prototype.constructor=e,i(e,t)}function i(e,t){return(i=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e})(e,t)}var o=function(e){return e&&e.__esModule?e:{"default":e}};Object.defineProperty(e,"__esModule",{value:!0});var a=o(r("./wrapper")),s=o(r("../../base")),l=r("../../../utils/dom"),u=o(r("../../../../processing/script/instruction")),c=o(r("../../native-methods")),d=r("../../../utils/browser"),p="hammerhead|location-wrapper",f=function(e){function t(t){var r;return r=e.call(this)||this,r._messageSandbox=t,r.LOCATION_CHANGED_EVENT="hammerhead|event|location-changed",r._locationChangedEventCallback=function(e){return r.emit(r.LOCATION_CHANGED_EVENT,e)},r}n(t,e),t.isLocationWrapper=function(e){return e instanceof a["default"]},t.getLocationWrapper=function(e){if(d.isIE&&l.isCrossDomainWindows(window,e))return e.location;try{return e[p]}catch(t){return e.location}};var r=t.prototype;return r.attach=function(t){e.prototype.attach.call(this,t);var r=t.document,n=new a["default"](t,this._messageSandbox,this._locationChangedEventCallback);c["default"].objectDefineProperty(t,p,{value:n,configurable:!0}),c["default"].objectDefineProperty(r,p,{value:n,configurable:!0}),c["default"].objectDefineProperty(t,u["default"].getLocation,{value:function(e){return l.isLocation(e)?n:e},configurable:!0}),c["default"].objectDefineProperty(t,u["default"].setLocation,{value:function(e,t){return l.isLocation(e)&&"string"==typeof t?(n.href=t,t):null},configurable:!0})},t}(s["default"]);e["default"]=f,t.exports=e["default"]},"wrapper.js":function(e,t,r){function n(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function i(e,t){e.prototype=Object.create(t.prototype),e.prototype.constructor=e,o(e,t)}function o(e,t){return(o=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e})(e,t)}function a(e){try{return e.location.toString()}catch(t){return}}var s=function(e){if(e&&e.__esModule)return e;var t={};if(null!=e)for(var r in e)Object.hasOwnProperty.call(e,r)&&(t[r]=e[r]);return t["default"]=e,t},l=function(e){return e&&e.__esModule?e:{"default":e}};Object.defineProperty(e,"__esModule",{value:!0});var u=r("../../../utils/destination-location"),c=r("../../../utils/url"),d=r("../../../../utils/url"),p=s(r("../../../utils/dom")),f=l(r("../../native-methods")),h=l(r("../../../utils/url-resolver")),m=l(r("../../../../processing/dom")),v=l(r("./ancestor-origins-wrapper")),g=l(r("../../../utils/integer-id-generator")),y=r("../../../utils/overriding"),E=r("../../../utils/dom"),_="hammerhead|command|get-origin",S="hammerhead|command|origin-received",b=function(){};b.prototype=Location.prototype;var w=function(e){function t(t,r,i){var o;o=e.call(this)||this;var s=c.parseProxyUrl(a(t)),l=s?s.resourceType:"",b=c.parseResourceType(l),w=f["default"].objectHasOwnProperty.call(t.Location.prototype,"href"),x=w?t.Location.prototype:t.location,T={};b.isIframe=b.isIframe||E.isIframeWindow(t);var P=d.getResourceTypeString({isIframe:b.isIframe,isForm:b.isForm}),A=function(){if(E.isIframeWindow(t)&&t.location.href===d.SPECIAL_BLANK_PAGE)return d.SPECIAL_BLANK_PAGE;var e=u.get(),r=h["default"].getResolverElement(t.document);f["default"].anchorHrefSetter.call(r,e);var n=f["default"].anchorHrefGetter.call(r);return d.ensureTrailingSlash(n,e)},C=function(e){if("string"!=typeof e&&(e=String(e)),e=d.prepareUrl(e),m["default"].isJsProtocol(e))return m["default"].processJsAttrValue(e,{isJsProtocol:!0,isEventAttr:!1});var r=a(t),n=null;if(t!==t.parent){var i=a(t.parent),o=c.parseProxyUrl(i);if(o&&o.proxy){var s=o.proxy.port;n=d.sameOriginCheck(i,e)?s:c.getCrossDomainProxyPort(s)}}var u=r&&c.isChangedOnlyHash(r,e),p=u?l:P;return c.getProxyUrl(e,{resourceType:p,proxyPort:n})};if(T.href=y.createOverriddenDescriptor(x,"href",{getter:A,setter:function(e){var r=C(e);return t.location.href=r,i(r),e}}),T.search=y.createOverriddenDescriptor(x,"search",{getter:function(){return t.location.search},setter:function(e){var r=c.changeDestUrlPart(t.location.toString(),f["default"].anchorSearchSetter,e,P);return t.location=r,i(r),e}}),T.origin=y.createOverriddenDescriptor(x,"origin",{getter:function(){return d.getDomain(u.getParsed())},setter:function(e){return e}}),T.hash=y.createOverriddenDescriptor(x,"hash",{getter:function(){return t.location.hash},setter:function(e){return t.location.hash=e,e}}),t.location.ancestorOrigins){var I=f["default"].objectCreate(null),O=new g["default"],M=function(e,t){var n=O.increment();I[n]=t,r.sendServiceMsg({id:n,cmd:_},e)};r&&r.on(r.SERVICE_MSG_RECEIVED_EVENT,function(e){var t=e.message,n=e.source;if(t.cmd===_)r.sendServiceMsg({id:t.id,cmd:S,origin:o.origin},n);else if(t.cmd===S){var i=I[t.id];i&&i(t.origin)}});var N=new v["default"](t,r?M:void 0);T.ancestorOrigins=y.createOverriddenDescriptor(x,"ancestorOrigins",{getter:function(){return N}})}var D=function(e,r){T[e]=y.createOverriddenDescriptor(x,e,{getter:function(){var r=p.getFrameElement(t),n=r&&p.isIframeWithoutSrc(r),i=n?t.location:u.getParsed();return i[e]},setter:function(e){var n=c.changeDestUrlPart(t.location.toString(),r,e,P);return t.location=n,i(n),e}})};return D("port",f["default"].anchorPortSetter),D("host",f["default"].anchorHostSetter),D("hostname",f["default"].anchorHostnameSetter),D("pathname",f["default"].anchorPathnameSetter),D("protocol",f["default"].anchorProtocolSetter),T.assign=y.createOverriddenDescriptor(x,"assign",{value:function(e){var r=C(e),n=t.location.assign(r);return i(r),n}}),T.replace=y.createOverriddenDescriptor(x,"replace",{value:function(e){var r=C(e),n=t.location.replace(r);return i(r),n}}),T.reload=y.createOverriddenDescriptor(x,"reload",{value:function(e){var r=t.location.reload(e);return i(t.location.toString()),r}}),T.toString=y.createOverriddenDescriptor(x,"toString",{value:A}),!w&&f["default"].objectHasOwnProperty.call(t.location,"valueOf")&&(T.valueOf=y.createOverriddenDescriptor(x,"valueOf",{value:function(){return n(o)}})),f["default"].objectDefineProperties(n(o),T),o}return i(t,e),t}(b);e["default"]=w,"function"!=typeof Location?w.toString=function(){return Location.toString()}:y.overrideStringRepresentation(w,Location),t.exports=e["default"]}},"methods.js":function(e,t,r){function n(e,t){e.prototype=Object.create(t.prototype),e.prototype.constructor=e,i(e,t)}function i(e,t){return(i=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e})(e,t)}var o=function(e){return e&&e.__esModule?e:{"default":e}},a=function(e){if(e&&e.__esModule)return e;var t={};if(null!=e)for(var r in e)Object.hasOwnProperty.call(e,r)&&(t[r]=e[r]);return t["default"]=e,t};Object.defineProperty(e,"__esModule",{value:!0});var s=o(r("../base")),l=o(r("../../../processing/script/instruction")),u=r("../../../processing/script/instrumented"),c=r("../../utils/dom"),d=o(r("../../utils/fast-apply")),p=a(r("../../utils/types")),f=r("../../utils/url"),h=o(r("../native-methods")),m=function(e){function t(r){var n;return n=e.call(this)||this,n._messageSandbox=r,n.methodWrappers={postMessage:{condition:c.isWindow,method:function(e,t){return r.postMessage(e,t)}},replace:{condition:c.isLocation,method:function(e,r){return e.replace(f.getProxyUrl(r[0],{resourceType:t._getLocationResourceType(e)}))}},assign:{condition:c.isLocation,method:function(e,r){return e.assign(f.getProxyUrl(r[0],{resourceType:t._getLocationResourceType(e)}))}}},n}n(t,e),t._error=function(e){throw new Error(e)},t._getLocationResourceType=function(e){return window.top.location===e?null:f.stringifyResourceType({isIframe:!0})},t._isPostMessageFn=function(e,t){return e.postMessage===e.postMessage?e.postMessage===t:t&&"function"==typeof t.toString&&t.toString()===e.postMessage.toString()};var r=t.prototype;return r.attach=function(r){var n=this;e.prototype.attach.call(this,r),h["default"].objectDefineProperty(r,l["default"].callMethod,{value:function(e,r,i){return p.isNullOrUndefined(e)&&t._error("Cannot call method '"+r+"' of "+p.inaccessibleTypeToStr(e)),"function"!=typeof e[r]&&t._error("'"+r+"' is not a function"),"string"==typeof r&&u.shouldInstrumentMethod(r)&&n.methodWrappers[r].condition(e)?n.methodWrappers[r].method(e,i):d["default"](e,r,i)},configurable:!0});var i=this;h["default"].objectDefineProperty(r,l["default"].getPostMessage,{value:function(e,r){return 1!==arguments.length||c.isWindow(e)?2!==arguments.length||t._isPostMessageFn(this,r)?function(){for(var e=arguments.length,t=new Array(e),r=0;r<e;r++)t[r]=arguments[r];return i._messageSandbox.postMessage(this,t)}:r:e.postMessage},configurable:!0})},t}(s["default"]);e["default"]=m,t.exports=e["default"]},properties:{"anchor.js":function(e,t,r){function n(e,t){var r=u["default"].anchorHrefGetter.call(e);return c||o(),r?(u["default"].anchorHrefSetter.call(c,l.getDestinationUrl(r)),t.call(c)):t.call(d)}function i(e,t,r){var n=u["default"].anchorHrefGetter.call(e);return c||o(),n&&(u["default"].anchorHrefSetter.call(c,l.getDestinationUrl(n)),t.call(c,r),e.setAttribute("href",u["default"].anchorHrefGetter.call(c))),r}function o(){c=u["default"].createElement.call(document,"a"),d=u["default"].createElement.call(document,"a")}function a(){c=null,d=null}var s=function(e){return e&&e.__esModule?e:{"default":e}};Object.defineProperty(e,"__esModule",{value:!0});var l=r("../../../utils/url"),u=s(r("../../native-methods")),c=u["default"].createElement.call(document,"a"),d=u["default"].createElement.call(document,"a");e.getAnchorProperty=n,e.setAnchorProperty=i,e.reattach=o,e.dispose=a},"index.js":function(e,t,r){function n(e,t){e.prototype=Object.create(t.prototype),e.prototype.constructor=e,i(e,t)}function i(e,t){return(i=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e})(e,t)}var o=function(e){return e&&e.__esModule?e:{"default":e}},a=function(e){if(e&&e.__esModule)return e;var t={};if(null!=e)for(var r in e)Object.hasOwnProperty.call(e,r)&&(t[r]=e[r]);return t["default"]=e,t};Object.defineProperty(e,"__esModule",{value:!0});var s=o(r("../../../../processing/dom/internal-properties")),l=o(r("../location")),u=o(r("../location/wrapper")),c=o(r("../../base")),d=a(r("../../../utils/dom")),p=a(r("../../../utils/types")),f=a(r("../../../utils/url")),h=r("../../../../utils/url"),m=o(r("../../../../processing/script/instruction")),v=r("../../../../processing/script/instrumented"),g=o(r("../../native-methods")),y=o(r("../../../../processing/dom")),E=o(r("../../../settings")),_=r("../../../utils/browser"),S=o(r("../../node/window")),b=o(r("../../shadow-ui")),w=o(r("../../../utils/noop")),x=function(e){function t(){return e.apply(this,arguments)||this}n(t,e),t._error=function(e){throw new Error(e)},t._safeIsShadowUIElement=function(e,t){var r=e[t];if(!r||!b["default"].isShadowContainerCollection(e))return!1;try{return!S["default"].isProxyObject(r)&&d.isShadowUIElement(r)}catch(n){return!1}},t._setCrossDomainLocation=function(e,t){var r="";if("string"!=typeof t&&(t=String(t)),y["default"].isJsProtocol(t))r=y["default"].processJsAttrValue(t,{isJsProtocol:!0,isEventAttr:!1});else{var n=f.stringifyResourceType({isIframe:!0});t=h.prepareUrl(t),r=e!==window.top.location?f.getProxyUrl(t,{resourceType:n}):f.getProxyUrl(t,{proxyPort:E["default"].get().crossDomainProxyPort})}return e.href=r,t};var r=t.prototype;return r._createPropertyAccessors=function(){return{href:{condition:d.isLocation,get:function(e){return e.href},set:t._setCrossDomainLocation},location:{condition:function(e){return d.isDocument(e)||d.isWindow(e)},get:function(e){var t=l["default"].getLocationWrapper(e);if(t)return t;if(!e.location)return e.location;var r=d.isWindow(e)?e:e.defaultView;return new u["default"](r,null,w["default"])},set:function(e,r){var n=d.isWindow(e)?e:e.defaultView,i=l["default"].getLocationWrapper(n);return!i||i===e.location||_.isIE&&d.isCrossDomainWindows(window,n)?t._setCrossDomainLocation(e.location,r):i&&(i.href=r),r}}}},t._getSetPropertyInstructionByOwner=function(e,t){try{return e&&e[s["default"].processedContext]&&e[s["default"].processedContext]!==t&&e[s["default"].processedContext][m["default"].setProperty]}catch(r){return null}},r.attach=function(r){e.prototype.attach.call(this,r);var n=this._createPropertyAccessors();return g["default"].objectDefineProperty(r,m["default"].getProperty,{value:function(e,r){return p.isNullOrUndefined(e)&&t._error("Cannot read property '"+r+"' of "+p.inaccessibleTypeToStr(e)),S["default"].isProxyObject(e)?e[r]:"string"==typeof r&&v.shouldInstrumentProperty(r)&&n[r].condition(e)?n[r].get(e):t._safeIsShadowUIElement(e,r)?void 0:e[r]},configurable:!0}),g["default"].objectDefineProperty(r,m["default"].setProperty,{value:function(e,i,o){if(p.isNullOrUndefined(e)&&t._error("Cannot set property '"+i+"' of "+p.inaccessibleTypeToStr(e)),S["default"].isProxyObject(e))return e[i]=o;var a=t._getSetPropertyInstructionByOwner(e,r);return a?a(e,i,o):"string"==typeof i&&v.shouldInstrumentProperty(i)&&n[i].condition(e)?n[i].set(e,o):e[i]=o},configurable:!0}),n},t}(c["default"]);e["default"]=x,t.exports=e["default"]}}},"console.js":function(e,t,r){function n(e,t){e.prototype=Object.create(t.prototype),e.prototype.constructor=e,i(e,t)}function i(e,t){return(i=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e})(e,t)}var o=function(e){return e&&e.__esModule?e:{"default":e}};Object.defineProperty(e,"__esModule",{value:!0});var a=o(r("./base")),s=r("../utils/dom"),l=o(r("../sandbox/native-methods")),u=r("../utils/overriding"),c=function(e){function t(t){var r;return r=e.call(this)||this,r._messageSandbox=t,r.CONSOLE_METH_CALLED_EVENT="hammerhead|event|console-meth-called",r._serviceMsgReceivedEventCallback=function(e){var t=e.message;t.cmd===r.CONSOLE_METH_CALLED_EVENT&&r.emit(r.CONSOLE_METH_CALLED_EVENT,{meth:t.meth,line:t.line})},r}n(t,e);var r=t.prototype;return r._toString=function(e){try{return String(e)}catch(t){return"object"}},r._proxyConsoleMeth=function(e){var t=this;u.overrideFunction(this.window.console,e,function(){for(var r=arguments.length,n=new Array(r),i=0;i<r;i++)n[i]=arguments[i];if(!s.isCrossDomainWindows(window,window.top)){var o=s.isIframeWindow(window),a=l["default"].arrayMap.call(n,t._toString).join(" ");o?(t.emit(t.CONSOLE_METH_CALLED_EVENT,{meth:e,line:a,inIframe:!0}),t._messageSandbox.sendServiceMsg({meth:e,line:a,cmd:t.CONSOLE_METH_CALLED_EVENT},window.top)):t.emit(t.CONSOLE_METH_CALLED_EVENT,{meth:e,line:a})}t.nativeMethods.consoleMeths[e].apply(t.nativeMethods.console,n)})},r.attach=function(t){e.prototype.attach.call(this,t),this._proxyConsoleMeth("log"),this._proxyConsoleMeth("info"),this._proxyConsoleMeth("error"),this._proxyConsoleMeth("warn"),this._messageSandbox.on(this._messageSandbox.SERVICE_MSG_RECEIVED_EVENT,this._serviceMsgReceivedEventCallback)},t}(a["default"]);e["default"]=c,t.exports=e["default"]},cookie:{"index.js":function(e,t,r){function n(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function i(e,t){e.prototype=Object.create(t.prototype),e.prototype.constructor=e,o(e,t)}function o(e,t){return(o=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e})(e,t)}var a=function(e){return e&&e.__esModule?e:{"default":e}},s=function(e){if(e&&e.__esModule)return e;var t={};if(null!=e)for(var r in e)Object.hasOwnProperty.call(e,r)&&(t[r]=e[r]);return t["default"]=e,t};Object.defineProperty(e,"__esModule",{value:!0});var l=a(r("../base")),u=a(r("../../settings")),c=a(r("./window-sync")),d=s(r("../../utils/destination-location")),p=s(r("../../utils/cookie")),f=a(r("../../../utils/string-trim")),h=a(r("../../../session/cookie-limit")),m=a(r("../../sandbox/native-methods")),v=r("../../../utils/cookie"),g=a(r("../../utils/get-top-opener-window")),y=new m["default"].date(0).toUTCString(),E=function(e){function t(t,r,i){var o;return o=e.call(this)||this,o._unloadSandbox=r,o._windowSync=new c["default"](n(o),t,i),o}i(t,e),t._removeAllSyncCookie=function(){for(var e=m["default"].documentCookieGetter.call(document),t=v.parseClientSyncCookieStr(e),r=u["default"].get().sessionId,n=0,i=t.outdated;n<i.length;n++){var o=i[n];m["default"].documentCookieSetter.call(document,v.generateDeleteSyncCookieStr(o))}for(var a=0,s=t.actual;a<s.length;a++){var l=s[a];l.sid===r&&(l.isWindowSync||l.isServerSync)&&(m["default"].documentCookieSetter.call(document,v.generateDeleteSyncCookieStr(l)),l.isClientSync&&(v.changeSyncType(l,{window:!1}),m["default"].documentCookieSetter.call(document,v.formatSyncCookie(l))))}};var r=t.prototype;return r._canSetCookie=function(e,t){if(t&&(e.length>h["default"]||"file:"===d.getParsed().protocol))return!1;var r="key"+m["default"].mathRandom.call(m["default"].math)+"=value";m["default"].documentCookieSetter.call(this.document,r);var n=!m["default"].documentCookieGetter.call(this.document);return n||m["default"].documentCookieSetter.call(this.document,r+";expires="+y),!n},t._updateClientCookieStr=function(e,t){for(var r=u["default"].get().cookie,n=r?r.split(";"):[],i=[],o=!1,a=""===e?null:e+"=",s=0;s<n.length;s++){var l=n[s];l=f["default"](l);var c=a?0===l.indexOf(a):l.indexOf("=")===-1;c?null!==t&&(i.push(t),o=!0):i.push(l)}o||null===t||i.push(t),u["default"].get().cookie=i.join("; ")},r.getCookie=function(){return this.syncCookie(),u["default"].get().cookie||""},r.setCookie=function(e){var r="string"==typeof e;if(this._canSetCookie(e,r)){var n=r?p.parse(e):e;if(n&&!n.httpOnly){var i=d.getParsed();if(p.domainMatch(i.hostname,n.domain)){if((!n.secure||"https:"===i.protocol)&&p.pathMatch(i.pathname,n.path)){var o=p.getUTCDate(),a=null;(!n.expires||"Infinity"===n.expires||n.expires>o)&&(a=p.formatClientString(n)),t._updateClientCookieStr(n.key,a)}r&&(p.setDefaultValues(n,i),this._syncClientCookie(n),this.syncCookie())}}}},r.syncCookie=function(){for(var e=m["default"].documentCookieGetter.call(this.document),t=v.parseClientSyncCookieStr(e),r=u["default"].get().sessionId,n=[],i=0,o=t.outdated;i<o.length;i++){var a=o[i];m["default"].documentCookieSetter.call(this.document,v.generateDeleteSyncCookieStr(a))}for(var s=0,l=t.actual;s<l.length;s++){var c=l[s];c.sid===r&&(c.isServerSync?n.push(c):c.isWindowSync&&this.setCookie(c))}n.length&&this._syncServerCookie(n)},r._syncServerCookie=function(e){for(var t=0;t<e.length;t++){var r=e[t];this.setCookie(r),m["default"].documentCookieSetter.call(this.document,v.generateDeleteSyncCookieStr(r)),v.changeSyncType(r,{server:!1,window:!0}),m["default"].documentCookieSetter.call(this.document,v.formatSyncCookie(r))}this._windowSync.syncBetweenWindows(e)},r._syncClientCookie=function(e){e.isClientSync=!0,e.isWindowSync=!0,e.sid=u["default"].get().sessionId,e.lastAccessed=new m["default"].date,v.prepareSyncCookieProperties(e),m["default"].documentCookieSetter.call(this.document,v.formatSyncCookie(e)),this._windowSync.syncBetweenWindows([e])},t.isSyncCookieExists=function(e,t){var r=t.indexOf(e.cookieStr),n=r+e.cookieStr.length;return r>-1&&(t.length===n||";"===t.charAt(n))},r.syncWindowCookie=function(e){for(var r=m["default"].documentCookieGetter.call(this.document),n=0;n<e.length;n++){var i=e[n];t.isSyncCookieExists(i,r)&&this.setCookie(i)}},r.getWindowSync=function(){return this._windowSync},r.attach=function(r){e.prototype.attach.call(this,r),this._windowSync.attach(r),r===g["default"]()&&this._unloadSandbox.on(this._unloadSandbox.UNLOAD_EVENT,t._removeAllSyncCookie)},t}(l["default"]);e["default"]=E,t.exports=e["default"]},"window-sync.js":function(e,t,r){var n=function(e){return e&&e.__esModule?e:{"default":e}};Object.defineProperty(e,"__esModule",{value:!0});var i=n(r("./index")),o=n(r("pinkie")),a=n(r("../../../processing/dom/internal-properties")),s=n(r("../../utils/integer-id-generator")),l=n(r("../native-methods")),u=r("../../../utils/cookie"),c=n(r("../../utils/get-top-opener-window")),d="hammerhead|command|sync-cookie-start",p="hammerhead|command|sync-cookie-done",f=500,h=5,m=function(){function e(e,t,r){this._cookieSandbox=e,this._messageSandbox=t,this._childWindowSandbox=r,this._win=null,this._messageIdGenerator=null,this._resolversMap=new Map}e._getCookieSandbox=function(e){try{var t=e[a["default"].hammerhead].sandbox.cookie;return t.document&&t}catch(r){return null}};var t=e.prototype;return t._onMsgReceived=function(e){var t=this,r=e.message,n=e.source;if(r.cmd===d)this._cookieSandbox.syncWindowCookie(r.cookies),this._win!==this._win.top?this._messageSandbox.sendServiceMsg({id:r.id,cmd:p},n):this._win!==c["default"]()?this.syncBetweenWindows(r.cookies,n).then(function(){return t._messageSandbox.sendServiceMsg({id:r.id,cmd:p},n)}):this.syncBetweenWindows(r.cookies,n);else if(r.cmd===p){var i=this._resolversMap.get(r.id);i&&i()}},t._getWindowsForSync=function(e,t,r){void 0===r&&(r=[]),t!==e&&t!==this._win.top&&r.push(t);for(var n=0,i=t.frames;n<i.length;n++){var o=i[n];this._getWindowsForSync(e,o,r)}return r},t._sendSyncMessage=function(e,t,r){var n=this,i=this._messageIdGenerator.increment(),a=0;return new o["default"](function(o){var s=null,u=function(){l["default"].clearTimeout.call(n._win,s),n._resolversMap["delete"](i),o()},c=function d(){a++<h||!e.parent?(n._messageSandbox.sendServiceMsg({id:i,cmd:t,cookies:r},e),s=l["default"].setTimeout.call(n._win,d,f*a)):u()};n._resolversMap.set(i,u),c()})},t._delegateSyncBetweenWindowsToMainTopWindow=function(t){var r=c["default"](),n=e._getCookieSandbox(r);n?(n.syncWindowCookie(t),n.getWindowSync().syncBetweenWindows(t,this._win)):this._messageSandbox.sendServiceMsg({cmd:d,cookies:t},r)},t._removeSyncCookie=function(e){for(var t=this._win.document,r=e[0].isClientSync&&l["default"].documentCookieGetter.call(t),n=0;n<e.length;n++){var o=e[n];l["default"].documentCookieSetter.call(t,u.generateDeleteSyncCookieStr(o))}var a=e[0];r&&i["default"].isSyncCookieExists(a,r)&&(u.changeSyncType(a,{window:!1}),l["default"].documentCookieSetter.call(t,u.formatSyncCookie(a)))},t.syncBetweenWindows=function(t,r){var n=this,i=c["default"]();if(this._win!==this._win.top||this._win!==i&&!r)return this._delegateSyncBetweenWindowsToMainTopWindow(t),o["default"].resolve();var a=this._getWindowsForSync(r,this._win),s=[];if(this._win===i)for(var l=0,u=this._childWindowSandbox.getChildWindows();l<u.length;l++){var p=u[l],f=e._getCookieSandbox(p);f?s.push(f.getWindowSync().syncBetweenWindows(t,this._win)):s.push(this._sendSyncMessage(p,d,t))}for(var h=0;h<a.length;h++){var m=a[h],v=e._getCookieSandbox(m);v?v.syncWindowCookie(t):s.push(this._sendSyncMessage(m,d,t))}if(s.length){var g=o["default"].all(s);return this._win===i&&(g=g.then(function(){return n._removeSyncCookie(t)})),g}return this._removeSyncCookie(t),o["default"].resolve()},t.attach=function(e){var t=this;this._win=e,this._messageSandbox.on(this._messageSandbox.SERVICE_MSG_RECEIVED_EVENT,function(e){return t._onMsgReceived(e)}),e===e.top&&(this._messageIdGenerator=this._messageIdGenerator||new s["default"],this._resolversMap=this._resolversMap||new Map)},e}();e["default"]=m,t.exports=e["default"]}},"electron.js":function(exports,module,require){function _inheritsLoose(e,t){e.prototype=Object.create(t.prototype),e.prototype.constructor=e,_setPrototypeOf(e,t)}function _setPrototypeOf(e,t){return(_setPrototypeOf=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e})(e,t)}var __importDefault=function(e){return e&&e.__esModule?e:{"default":e}},__importStar=function(e){if(e&&e.__esModule)return e;var t={};if(null!=e)for(var r in e)Object.hasOwnProperty.call(e,r)&&(t[r]=e[r]);return t["default"]=e,t};Object.defineProperty(exports,"__esModule",{value:!0});var base_1=__importDefault(require("./base")),script_1=require("../../processing/script"),destinationLocation=__importStar(require("../utils/destination-location")),overriding_1=require("../utils/overriding"),ElectronSandbox=function(_base_1$default){function ElectronSandbox(){return _base_1$default.apply(this,arguments)||this}_inheritsLoose(ElectronSandbox,_base_1$default),ElectronSandbox._createFnWrapper=function(e,t){return function(){for(var r=arguments.length,n=new Array(r),i=0;i<r;i++)n[i]=arguments[i];return"string"==typeof n[0]&&(n[0]=script_1.processScript(n[0])),t.apply(e,n)}},ElectronSandbox._overrideElectronModulePaths=function _overrideElectronModulePaths(window){var electronRequire=eval("require"),path=electronRequire("path"),destination=destinationLocation.getParsed();if("file:"===destination.protocol){var pathname="win32"===window.process.platform&&"/"===destination.pathname[0]?destination.pathname.substr(1):destination.pathname;window.__filename=path.normalize(decodeURIComponent(pathname)),window.__dirname=path.dirname(window.__filename),window.module.filename=window.__filename,window.module.paths=window.module.paths.concat(electronRequire("module")._nodeModulePaths(window.__dirname))}};var _proto=ElectronSandbox.prototype;return _proto.attach=function(e){if(_base_1$default.prototype.attach.call(this,e),e.require){var t=e.require("vm");if(t){var r=this.nativeMethods;r.refreshElectronMeths(t)&&(overriding_1.overrideFunction(t,"createScript",ElectronSandbox._createFnWrapper(t,r.createScript)),t.runInDebugContext&&overriding_1.overrideFunction(t,"runInDebugContext",ElectronSandbox._createFnWrapper(t,r.runInDebugContext)),overriding_1.overrideFunction(t,"runInContext",ElectronSandbox._createFnWrapper(t,r.runInContext)),overriding_1.overrideFunction(t,"runInNewContext",ElectronSandbox._createFnWrapper(t,r.runInNewContext)),overriding_1.overrideFunction(t,"runInThisContext",ElectronSandbox._createFnWrapper(t,r.runInThisContext)),ElectronSandbox._overrideElectronModulePaths(e))}}},ElectronSandbox}(base_1["default"]);exports["default"]=ElectronSandbox,module.exports=exports["default"]},event:{"active-window-tracker.js":function(e,t,r){function n(e,t){e.prototype=Object.create(t.prototype),e.prototype.constructor=e,i(e,t)}function i(e,t){return(i=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e})(e,t)}var o=function(e){return e&&e.__esModule?e:{"default":e}};Object.defineProperty(e,"__esModule",{value:!0});var a=o(r("../base")),s=r("../../utils/dom"),l="hammerhead|event|window-activated",u="hammerhead|event|window-deactivated",c=function(e){function t(t){var r;return r=e.call(this)||this,r._messageSandbox=t,r._isIframeWindow=!1,r._activeWindow=null,r._isActive=!1,r}n(t,e);var r=t.prototype;return r._notifyPrevActiveWindow=function(){try{this._activeWindow.top&&this._activeWindow!==this._activeWindow.top&&this._messageSandbox.sendServiceMsg({cmd:u},this._activeWindow)}catch(e){}},r.attach=function(t){var r=this;e.prototype.attach.call(this,t),this._isIframeWindow=s.isIframeWindow(t),this._activeWindow=this._isIframeWindow?null:t.top,this._isActive=!this._isIframeWindow,this._messageSandbox.on(this._messageSandbox.SERVICE_MSG_RECEIVED_EVENT,function(e){e.message.cmd===l?(r._notifyPrevActiveWindow(),r._isActive=!1,r._activeWindow=e.source):e.message.cmd===u&&(r._isActive=!1)})},r.isCurrentWindowActive=function(){return this._isActive},r.makeCurrentWindowActive=function(){this._isActive=!0,this._isIframeWindow?this._messageSandbox.sendServiceMsg({cmd:l},this.window.top):(this._notifyPrevActiveWindow(),this._activeWindow=this.window)},t}(a["default"]);e["default"]=c,t.exports=e["default"]},"drag-and-drop":{"data-store-mode.js":function(e,t,r){Object.defineProperty(e,"__esModule",{value:!0}),e["default"]={readwrite:"readwrite",readonly:"readonly","protected":"protected"},t.exports=e["default"]},"data-transfer-item-kind.js":function(e,t,r){Object.defineProperty(e,"__esModule",{value:!0}),e["default"]={string:"string",file:"file"},t.exports=e["default"]},"data-transfer-item-list.js":function(e,t,r){function n(e){e=e.replace(/\r\n$/,"");var t=[];if(""===e)return t;e=e.split(/\r\n/);for(var r=0,n=e;r<n.length;r++){var i=n[r];"#"!==i&&t.push(i)}return t}function i(e){return"text"===e?"text/plain":"url"===e?"text/uri-list":e}var o=function(e){return e&&e.__esModule?e:{"default":e}};Object.defineProperty(e,"__esModule",{value:!0});var a=o(r("../../native-methods")),s=o(r("./data-transfer-item")),l=o(r("./data-store-mode")),u=o(r("./data-transfer-item-kind")),c=function(e){var t=this,r=[],o=[],c=function(){for(var e=[],t=0,n=r;t<n.length;t++){var i=n[t];e.push(i.type)}return e},d=function(){for(var e=0;void 0!==r[e]||void 0!==t[e];){var n=r[e];a["default"].objectDefineProperty(t,e,{enumerable:void 0!==n,configurable:!0,value:n
}),e++}},p=function(e){var t=!1;e=i(e),"url"===e&&(t=!0);for(var a="",s=0;s<r.length;s++)r[s].type===e&&(a=o[s]);return t&&a&&(a=n(a)[0]),a},f=function(e){e=i(e);for(var t=0;t<r.length;t++)if(r[t].type===e){r.splice(t,1),o.splice(t,1);break}d()},h=function(e,t,n){var a=null;if("string"==typeof e){var l=t.toString().toLowerCase(),c=p(l);if(!n&&c)throw new Error("Failed to execute 'add' on 'DataTransferItemList': An item already exists for type '"+l+"'.");c&&f(l),a=new s["default"](u["default"].string,i(t),e)}else a=new s["default"](u["default"].file,null,e);return r.push(a),o.push(e),d(),a};this.getAndHideInternalMethods=function(){var e={getTypes:c,getItemData:p,removeItem:f,addItem:h};return delete t.getAndHideInternalMethods,e},a["default"].objectDefineProperty(this,"length",{enumerable:!0,get:function(){return r.length}}),a["default"].objectDefineProperty(this,"remove",{configurable:!0,enumerable:!0,get:function(){return function(t){e.mode===l["default"].readwrite&&(r.splice(t,1),o.splice(t,1),d())}}}),a["default"].objectDefineProperty(this,"clear",{configurable:!0,enumerable:!0,get:function(){return function(){e.mode===l["default"].readwrite&&(r=[],o=[],d())}}}),a["default"].objectDefineProperty(this,"add",{configurable:!0,enumerable:!0,get:function(){return function(t,r){if(!arguments.length)throw new Error("Failed to execute 'add' on 'DataTransferItemList': 1 argument required, but only 0 present.");if(1===arguments.length&&"string"==typeof t)throw new Error("Failed to execute 'add' on 'DataTransferItemList': parameter 1 is not of type 'File'.");if(e.mode===l["default"].readwrite)return h(t,r,!1)}}})};e["default"]=c,a["default"].DataTransferItemList&&(c.prototype=a["default"].DataTransferItemList.prototype),t.exports=e["default"]},"data-transfer-item.js":function(e,t,r){var n=function(e){return e&&e.__esModule?e:{"default":e}};Object.defineProperty(e,"__esModule",{value:!0});var i=n(r("../../native-methods")),o=n(r("./data-transfer-item-kind")),a=function(e,t,r){i["default"].objectDefineProperty(this,"kind",{enumerable:!0,get:function(){return e}}),i["default"].objectDefineProperty(this,"type",{enumerable:!0,get:function(){return t}}),i["default"].objectDefineProperty(this,"getAsString",{configurable:!0,enumerable:!0,get:function(){return function(t){if(!arguments.length)throw new Error("Failed to execute 'getAsString' on 'DataTransferItem': 1 argument required, but only 0 present.");"function"==typeof t&&e===o["default"].string&&i["default"].setTimeout.call(window,function(){return t(r)},0)}}}),i["default"].objectDefineProperty(this,"getAsFile",{configurable:!0,enumerable:!0,get:function(){return function(){return e!==o["default"].file?null:r}}})};e["default"]=a,i["default"].DataTransferItem&&(a.prototype=i["default"].DataTransferItem.prototype),t.exports=e["default"]},"data-transfer.js":function(e,t,r){var n=function(e){return e&&e.__esModule?e:{"default":e}};Object.defineProperty(e,"__esModule",{value:!0});var i=r("../../../utils/browser"),o=r("../../../utils/feature-detection"),a=n(r("../../native-methods")),s=n(r("./data-transfer-item-list")),l=n(r("./file-list")),u=n(r("./data-store-mode")),c=n(r("./drop-effect")),d=n(r("./effect-allowed")),p=function(e){var t=c["default"].none,r=d["default"].uninitialized,n=new s["default"](e),o=n.getAndHideInternalMethods(),p=new l["default"],f=new s["default"](e),h=f.getAndHideInternalMethods(),m=function(){return e.mode===u["default"]["protected"]?f:n},v=function(){return e.mode===u["default"]["protected"]?h:o};a["default"].objectDefineProperty(this,"dropEffect",{configurable:!0,enumerable:!0,get:function(){return t},set:function(e){return c["default"][e]&&(t=c["default"][e]),e}}),a["default"].objectDefineProperty(this,"effectAllowed",{configurable:!0,enumerable:!0,get:function(){return r},set:function(e){return d["default"][e]&&(r=d["default"][e]),e}}),i.isIE11||a["default"].objectDefineProperty(this,"items",{configurable:!0,enumerable:!0,get:m}),a["default"].objectDefineProperty(this,"types",{configurable:!0,enumerable:!0,get:function(){return v().getTypes()}}),a["default"].objectDefineProperty(this,"files",{configurable:!0,enumerable:!0,get:function(){return p}}),i.isIE11||(this.setDragImage=function(){}),this.getData=function(e){if(!arguments.length)throw new Error("Failed to execute 'getData' on 'DataTransfer': 1 argument required, but only 0 present.");return e=e.toString().toLowerCase(),v().getItemData(e)},this.setData=function(t,r){if(arguments.length<2)throw new Error("Failed to execute 'setData' on 'DataTransfer': 2 argument required, but only "+arguments.length+" present.");e.mode===u["default"].readwrite&&(t=t.toString().toLowerCase(),o.addItem(r,t,!0))},this.clearData=function(t){e.mode===u["default"].readwrite&&(void 0===t?n.clear():o.removeItem(t))}};e["default"]=p,o.hasDataTransfer&&(p.prototype=a["default"].DataTransfer.prototype),t.exports=e["default"]},"drag-data-store.js":function(e,t,r){var n=function(e){return e&&e.__esModule?e:{"default":e}};Object.defineProperty(e,"__esModule",{value:!0});var i=n(r("./data-store-mode")),o=function(){function e(){this.mode=i["default"].readwrite}var t=e.prototype;return t.setReadOnlyMode=function(){this.mode=i["default"].readonly},t.setProtectedMode=function(){this.mode=i["default"]["protected"]},e}();e["default"]=o,t.exports=e["default"]},"drop-effect.js":function(e,t,r){Object.defineProperty(e,"__esModule",{value:!0}),e["default"]={none:"none",copy:"copy",link:"link",move:"move"},t.exports=e["default"]},"effect-allowed.js":function(e,t,r){Object.defineProperty(e,"__esModule",{value:!0}),e["default"]={uninitialized:"uninitialized",none:"none",copy:"copy",copyLink:"copyLink",copyMove:"copyMove",link:"link",linkMove:"linkMove",move:"move",all:"all"},t.exports=e["default"]},"file-list.js":function(e,t,r){var n=function(e){return e&&e.__esModule?e:{"default":e}};Object.defineProperty(e,"__esModule",{value:!0});var i=n(r("../../native-methods")),o=function(){i["default"].objectDefineProperty(this,"length",{enumerable:!0,get:function(){return 0}}),i["default"].objectDefineProperty(this,"item",{enumerable:!0,get:function(){return function(){}}})};e["default"]=o,i["default"].FileList&&(o.prototype=i["default"].FileList.prototype),t.exports=e["default"]}},"element-editing-watcher.js":function(e,t,r){var n=function(e){return e&&e.__esModule?e:{"default":e}};Object.defineProperty(e,"__esModule",{value:!0});var i=n(r("../native-methods")),o=r("../../utils/dom"),a="hammerhead|editing-observed",s="hammerhead|previous-value",l=function(){function e(e){this._eventSimulator=e}var t=e.prototype;return t._onBlur=function(e){this.processElementChanging(e.target)||this.stopWatching(e.target)},t._onChange=function(e){this.stopWatching(e.target)},e._getValue=function(e){return o.isInputElement(e)?i["default"].inputValueGetter.call(e):o.isTextAreaElement(e)?i["default"].textAreaValueGetter.call(e):e.value},t.stopWatching=function(e){var t=this;e&&(i["default"].removeEventListener.call(e,"blur",function(e){return t._onBlur(e)}),i["default"].removeEventListener.call(e,"change",function(e){return t._onChange(e)}),void 0!==e[a]&&delete e[a],void 0!==e[s]&&delete e[s])},t.watchElementEditing=function(t){var r,n=this;t&&!t[a]&&o.isTextEditableElementAndEditingAllowed(t)&&!o.isShadowUIElement(t)&&(i["default"].objectDefineProperties(t,(r={},r[a]={value:!0,configurable:!0,writable:!0},r[s]={value:e._getValue(t),configurable:!0,writable:!0},r)),i["default"].addEventListener.call(t,"blur",function(e){return n._onBlur(e)}),i["default"].addEventListener.call(t,"change",function(e){return n._onChange(e)}))},t.restartWatchingElementEditing=function(t){t&&t[a]&&(t[s]=e._getValue(t))},t.processElementChanging=function(t){return!(!t||!t[a]||e._getValue(t)===t[s])&&(this._eventSimulator.change(t),this.restartWatchingElementEditing(t),!0)},t.getElementSavedValue=function(e){return e[s]},t.isEditingObserved=function(e){return e[a]},e}();e["default"]=l,t.exports=e["default"]},"focus-blur.js":function(e,t,r){function n(e,t){e.prototype=Object.create(t.prototype),e.prototype.constructor=e,i(e,t)}function i(e,t){return(i=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e})(e,t)}var o=function(e){return e&&e.__esModule?e:{"default":e}},a=function(e){if(e&&e.__esModule)return e;var t={};if(null!=e)for(var r in e)Object.hasOwnProperty.call(e,r)&&(t[r]=e[r]);return t["default"]=e,t};Object.defineProperty(e,"__esModule",{value:!0});var s=o(r("../../../processing/dom/internal-attributes")),l=o(r("../../../processing/dom/internal-properties")),u=o(r("../base")),c=o(r("../event/active-window-tracker")),d=o(r("../native-methods")),p=a(r("../../utils/browser")),f=a(r("../../utils/dom")),h=a(r("../../utils/style")),m="hammerhead|event|internal-",v=p.isChrome,g={bubbles:{focus:"focusin",blur:"focusout"},nonBubbles:{focusin:"focus",focusout:"blur"}},y=function(e){function t(t,r,n,i,o){var a;return a=e.call(this)||this,a._listeners=t,a._eventSimulator=r,a._timersSandbox=i,a._topWindow=null,a._lastFocusedElement=null,a._scrollState={},a._activeWindowTracker=new c["default"](n),a._elementEditingWatcher=o,a}n(t,e),t._getNativeMeth=function(e,t){if(f.isSVGElement(e)){if("focus"===t)return d["default"].svgFocus;if("blur"===t)return d["default"].svgBlur}return d["default"][t]},t._restoreElementScroll=function(e,t){var r=h.getElementScroll(e);r.left!==t.left&&h.setScrollLeft(e,t.left),r.top!==t.top&&h.setScrollTop(e,t.top)};var r=t.prototype;return r._onChangeActiveElement=function(e){this._lastFocusedElement!==e&&(this._lastFocusedElement&&d["default"].getAttribute.call(this._lastFocusedElement,s["default"].focusPseudoClass)&&d["default"].removeAttribute.call(this._lastFocusedElement,s["default"].focusPseudoClass),!f.isElementFocusable(e)||f.isBodyElement(e)&&null===f.getTabIndex(e)?this._lastFocusedElement=null:(this._lastFocusedElement=e,d["default"].setAttribute.call(e,s["default"].focusPseudoClass,!0)))},r._shouldUseLabelHtmlForElement=function(e,t){return"focus"===t&&!!e.htmlFor&&f.isLabelElement(e)&&!f.isElementFocusable(e)},r._getElementNonScrollableParentsScrollState=function(e){for(var t=[],r=f.getParents(e),n=0;n<r.length;n++){var i=r[n];"hidden"===h.get(i,"overflow")&&t.push({element:i,state:h.getElementScroll(i)})}return t},r._restoreElementNonScrollableParentsScrollState=function(e){for(var r=0;r<e.length;r++){var n=e[r];t._restoreElementScroll(n.element,n.state)}},r._saveScrollStateIfNecessary=function(e,t){t&&(this._scrollState.windowScroll=h.getElementScroll(this.window)),p.isIE&&(this._scrollState.elementNonScrollableParentsScrollState=this._getElementNonScrollableParentsScrollState(e))},r._restoreScrollStateIfNecessary=function(e){e&&t._restoreElementScroll(this.window,this._scrollState.windowScroll),p.isIE&&this._restoreElementNonScrollableParentsScrollState(this._scrollState.elementNonScrollableParentsScrollState)},r._raiseEvent=function(e,r,n,i){var o=this,a=i.withoutHandlers,s=i.isAsync,l=i.forMouseEvent,u=i.preventScrolling,c=i.relatedTarget,h=i.focusedOnChange,m=function(){if(p.isIE&&p.version<12?o.window.setTimeout(function(){o.window.setTimeout(function(){delete e[t.getInternalEventFlag(r)]},0)},0):delete e[t.getInternalEventFlag(r)],a){if("focus"===r&&v){var i=function(e,t,r,n,i){n(),i()};o._listeners.addInternalEventBeforeListener(window,["focus"],i),o._eventSimulator.focus(e,c),o._listeners.removeInternalEventBeforeListener(window,["focus"],i)}}else{var l=g.bubbles[r],u=p.isIE11||p.isMSEdge&&p.version<17&&"blur"===r;s?(o._eventSimulator[l](e,c),o._timersSandbox.deferFunction(function(){return o._eventSimulator[r](e,c)})):u?(o._eventSimulator[l](e,c),o._eventSimulator[r](e,c)):(o._eventSimulator[r](e,c),o._eventSimulator[l](e,c))}n()};if(e[r]){if(this._saveScrollStateIfNecessary(e,u),this._shouldUseLabelHtmlForElement(e,r)){var y=d["default"].getElementById.call(f.findDocument(e),e.htmlFor);if(!y)return void n();e=y}e[t.getInternalEventFlag(r)]=!0,h||t._getNativeMeth(e,r).call(e),this._restoreScrollStateIfNecessary(u);var E=f.findDocument(e),_=f.getActiveElement(E),S=d["default"].nodeParentNodeGetter.call(e),b=S===document?null:f.closest(S,"[tabindex]");if("focus"===r&&_!==e&&b&&l){var w=p.isWebKit||p.isSafari||p.isIE;this._raiseEvent(b,"focus",m,{preventScrolling:w,forMouseEvent:l})}else"blur"===r&&_===e&&e!==E.body?this._raiseEvent(E.body,"focus",m,{withoutHandlers:!0}):e.disabled?n():m()}else m()},t.getInternalEventFlag=function(e){return m+e},t.getNonBubblesEventType=function(e){return g.nonBubbles[e]},r.attach=function(t){var r=this;e.prototype.attach.call(this,t),this._activeWindowTracker.attach(t),this._topWindow=f.isCrossDomainWindows(t,t.top)?t:t.top,this._listeners.addInternalEventBeforeListener(t,["focus","blur"],function(){var e=f.getActiveElement(r.document);r._onChangeActiveElement(e)})},r._raiseSelectionChange=function(e,t){p.isMSEdge&&t&&f.isTextEditableElement(t)&&this._eventSimulator.selectionchange(t),"function"==typeof e&&e()},r.focus=function(e,t,r,n,i,o){var a=this,s=!i||p.isWebKit||!h.isElementInInvisibleIframe(e),u=(e[l["default"].processedContext]||this.window).document;if(!s||i&&!h.isElementVisible(e,u))return null;var c=f.isElementInIframe(e),d=c?f.getIframeByElement(e):null,m=f.findDocument(e),v=f.isBodyElement(e),g=f.getActiveElement(),y=f.findDocument(g),E=!1,_=!1,S=!1,b=f.isContentEditableElement(e),w=this._activeWindowTracker.isCurrentWindowActive();E=g===e?!(v&&b&&!w):v&&!(b||p.isIE);var x=!1,T=function(){w||f.isShadowUIElement(e)||a._activeWindowTracker.makeCurrentWindowActive();var i={withoutHandlers:E||r,isAsync:x,forMouseEvent:n,preventScrolling:o,relatedTarget:g};a._raiseEvent(e,"focus",function(){r||a._elementEditingWatcher.watchElementEditing(e),c&&d&&f.getActiveElement(a._topWindow.document)!==d?a._raiseEvent(d,"focus",function(){return a._raiseSelectionChange(t,e)},{withoutHandlers:!0,isAsync:x}):a._raiseSelectionChange(t,e)},i)};if(i&&p.isIE){if((this._eventSimulator.isSavedWindowsEventsExists()||p.version>10)&&this.window.event&&"focus"===this.window.event.type&&this.window.event.srcElement===e)return this._raiseSelectionChange(t,e),null;p.version<12&&(x=!0)}return g&&g.tagName&&(g!==e&&(m!==y&&g===y.body?_=!1:g===m.body?!r&&p.isIE&&(x?this._timersSandbox.setTimeout.call(this.window,function(){return a._eventSimulator.blur(g)},0):this._eventSimulator.blur(g)):e.disabled||(_=!0)),S=m!==y&&f.isElementInIframe(g,y)),S&&!_?p.isIE?(this._eventSimulator.blur(f.getIframeByElement(g)),T()):this.blur(f.getIframeByElement(g),T,!0,i):_?this.blur(g,function(e){S?a.blur(f.getIframeByElement(g),T,!0,i):e?"function"==typeof t&&t():T()},r,i,e):T(),null},r.blur=function(e,t,r,n,i){var o=f.findDocument(e),a=f.getActiveElement(o),s=n&&p.isIE&&p.version<12;a!==e&&(r=!0);var l=!1;if(!r){var u=function(t){l=t.target===e};v&&this._listeners.addInternalEventBeforeListener(window,["focus"],u),this._elementEditingWatcher.processElementChanging(e),v&&this._listeners.removeInternalEventBeforeListener(window,["focus"],u),this._elementEditingWatcher.stopWatching(e)}var c={withoutHandlers:r,isAsync:s,relatedTarget:i,focusedOnChange:l};this._raiseEvent(e,"blur",function(){"function"==typeof t&&t(l)},c)},r.dispose=function(){this._lastFocusedElement=null},t}(u["default"]);e["default"]=y,t.exports=e["default"]},"hover.js":function(e,t,r){function n(e,t){e.prototype=Object.create(t.prototype),e.prototype.constructor=e,i(e,t)}function i(e,t){return(i=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e})(e,t)}var o=function(e){return e&&e.__esModule?e:{"default":e}},a=function(e){if(e&&e.__esModule)return e;var t={};if(null!=e)for(var r in e)Object.hasOwnProperty.call(e,r)&&(t[r]=e[r]);return t["default"]=e,t};Object.defineProperty(e,"__esModule",{value:!0});var s=o(r("../../../processing/dom/internal-attributes")),l=o(r("../base")),u=o(r("../native-methods")),c=a(r("../../utils/dom")),d=a(r("../../utils/position")),p=a(r("../../utils/browser")),f=function(e){function t(t){var r;return r=e.call(this)||this,r._listeners=t,r._hoverElementFixed=!1,r._lastHoveredElement=null,r}n(t,e),t._setHoverMarker=function(e,t){for(t&&u["default"].setAttribute.call(t,s["default"].hoverPseudoClass,"");e&&e.tagName&&e!==t;)u["default"].setAttribute.call(e,s["default"].hoverPseudoClass,""),e=u["default"].nodeParentNodeGetter.call(e)};var r=t.prototype;return r._clearHoverMarkerUntilJointParent=function(e){var t=null;if(this._lastHoveredElement){for(var r=this._lastHoveredElement;r&&r.tagName&&r.contains;){if(r.contains(e)){t=r;break}u["default"].removeAttribute.call(r,s["default"].hoverPseudoClass),r=u["default"].nodeParentNodeGetter.call(r)}t&&u["default"].removeAttribute.call(t,s["default"].hoverPseudoClass)}return t},r._onHover=function(e){var t=e.target,r=e.clientX,n=e.clientY,i=p.isIE&&d.shouldIgnoreMouseEventInsideIframe(t,r,n);i||this._hover(t)},r._hover=function(e){if(!this._hoverElementFixed&&!c.isShadowUIElement(e)){var r=this._clearHoverMarkerUntilJointParent(e);t._setHoverMarker(e,r),this._lastHoveredElement=e}},r.fixHoveredElement=function(){this._hoverElementFixed=!0},r.freeHoveredElement=function(){this._hoverElementFixed=!1},r.attach=function(t){var r=this;e.prototype.attach.call(this,t),this._listeners.addInternalEventBeforeListener(t,["mouseover","touchstart"],function(e){return r._onHover(e)})},r.dispose=function(){this._lastHoveredElement=null},t}(l["default"]);e["default"]=f,t.exports=e["default"]},"index.js":function(e,t,r){function n(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function i(e,t){e.prototype=Object.create(t.prototype),e.prototype.constructor=e,o(e,t)}function o(e,t){return(o=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e})(e,t)}var a=function(e){return e&&e.__esModule?e:{"default":e}},s=function(e){if(e&&e.__esModule)return e;var t={};if(null!=e)for(var r in e)Object.hasOwnProperty.call(e,r)&&(t[r]=e[r]);return t["default"]=e,t};Object.defineProperty(e,"__esModule",{value:!0});var l=a(r("./focus-blur")),u=a(r("./hover")),c=a(r("./listeners")),d=a(r("./selection")),p=a(r("../base")),f=a(r("../native-methods")),h=s(r("../../utils/dom")),m=r("../../utils/browser"),v=r("../../utils/event"),g=a(r("./drag-and-drop/data-transfer")),y=a(r("./drag-and-drop/drag-data-store")),E=r("../../utils/overriding"),_=function(e){function t(t,r,i,o,a,s,c){var p;return p=e.call(this)||this,p._shadowUI=s,p.EVENT_PREVENTED_EVENT="hammerhead|event|event-prevented",p.listeners=t,p.elementEditingWatcher=i,p.unload=o,p.timers=c,p.eventSimulator=r,p.focusBlur=new l["default"](t,r,a,c,i),p.selection=new d["default"](n(p)),p.hover=new u["default"](t),p._shadowUI=s,p.message=a,p.DataTransfer=g["default"],p.DragDataStore=y["default"],p._overriddenMethods=null,p._onFocus=null,p._cancelInternalEvents=null,p._createOverriddenMethods(),p._createInternalHandlers(),p}i(t,e);var r=t.prototype;return r._createOverriddenMethods=function(){var e=this.selection,t=this.focusBlur,r=this.eventSimulator,n=this;this._overriddenMethods={dispatchEvent:function(){c["default"].beforeDispatchEvent(this);var e=m.isIE11&&h.isWindow(this)?f["default"].windowDispatchEvent.apply(this,arguments):f["default"].dispatchEvent.apply(this,arguments);return c["default"].afterDispatchEvent(this),e},click:function(){c["default"].beforeDispatchEvent(this);var e=r.nativeClick(this,f["default"].click);return c["default"].afterDispatchEvent(this),e},setSelectionRange:function(){return e.setSelectionRangeWrapper.apply(this,arguments)},select:function(){return e.selectWrapper.call(this)},focus:function(){return t.focus(this,null,!1,!1,!0)},blur:function(){return t.blur(this,null,!1,!0)},preventDefault:function(){return n.emit(n.EVENT_PREVENTED_EVENT,this),f["default"].preventDefault.call(this)}}},r._createInternalHandlers=function(){var e=this._shadowUI,t=this.document,r=this.eventSimulator;this._onFocus=function(r){var n=r.target,i=h.getActiveElement(t);h.isShadowUIElement(n)||h.isShadowUIElement(i)||e.setLastActiveElement(i)},this._cancelInternalEvents=function(e,t,n,i,o){var a=l["default"].getNonBubblesEventType(e.type)||e.type,s=l["default"].getInternalEventFlag(a);e.target[s]&&!e[r.DISPATCHED_EVENT_FLAG]&&o()}},r._preventInputNativeDialogs=function(e){var t=m.isFirefox||m.isIE;t&&this.listeners.addInternalEventBeforeListener(e,["click"],function(e,t){t&&h.isInputWithNativeDialog(e.target)&&v.preventDefault(e,!0)})},r.attach=function(t){e.prototype.attach.call(this,t),E.overrideFunction(t.HTMLInputElement.prototype,"setSelectionRange",this._overriddenMethods.setSelectionRange),E.overrideFunction(t.HTMLTextAreaElement.prototype,"setSelectionRange",this._overriddenMethods.setSelectionRange),m.isIE11?(E.overrideFunction(t.Window.prototype,"dispatchEvent",this._overriddenMethods.dispatchEvent),E.overrideFunction(t.Document.prototype,"dispatchEvent",this._overriddenMethods.dispatchEvent),E.overrideFunction(t.HTMLElement.prototype,"dispatchEvent",this._overriddenMethods.dispatchEvent),E.overrideFunction(t.SVGElement.prototype,"dispatchEvent",this._overriddenMethods.dispatchEvent)):E.overrideFunction(t.EventTarget.prototype,"dispatchEvent",this._overriddenMethods.dispatchEvent),E.overrideFunction(t.HTMLElement.prototype,"focus",this._overriddenMethods.focus),E.overrideFunction(t.HTMLElement.prototype,"blur",this._overriddenMethods.blur),E.overrideFunction(t.HTMLElement.prototype,"click",this._overriddenMethods.click),E.overrideFunction(t.Event.prototype,"preventDefault",this._overriddenMethods.preventDefault),t.Window.focus=this._overriddenMethods.focus,E.overrideStringRepresentation(t.Window.focus,f["default"].focus),t.Window.blur=this._overriddenMethods.blur,E.overrideStringRepresentation(t.Window.blur,f["default"].blur),t.TextRange&&t.TextRange.prototype.select&&E.overrideFunction(t.TextRange.prototype,"select",this._overriddenMethods.select),this.listeners.initElementListening(document,v.DOM_EVENTS),this.listeners.initElementListening(t,v.DOM_EVENTS.concat(["load","beforeunload","pagehide","unload","message"])),this.listeners.addInternalEventBeforeListener(t,["focus"],this._onFocus),this.listeners.addInternalEventBeforeListener(t,["focus","blur","change","focusin","focusout"],this._cancelInternalEvents),this._preventInputNativeDialogs(t),this.unload.attach(t),this.message.attach(t),this.timers.attach(t),this.focusBlur.attach(t),this.hover.attach(t)},r.reattach=function(e){this.listeners.restartElementListening(e.document),this.listeners.restartElementListening(e)},t}(p["default"]);e["default"]=_,t.exports=e["default"]},"listeners.js":function(e,t,r){function n(e,t){e.prototype=Object.create(t.prototype),e.prototype.constructor=e,i(e,t)}function i(e,t){return(i=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e})(e,t)}var o=function(e){return e&&e.__esModule?e:{"default":e}},a=function(e){if(e&&e.__esModule)return e;var t={};if(null!=e)for(var r in e)Object.hasOwnProperty.call(e,r)&&(t[r]=e[r]);return t["default"]=e,t};Object.defineProperty(e,"__esModule",{value:!0});var s=o(r("../../../processing/dom/internal-properties")),l=o(r("../native-methods")),u=o(r("../../utils/event-emitter")),c=a(r("./listening-context")),d=r("../../utils/event"),p=r("../../utils/dom"),f=r("../../utils/browser"),h=r("../../utils/overriding"),m=["click","mousedown","mouseup","dblclick","contextmenu","mousemove","mouseover","mouseout","pointerdown","pointermove","pointerover","pointerout","pointerup","MSPointerDown","MSPointerMove","MSPointerOver","MSPointerOut","MSPointerUp","touchstart","touchmove","touchend","keydown","keypress","keyup","change","focus","blur","focusin","focusout"],v="hammerhead|event-sandbox-dispatch-event-flag",g=function(e){function t(){var t;return t=e.call(this)||this,t.EVENT_LISTENER_ATTACHED_EVENT="hammerhead|event|event-listener-attached",t.EVENT_LISTENER_DETACHED_EVENT="hammerhead|event|event-listener-detached",t.listeningCtx=c,t.addInternalEventBeforeListener=t.listeningCtx.addInternalBeforeHandler,t.addFirstInternalEventBeforeListener=t.listeningCtx.addFirstInternalBeforeHandler,t.addInternalEventAfterListener=t.listeningCtx.addInternalAfterHandler,t.removeInternalEventBeforeListener=t.listeningCtx.removeInternalBeforeHandler,t}n(t,e),t._getNativeAddEventListener=function(e){return f.isIE11?p.isWindow(e)?l["default"].windowAddEventListener:void 0!==e.body?l["default"].documentAddEventListener:l["default"].addEventListener:l["default"].addEventListener},t._getNativeRemoveEventListener=function(e){return f.isIE11?p.isWindow(e)?l["default"].windowRemoveEventListener:void 0!==e.body?l["default"].documentRemoveEventListener:l["default"].removeEventListener:l["default"].removeEventListener},t._isIEServiceHandler=function(e){return"[object FunctionWrapper]"===e.toString()},t._getEventListenerWrapper=function(e,r){return function(n){return t._isIEServiceHandler(r)||e.cancelOuterHandlers?null:"function"==typeof e.outerHandlersWrapper?e.outerHandlersWrapper.call(this,n,r):d.callEventListener(this,r,n)}},t._isDifferentHandler=function(e,t,r){for(var n=0;n<e.length;n++){var i=e[n];if(i.fn===t&&i.useCapture===r)return!1}return!0},t._getUseCaptureParam=function(e){return e&&"boolean"==typeof e?e:!(!e||"object"!=typeof e)&&!!e.capture};var r=t.prototype;return r._createEventHandler=function(){var e=this;return function(t){var r=this,n=r[s["default"].processedContext]||window,i=!1,o=!1,a=!1,u=e.listeningCtx.getEventCtx(r,t.type);if(u){var c=u.internalBeforeHandlers;u.cancelOuterHandlers=!1;for(var p=function(e){i=!0,d.preventDefault(t,e)},f=function(){o||(u.cancelOuterHandlers=!0),o=!0},h=function(){a=!0,d.stopPropagation(t)},m=l["default"].arraySlice.call(c),g=0;g<m.length;g++){var y=m[g];if(y.call(r,t,n[v],p,f,h),i||a)break}}}},r.createOverriddenMethods=function(){var e=this;return{addEventListener:function(){for(var r=arguments.length,n=new Array(r),i=0;i<r;i++)n[i]=arguments[i];var o=n[0],a=n[1],s=this,l=t._getUseCaptureParam(n[2]),u=c.getEventCtx(s,o),p=t._getNativeAddEventListener(s);if(!u||!d.isValidEventListener(a))return p.apply(s,n);var f=t._isDifferentHandler(u.outerHandlers,a,l);if(!f)return null;var h=t._getEventListenerWrapper(u,a);n[1]=h,c.wrapEventListener(u,a,h,l);var m=p.apply(s,n);return c.updateInternalAfterHandlers(s,o),e.emit(e.EVENT_LISTENER_ATTACHED_EVENT,{el:s,eventType:o,listener:a}),m},removeEventListener:function(){for(var r=arguments.length,n=new Array(r),i=0;i<r;i++)n[i]=arguments[i];var o=n[0],a=n[1],s=this,l=t._getUseCaptureParam(n[2]),u=t._getNativeRemoveEventListener(s),p=c.getEventCtx(s,o);if(!p||!d.isValidEventListener(a))return u.apply(s,n);var f=c.getWrapper(p,a,l);n[1]=f;var h=u.apply(s,n);return e.emit(e.EVENT_LISTENER_DETACHED_EVENT,{el:s,listener:a,eventType:o}),h}}},r.initElementListening=function(e,r){void 0===r&&(r=m);for(var n=t._getNativeAddEventListener(e),i=0,o=r;i<o.length;i++){var a=o[i];this.listeningCtx.getEventCtx(e,a)||n.call(e,a,this._createEventHandler(),!0)}if(this.listeningCtx.addListeningElement(e,r),f.isIE11){var s=this.createOverriddenMethods();e.addEventListener?h.isNativeFunction(e.addEventListener)&&(h.overrideFunction(e,"addEventListener",s.addEventListener),h.overrideFunction(e,"removeEventListener",s.removeEventListener)):(e.addEventListener=s.addEventListener,e.removeEventListener=s.removeEventListener,h.overrideStringRepresentation(e.addEventListener,l["default"].addEventListener),h.overrideStringRepresentation(e.removeEventListener,l["default"].removeEventListener))}},r.initDocumentBodyListening=function(e){if(c.addListeningElement(e.body,d.DOM_EVENTS),f.isIE11){var t=this.createOverriddenMethods();h.overrideFunction(e.body,"addEventListener",t.addEventListener),h.overrideFunction(e.body,"removeEventListener",t.removeEventListener)}},r.restartElementListening=function(e){var r=t._getNativeAddEventListener(e),n=this.listeningCtx.getElementCtx(e);if(n)for(var i=l["default"].objectKeys(n),o=0;o<i.length;o++){var a=i[o];r.call(e,a,this._createEventHandler(),!0)}},r.cancelElementListening=function(e){this.listeningCtx.removeListeningElement(e),e.body&&this.listeningCtx.removeListeningElement(e.body)},t.beforeDispatchEvent=function(e){var t=e[s["default"].processedContext]||window;t[v]=(t[v]||0)+1},t.afterDispatchEvent=function(e){var t=e[s["default"].processedContext]||window;t[v]--,t[v]||delete t[v]},r.setEventListenerWrapper=function(e,t,r){this.listeningCtx.isElementListening(e)||this.initElementListening(e,t);for(var n=0;n<t.length;n++){var i=t[n],o=this.listeningCtx.getEventCtx(e,i);o.outerHandlersWrapper=r}},r.getEventListeners=function(e,t){var r=this.listeningCtx.getEventCtx(e,t);return r?l["default"].arrayMap.call(r.outerHandlers,function(e){return e.fn}):null},t}(u["default"]);e["default"]=g,t.exports=e["default"]},"listening-context.js":function(e,t,r){function n(e){return e[y]}function i(e,t){t=v.isIE&&v.version>10&&/MSPointer/.test(t)?t.replace("MS","").toLowerCase():t;var r=n(e);return r&&r[t]}function o(e){return!!e[y]}function a(e,t){for(var r=n(e)||{},i=0;i<t.length;i++)r[t[i]]||(r[t[i]]={internalBeforeHandlers:[],internalAfterHandlers:[],outerHandlers:[],outerHandlersWrapper:null,wrappers:[],cancelOuterHandlers:!1});o(e)||g["default"].objectDefineProperty(e,y,{value:r,writable:!0})}function s(e){delete e[y]}function l(e,t,r){for(var i=n(e),o=0;o<t.length;o++){var a=t[o];i[a].internalAfterHandlers.unshift(r),g["default"].addEventListener.call(e,a,r)}}function u(e,t,r){for(var i=n(e),o=0;o<t.length;o++){var a=t[o];i[a].internalBeforeHandlers.unshift(r)}}function c(e,t,r){for(var i=n(e),o=0;o<t.length;o++){var a=t[o];i[a].internalBeforeHandlers.push(r)}}function d(e,t,r){for(var i=n(e),o=0;o<t.length;o++){var a=t[o],s=i[a].internalBeforeHandlers,l=s.indexOf(r);l>-1&&s.splice(l,1)}}function p(e,t,r,n){e.outerHandlers.push({fn:t,useCapture:n||!1}),e.wrappers.push(r)}function f(e,t,r){for(var n=e.outerHandlers,i=e.wrappers,o=null,a=0;a<n.length;a++){var s=n[a];if(s.fn===t&&(s.useCapture||!1)===(r||!1))return o=i[a],i.splice(a,1),n.splice(a,1),o}return null}function h(e,t){for(var r=n(e),i=0,o=r[t].internalAfterHandlers;i<o.length;i++){var a=o[i];g["default"].removeEventListener.call(e,t,a),g["default"].addEventListener.call(e,t,a)}}var m=function(e){return e&&e.__esModule?e:{"default":e}};Object.defineProperty(e,"__esModule",{value:!0});var v=r("../../utils/browser"),g=m(r("../native-methods")),y="hammerhead|element-listening-events-storage-prop";e.getElementCtx=n,e.getEventCtx=i,e.isElementListening=o,e.addListeningElement=a,e.removeListeningElement=s,e.addInternalAfterHandler=l,e.addFirstInternalBeforeHandler=u,e.addInternalBeforeHandler=c,e.removeInternalBeforeHandler=d,e.wrapEventListener=p,e.getWrapper=f,e.updateInternalAfterHandlers=h},"message.js":function(e,t,r){function n(e,t){e.prototype=Object.create(t.prototype),e.prototype.constructor=e,i(e,t)}function i(e,t){return(i=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e})(e,t)}var o=function(e){return e&&e.__esModule?e:{"default":e}},a=function(e){if(e&&e.__esModule)return e;var t={};if(null!=e)for(var r in e)Object.hasOwnProperty.call(e,r)&&(t[r]=e[r]);return t["default"]=e,t};Object.defineProperty(e,"__esModule",{value:!0});var s,l=o(r("pinkie")),u=o(r("../base")),c=o(r("../native-methods")),d=a(r("../../utils/destination-location")),p=r("../../utils/url"),f=r("json-hammerhead"),h=r("../../utils/dom"),m=r("../../utils/event"),v=o(r("../../utils/fast-apply")),g=r("../../utils/overriding");!function(e){e.Service="hammerhead|service-msg",e.User="hammerhead|user-msg"}(s||(s={}));var y=function(e){function t(t,r){var n;return n=e.call(this)||this,n._listeners=t,n._unloadSandbox=r,n.PING_DELAY=200,n.PING_IFRAME_TIMEOUT=7e3,n.PING_IFRAME_MIN_TIMEOUT=100,n.SERVICE_MSG_RECEIVED_EVENT="hammerhead|event|service-msg-received",n.RECEIVE_MSG_FN="hammerhead|receive-msg-function",n.topWindow=null,n.window=null,n.storedOnMessageHandler=null,n.isWindowUnloaded=!1,n.iframeInternalMsgQueue=[],n}n(t,e),t._getMessageData=function(e){var t=h.isMessageEvent(e)?c["default"].messageEventDataGetter.call(e):e.data;
return"string"==typeof t?f.parse(t):t},t._isWindowAvailable=function(e){try{return!!e.postMessage}catch(t){return!1}};var r=t.prototype;return r._onMessage=function(e){var r=t._getMessageData(e);r.type===s.Service&&e.source&&(this.pingCmd&&r.message.cmd===this.pingCmd&&r.message.isPingResponse?(this.pingCallback(),this.pingCallback=null,this.pingCmd=null):this.emit(this.SERVICE_MSG_RECEIVED_EVENT,{message:r.message,source:e.source,ports:e.ports}))},r._onWindowMessage=function(e,r){var n=t._getMessageData(e);if(n.type!==s.Service){var i=d.get();if("*"===n.targetUrl||d.sameOriginCheck(i,n.targetUrl))return m.callEventListener(this.window,r,e)}return null},t._wrapMessage=function(e,t,r){var n=d.getParsed(),i=p.formatUrl({protocol:n.protocol,host:n.host});return{message:t,originUrl:i,targetUrl:r,type:e}},r._removeInternalMsgFromQueue=function(e){for(var t=0,r=this.iframeInternalMsgQueue.length;t<r;t++)if(this.iframeInternalMsgQueue[t].sendFunc===e)return this.iframeInternalMsgQueue.splice(t,1),!0;return!1},r.attach=function(t){var r=this;e.prototype.attach.call(this,t),this.topWindow=t.top,this.isWindowUnloaded=!1,this._unloadSandbox.on(this._unloadSandbox.UNLOAD_EVENT,function(){for(r.isWindowUnloaded=!0;r.iframeInternalMsgQueue.length;){var e=r.iframeInternalMsgQueue[0];c["default"].clearTimeout.call(r.window,e.timeoutId),e.sendFunc()}});var n=function(){for(var e=arguments.length,t=new Array(e),n=0;n<e;n++)t[n]=arguments[n];return v["default"](r,"_onMessage",t)},i=function(){for(var e=arguments.length,t=new Array(e),n=0;n<e;n++)t[n]=arguments[n];return v["default"](r,"_onWindowMessage",t)};this._listeners.addInternalEventBeforeListener(t,["message"],n),this._listeners.setEventListenerWrapper(t,["message"],i),c["default"].objectDefineProperty(t,this.RECEIVE_MSG_FN,{value:n,configurable:!0}),g.overrideDescriptor(t.MessageEvent.prototype,"data",{getter:function(){var e=this.target,t=c["default"].messageEventDataGetter.call(this);return t&&t.type!==s.Service&&h.isWindow(e)?t.message:t}});var o=c["default"].isEventPropsLocatedInProto?t.Window.prototype:t;g.overrideDescriptor(o,"onmessage",{getter:function(){return r.storedOnMessageHandler},setter:function(e){r.storedOnMessageHandler="function"==typeof e?e:null,c["default"].winOnMessageSetter.call(t,r.storedOnMessageHandler?function(t){return r._onWindowMessage(t,e)}:null)}})},r.postMessage=function(e,r){var n=r[1]||d.getOriginHeader();return r[1]="*",r[0]=t._wrapMessage(s.User,r[0],n),v["default"](e,"postMessage",r)},r.sendServiceMsg=function(e,r,n){var i=this,o=t._wrapMessage(s.Service,e),a=!h.isCrossDomainWindows(r,this.window)&&!!r[this.RECEIVE_MSG_FN];if(!a)return t._isWindowAvailable(r)&&r.postMessage(o,"*",n);var l=function p(e){if(e||i._removeInternalMsgFromQueue(p))try{r[i.RECEIVE_MSG_FN]({data:f.parse(f.stringify(o)),source:i.window,ports:n})}catch(t){}};if(this.isWindowUnloaded)l(!0);else{var u=h.getTopSameDomainWindow(this.window),d=c["default"].setTimeout.call(u,l,10);this.iframeInternalMsgQueue.push({timeoutId:d,sendFunc:l})}return null},r.pingIframe=function(e,t,r){var n=this;return new l["default"](function(i,o){var a=null,s=null,l=null,u=function(){l=c["default"].contentWindowGetter.call(e),l&&n.sendServiceMsg({cmd:n.pingCmd,isPingRequest:!0},l)},d=function(){c["default"].clearInterval.call(n.window,a),c["default"].clearTimeout.call(n.window,s),n.pingCallback=null,n.pingCmd=null,a=null,s=null};s=c["default"].setTimeout.call(n.window,function(){d(),o()},r?n.PING_IFRAME_MIN_TIMEOUT:n.PING_IFRAME_TIMEOUT),n.pingCallback=function(){d(),i()},n.pingCmd=t,u(),a=c["default"].setInterval.call(n.window,u,n.PING_DELAY)})},t}(u["default"]);e["default"]=y,t.exports=e["default"]},"selection.js":function(e,t,r){var n=function(e){return e&&e.__esModule?e:{"default":e}},i=function(e){if(e&&e.__esModule)return e;var t={};if(null!=e)for(var r in e)Object.hasOwnProperty.call(e,r)&&(t[r]=e[r]);return t["default"]=e,t};Object.defineProperty(e,"__esModule",{value:!0});var o=n(r("./focus-blur")),a=n(r("./listeners")),s=n(r("../native-methods")),l=i(r("../../utils/browser")),u=i(r("../../utils/dom")),c=n(r("../../../processing/dom/internal-properties")),d=function(){function e(e){this.focusBlurSandbox=e.focusBlur,this.timersSandbox=e.timers,this.listeners=e.listeners,this.eventSimulator=e.eventSimulator;var t=this,r=this.eventSimulator,n=this.listeners,i=this.timersSandbox;this.setSelectionRangeWrapper=function(){var e=arguments[0],n=arguments[1],i=arguments[2]||"none",o=this,a=u.isTextAreaElement(o)?s["default"].textAreaSetSelectionRange:s["default"].setSelectionRange,d=u.getActiveElement(u.findDocument(o)),p=u.findDocument(o),f=!1,h=function(){var s,d=u.isInputWithoutSelectionProperties(o),p=o.type;d&&o.setAttribute("type","text");try{s=a.call(o,e,n,i)}catch(h){s=a.call(o,0,0,i)}return d&&(o[c["default"].selection]={selectionStart:o.selectionStart,selectionEnd:o.selectionEnd,selectionDirection:o.selectionDirection},o.setAttribute("type",p),f&&(t.focusBlurSandbox.blur(o,null,!0),t.focusBlurSandbox.focus(o,null,!0),u.getActiveElement(u.findDocument(o))!==o&&t.focusBlurSandbox.focus(o,null,!0))),l.isMSEdge&&r.selectionchange(o),s};if(d===o)return f=!0,h();var m=l.isIE11||l.isMSEdge&&(17===l.version&&!p.hasFocus()||l.version>17);return t.wrapSetterSelection(o,h,m)},this.selectWrapper=function(){var e=this.parentElement();if(!e||u.getActiveElement(u.findDocument(e))===e)return s["default"].select.call(this);var t=null,o=!1,a=function(t){t.target!==e&&"none"!==e.style.display||(o=!0)};return n.addInternalEventBeforeListener(document,["focus"],a),t=s["default"].select.call(this),i.setTimeout.call(window,function(){i.setTimeout.call(window,function(){n.removeInternalEventBeforeListener(document,["focus"],a),o||r.focus(e)},0)},0),t}}var t=e.prototype;return t.setSelection=function(e,t,r,n){e.setSelectionRange?e.setSelectionRange(t,r,n):(e.selectionStart=t,e.selectionEnd=r)},t.getSelection=function(e){var t=e[c["default"].selection];return{start:t?t.selectionStart:e.selectionStart,end:t?t.selectionEnd:e.selectionEnd,direction:t?t.selectionDirection:e.selectionDirection}},t.wrapSetterSelection=function(e,t,r,n){var i=this,s=u.findDocument(e),c=u.getActiveElement(s),d=null,p=!1;r=r&&c!==e;var f=function(t){t.target!==e&&"none"!==e.style.display||(p=!0)};return r&&this.listeners.addInternalEventBeforeListener(document,["focus"],f),a["default"].beforeDispatchEvent(e),a["default"].beforeDispatchEvent(e),d=t(),a["default"].afterDispatchEvent(e),a["default"].afterDispatchEvent(e),r&&(c=u.getActiveElement(s),c!==e&&(l.isWebKit||l.isMSEdge&&l.version>17)&&(p&&(e[o["default"].getInternalEventFlag("focus")]=!0),e.focus()),l.isIE11?this.timersSandbox.setTimeout.call(window,function(){i.timersSandbox.setTimeout.call(window,function(){i.listeners.removeInternalEventBeforeListener(document,["focus"],f),p||i.eventSimulator.focus(e)},0)},0):(this.listeners.removeInternalEventBeforeListener(document,["focus"],f),p||(n&&l.isFirefox?this.focusBlurSandbox.focus(e,null,!0,!1,!0):this.eventSimulator.focus(e)))),d},e}();e["default"]=d,t.exports=e["default"]},"simulator.js":function(e,t,r){var n=function(e){return e&&e.__esModule?e:{"default":e}},i=function(e){if(e&&e.__esModule)return e;var t={};if(null!=e)for(var r in e)Object.hasOwnProperty.call(e,r)&&(t[r]=e[r]);return t["default"]=e,t};Object.defineProperty(e,"__esModule",{value:!0});var o=n(r("../../utils/extend")),a=n(r("../native-methods")),s=i(r("../../utils/browser")),l=i(r("../../utils/dom")),u=i(r("../../utils/event")),c=r("../../utils/position"),d=r("../../utils/style"),p=25,f=.5,h={noButton:-1,leftButton:0,rightButton:2},m={click:s.isIE?0:1,dblclick:s.isIE?0:2,mousedown:1,mouseup:1},v=/^key\w+$/,g=/^((mouse\w+)|((dbl)?click)|(contextmenu)|(drag\w*)|(drop))$/,y=/^touch\w+$/,E=/^focus(in|out)$/,_=1,S={mousedown:"pointerdown",mouseup:"pointerup",mousemove:"pointermove",mouseover:"pointerover",mouseenter:"pointerenter",mouseout:"pointerout"},b={touchstart:"pointerdown",touchend:"pointerup",touchmove:"pointermove"},w=[l.isButtonElement,l.isFieldSetElement,l.isInputElement,l.isOptGroupElement,l.isOptionElement,l.isSelectElement,l.isTextAreaElement],x=function(){function e(){this.DISPATCHED_EVENT_FLAG="hammerhead|dispatched-event",this.touchIdentifier=a["default"].dateNow(),this.savedWindowEvents=[],this.savedNativeClickCount=0,this.browserWithNewEventsStyle=!s.isIE11}e._dispatchStorageEvent=function(e,t){var r=a["default"].documentCreateEvent.call(document,"StorageEvent");return r.initStorageEvent("storage",t.canBubble,t.cancelable,t.key,t.oldValue,t.newValue,t.url,null),a["default"].objectDefineProperty(r,"storageArea",{get:function(){return t.storageArea},configurable:!0}),null===t.key&&a["default"].objectDefineProperty(r,"key",{get:function(){return null},configurable:!0}),e.dispatchEvent(r)};var t=e.prototype;return t._dispatchTouchEvent=function(e,t){var r=a["default"].documentCreateEvent.call(document,"TouchEvent");return r.initTouchEvent?s.isIOS?r.initTouchEvent(t.type,t.canBubble,t.cancelable,t.view,t.detail,t.screenX,t.screenY,t.pageX,t.pageY,t.ctrlKey,t.altKey,t.shiftKey,t.metaKey,t.touches,t.targetTouches,t.changedTouches,void 0===t.scale?1:t.scale,void 0===t.rotation?0:t.rotation):12===r.initTouchEvent.length?r.initTouchEvent(t.type,t.canBubble,t.cancelable,t.view,t.detail,t.ctrlKey,t.altKey,t.shiftKey,t.metaKey,t.touches,t.targetTouches,t.changedTouches):r.initTouchEvent(t.touches,t.targetTouches,t.changedTouches,t.type,t.view,t.screenX,t.screenY,t.pageX-t.view.pageXOffset,t.pageY-t.view.pageYOffset,t.ctrlKey,t.altKey,t.shiftKey,t.metaKey):r=new a["default"].WindowTouchEvent(t.type,{touches:t.touches,targetTouches:t.targetTouches,changedTouches:t.changedTouches,ctrlKey:t.ctrlKey,altKey:t.altKey,shiftKey:t.shiftKey,metaKey:t.metaKey,bubbles:t.canBubble,cancelable:t.cancelable,cancelBubble:!1,defaultPrevented:!1,detail:t.detail,view:t.view}),u.hasPointerEvents&&this._dispatchPointerEvent(e,t),e.dispatchEvent(r)},e._getUIEventArgs=function(e,t){void 0===t&&(t={});var r="detail"in t?t.detail:m[e];return{type:e,composed:t.composed,canBubble:t.canBubble!==!1,cancelable:t.cancelable!==!1,view:t.view||window,detail:r||0,ctrlKey:t.ctrlKey||!1,altKey:t.altKey||!1,shiftKey:t.shiftKey||!1,metaKey:t.metaKey||!1}},e._getStorageEventArgs=function(e){return void 0===e&&(e={}),o["default"](e,{canBubble:e.canBubble!==!1,cancelable:e.cancelable!==!1})},e._getMouseEventArgs=function(t,r){return void 0===r&&(r={}),o["default"](e._getUIEventArgs(t,r),{screenX:r.screenX||0,screenY:r.screenY||0,clientX:r.clientX||0,clientY:r.clientY||0,button:void 0===r.button?u.BUTTON.left:r.button,buttons:void 0===r.buttons?u.BUTTONS_PARAMETER.leftButton:r.buttons,relatedTarget:r.relatedTarget||null,which:r.which})},e._getKeyEventArgs=function(t,r){var n={keyCode:r.keyCode||0,charCode:r.charCode||0,which:"press"===t?r.charCode:r.keyCode};return"keyIdentifier"in r&&(n.keyIdentifier=r.keyIdentifier),"key"in r&&(n.key=r.key),o["default"](e._getUIEventArgs(t,r),n)},e._getModifiersAsString=function(e){var t="";for(var r in u.KEYBOARD_MODIFIERS_PARAMETER)a["default"].objectHasOwnProperty.call(u.KEYBOARD_MODIFIERS_PARAMETER,r)&&e[r]&&(t+=u.KEYBOARD_MODIFIERS_PARAMETER[r]+" ");return t},e._prepareMouseEventOptions=function(e){void 0===e&&(e={});var t=void 0===e.buttons?u.BUTTONS_PARAMETER.noButton:e.buttons,r=u.BUTTON.left;return e.buttons=t,e.button=e.button||r,s.isWebKit&&(e.which=u.WHICH_PARAMETER.leftButton,e.buttons===u.BUTTONS_PARAMETER.noButton&&(e.which=u.WHICH_PARAMETER.noButton),e.buttons===u.BUTTONS_PARAMETER.rightButton&&(e.which=u.WHICH_PARAMETER.rightButton)),e},t._simulateEvent=function(t,r,n,i){var a=this;void 0===i&&(i={});var s=null,c=null,d="click"===r&&l.isAnchorElement(t),p=o["default"](n?{clientX:n.clientX,clientY:n.clientY,screenX:n.screenX,screenY:n.screenY,altKey:!d&&n.alt,shiftKey:!d&&n.shift,ctrlKey:!d&&n.ctrl,metaKey:n.meta,button:n.button,which:n.which,buttons:n.buttons,relatedTarget:n.relatedTarget}:{},i);return p.composed=u.isComposedEvent(r),p.relatedTarget||(p.relatedTarget=document.body),"storage"===r?(p=o["default"](p,n),s=e._getStorageEventArgs(p),c=e._dispatchStorageEvent):g.test(r)?(n&&void 0!==n.button&&(p=o["default"](p,{button:n.button})),s=e._getMouseEventArgs(r,p),c=function(e,t){return a._dispatchMouseRelatedEvents(e,t,n)}):v.test(r)?(!n||void 0===n.keyCode&&void 0===n.charCode||(p=o["default"](p,{key:n.key||void 0,keyCode:n.keyCode||0,charCode:n.charCode||0}),"keyIdentifier"in n&&(p.keyIdentifier=n.keyIdentifier),"key"in n&&(p.key=n.key)),s=e._getKeyEventArgs(r,p),c=function(e,t){return a._dispatchKeyEvent(e,t)}):y.test(r)&&(s=this._getTouchEventArgs(r,o["default"](p,{target:t})),c=function(e,t){return a._dispatchTouchEvent(e,t)}),c(t,s)},t._getTouchEventArgs=function(t,r){void 0===r&&(r={});var n=o["default"](e._getUIEventArgs(t,r),{screenX:r.screenX||0,screenY:r.screenY||0,clientX:r.clientX||0,clientY:r.clientY||0,pageX:r.clientX||0,pageY:r.clientY||0,identifier:this._getTouchIdentifier(t)});if(a["default"].documentCreateTouch?s.isIOS?n.touch=a["default"].documentCreateTouch.call(document,n.view,r.target,n.identifier,n.clientX,n.clientY,0,0):n.touch=a["default"].documentCreateTouch.call(document,n.view,r.target,n.identifier,n.pageX,n.pageY,n.screenX,n.screenY,n.clientX,n.clientY,null,null,void 0===n.rotation?0:n.rotation):n.touch=new a["default"].WindowTouch({identifier:n.identifier,target:r.target,clientX:n.clientX,clientY:n.clientY,pageX:n.pageX,pageY:n.pageY,screenX:n.screenX,screenY:n.screenY,rotationAngle:0,radiusX:p,radiusY:p,force:f}),n.changedTouches=[n.touch],n.touches="touchend"===n.type?[]:n.changedTouches,a["default"].documentCreateTouchList){var i,l;n.changedTouches=(i=a["default"].documentCreateTouchList).call.apply(i,[document].concat(n.changedTouches)),n.touches=(l=a["default"].documentCreateTouchList).call.apply(l,[document].concat(n.touches))}return n.targetTouches=n.touches,n},t._getTouchIdentifier=function(e){return"touchstart"===e&&this.touchIdentifier++,this.touchIdentifier},t._raiseNativeClick=function(e,t){var r=l.isElementInIframe(e)&&l.getIframeByElement(e),n=r?a["default"].contentWindowGetter.call(r):window,i=n.event;s.isIE11&&delete n.event,t.call(e),s.isIE11&&i&&a["default"].objectDefineProperty(n,"event",{get:function(){return i},configurable:!0})},t._dispatchKeyEvent=function(t,r){var n=null;if(this.browserWithNewEventsStyle&&a["default"].WindowKeyboardEvent){var i={bubbles:r.canBubble,composed:r.composed,cancelable:r.cancelable,cancelBubble:!1,defaultPrevented:!1,view:r.view,detail:r.detail,ctrlKey:r.ctrlKey,altKey:r.altKey,shiftKey:r.shiftKey,metaKey:r.metaKey,keyCode:r.keyCode,charCode:r.charCode,which:r.which};"keyIdentifier"in r&&(i.keyIdentifier=r.keyIdentifier),"key"in r&&(i.key=r.key),n=new a["default"].WindowKeyboardEvent(r.type,i)}else a["default"].documentCreateEvent&&(n=a["default"].documentCreateEvent.call(document,"KeyboardEvent"),n.initKeyboardEvent(r.type,r.canBubble,r.cancelable,r.view,"",0,e._getModifiersAsString(r),!1,""));if(n){a["default"].objectDefineProperty(n,"keyCode",{configurable:!0,enumerable:!0,get:function(){return r.keyCode}}),a["default"].objectDefineProperty(n,"charCode",{configurable:!0,enumerable:!0,get:function(){return r.charCode}}),a["default"].objectDefineProperty(n,"which",{configurable:!0,enumerable:!0,get:function(){return r.which}}),"key"in r&&a["default"].objectDefineProperty(n,"key",{configurable:!0,enumerable:!0,get:function(){return r.key}}),"keyIdentifier"in r&&a["default"].objectDefineProperty(n,"keyIdentifier",{configurable:!0,enumerable:!0,get:function(){return r.keyIdentifier}});var o=!1,l=!0;this.browserWithNewEventsStyle&&(n.preventDefault=function(){return o=!0,a["default"].preventDefault.call(n),!1}),s.isMSEdge&&a["default"].objectDefineProperty(n,"returnValue",{get:function(){return l},set:function(e){e===!1&&n.preventDefault(),l=e}});var u=this._raiseDispatchEvent(t,n);return s.isMSEdge?l&&!o:s.isIE?u:!o}return null},t._getPointerEventTypeInfo=function(e){return S[e]?{eventType:S[e],pointerType:"mouse"}:s.isChrome&&b[e]?{eventType:b[e],pointerType:"touch"}:null},t._dispatchPointerEvent=function(e,t){var r=this._getPointerEventTypeInfo(t.type);if(r){var n=r.eventType,i=r.pointerType,l=null,p=c.getOffsetPosition(e),f=d.getBordersWidth(e),m=c.offsetToClientCoords({x:p.left+f.left,y:p.top+f.top}),v=o["default"]({width:1,height:1,pressure:0,tiltX:0,tiltY:0,pointerId:1,pointerType:i,timeStamp:a["default"].dateNow(),isPrimary:!0},t);v.type=n,v.offsetX=t.clientX-m.x,v.offsetY=t.clientY-m.y,"mousemove"!==t.type&&"mouseover"!==t.type&&"mouseout"!==t.type||(v.button=t.buttons===u.BUTTONS_PARAMETER.noButton?h.noButton:v.button),s.isIE11?(v.rotation=0,l=a["default"].documentCreateEvent.call(document,"PointerEvent"),l.initPointerEvent(v.type,v.canBubble,v.cancelable,window,v.detail,v.screenX,v.screenY,v.clientX,v.clientY,v.ctrlKey,v.altKey,v.shiftKey,v.metaKey,v.button,null,v.offsetX,v.offsetY,v.width,v.height,v.pressure,v.rotation,v.tiltX,v.tiltY,v.pointerId,v.pointerType,v.timeStamp,v.isPrimary),a["default"].objectDefineProperty(l,"target",{get:function(){return e},configurable:!0}),a["default"].objectDefineProperty(l,"relatedTarget",{get:function(){return t.relatedTarget},configurable:!0}),a["default"].objectDefineProperty(l,"buttons",{get:function(){return t.buttons}})):(v.bubbles=!0,v.cancelable=!0,l=new a["default"].WindowPointerEvent(n,v)),this._raiseDispatchEvent(e,l)}},t._elementCanBeDisabled=function(e){for(var t=0;t<w.length;t++){var r=w[t];if(r(e))return!0}return!1},t._dispatchMouseRelatedEvents=function(e,t,r){if(void 0===r&&(r={}),"mouseover"!==t.type&&"mouseenter"!==t.type&&c.shouldIgnoreMouseEventInsideIframe(e,t.clientX,t.clientY))return!0;if(s.isIE&&("click"===t.type||"mouseup"===t.type||"mousedown"===t.type)){var n=a["default"].nodeParentNodeGetter.call(e),i=l.closest(n,"button");n&&i&&"submit"===a["default"].getAttribute.call(i,"type")&&(e=i)}return u.hasPointerEvents&&this._dispatchPointerEvent(e,t),this._dispatchMouseEvent(e,t,r)},t._dispatchMouseEvent=function(e,t,r){var n=this,i=r.dataTransfer,o=r.timeStamp,u=l.findParent(e,!0,function(e){return n._elementCanBeDisabled(e)&&e.hasAttribute&&a["default"].hasAttribute.call(e,"disabled")});if(u)return null;var c=null;return this.browserWithNewEventsStyle&&a["default"].WindowMouseEvent?c=new a["default"].WindowMouseEvent(t.type,{bubbles:t.canBubble,composed:t.composed,cancelable:t.cancelable,view:window,detail:t.detail,screenX:t.screenX,screenY:t.screenY,clientX:t.clientX,clientY:t.clientY,ctrlKey:t.ctrlKey,altKey:t.altKey,shiftKey:t.shiftKey,metaKey:t.metaKey,button:t.button,buttons:t.buttons,relatedTarget:t.relatedTarget}):(c=a["default"].documentCreateEvent.call(document,"MouseEvents"),c.initMouseEvent(t.type,t.canBubble,t.cancelable,window,t.detail,t.screenX,t.screenY,t.clientX,t.clientY,t.ctrlKey,t.altKey,t.shiftKey,t.metaKey,t.button,t.relatedTarget),a["default"].objectDefineProperty(c,"buttons",{get:function(){return t.buttons}})),void 0!==t.which&&s.isWebKit&&a["default"].objectDefineProperty(c,"which",{get:function(){return t.which}}),o&&!s.isIE&&a["default"].objectDefineProperty(c,"timeStamp",{get:function(){return o}}),i&&a["default"].objectDefineProperty(c,"dataTransfer",{configurable:!0,enumerable:!0,get:function(){return i}}),this._raiseDispatchEvent(e,c)},t._dispatchFocusEvent=function(e,t,r){void 0===r&&(r=null);var n=null,i=E.test(t);return this.browserWithNewEventsStyle&&a["default"].WindowFocusEvent?n=new a["default"].WindowFocusEvent(t,{bubbles:i,composed:u.isComposedEvent(t),cancelable:!1,cancelBubble:!1,relatedTarget:r,defaultPrevented:!1}):a["default"].documentCreateEvent&&(n=a["default"].documentCreateEvent.call(document,"FocusEvent"),n.initFocusEvent(t,i,!0,null,0,i?r:null)),n?(n[this.DISPATCHED_EVENT_FLAG]=!0,this._raiseDispatchEvent(e,n)):null},t._dispatchTextEvent=function(e,t){if(a["default"].WindowTextEvent&&a["default"].documentCreateEvent){var r=a["default"].documentCreateEvent.call(document,"TextEvent"),n={eventType:s.isIE11?"textinput":"textInput",bubbles:!0,cancelable:!0,view:window,data:t,inputMethod:_,locale:navigator.language};return r.initTextEvent(n.eventType,n.bubbles,n.cancelable,n.view,n.data,n.inputMethod,n.locale),this._raiseDispatchEvent(e,r)}return null},t._dispatchInputEvent=function(e,t,r){if(!a["default"].WindowInputEvent)return this._dispatchEvent(e,t,!0);var n={bubbles:!0,composed:u.isComposedEvent(t),cancelable:!0,view:window,inputType:"insertText"};void 0!==r&&(n.data=r);var i=new a["default"].WindowInputEvent(t,n);return this._raiseDispatchEvent(e,i)},t._dispatchEvent=function(e,t,r,n){var i=null;return a["default"].documentCreateEvent&&(i=a["default"].documentCreateEvent.call(document,"Events"),i.initEvent(t,r,!0)),i?(n&&(i[n]=!0),this._raiseDispatchEvent(e,i)):null},t._raiseDispatchEvent=function(e,t){var r=l.isElementInIframe(e)&&l.getIframeByElement(e),n=r?a["default"].contentWindowGetter.call(r):window;s.isIE11&&r&&n&&a["default"].objectDefineProperty(n,"event",{get:function(){return window.event},configurable:!0});var i=e.dispatchEvent(t);return s.isIE11&&n&&delete n.event,i},t.click=function(e,t){return this._simulateEvent(e,"click",t,{button:u.BUTTON.left,buttons:u.BUTTONS_PARAMETER.noButton})},t.nativeClick=function(e,t){this._raiseNativeClick(e,t)},t.dblclick=function(e,t){return this._simulateEvent(e,"dblclick",t,{button:u.BUTTON.left,buttons:u.BUTTONS_PARAMETER.noButton})},t.rightclick=function(e,t){return this._simulateEvent(e,"click",t,{button:u.BUTTON.right,buttons:u.BUTTONS_PARAMETER.rightButton})},t.contextmenu=function(e,t){return this._simulateEvent(e,"contextmenu",t,{button:u.BUTTON.right,buttons:u.BUTTONS_PARAMETER.noButton})},t.mousedown=function(e,t){void 0===t&&(t={});var r=void 0===t.button?u.BUTTON.left:t.button,n=r===u.BUTTON.left?u.BUTTONS_PARAMETER.leftButton:u.BUTTONS_PARAMETER.rightButton;return t.button=r,t.buttons=void 0===t.buttons?n:t.buttons,this._simulateEvent(e,"mousedown",t)},t.mouseup=function(e,t){void 0===t&&(t={});var r=void 0===t.button?u.BUTTON.left:t.button;return this._simulateEvent(e,"mouseup",t,{button:r,buttons:u.BUTTONS_PARAMETER.noButton})},t.mouseover=function(t,r){return r=e._prepareMouseEventOptions(r),this._simulateEvent(t,"mouseover",r)},t.mousemove=function(t,r){return r=e._prepareMouseEventOptions(r),this._simulateEvent(t,"mousemove",r,{cancelable:!1})},t.mouseout=function(t,r){return r=e._prepareMouseEventOptions(r),this._simulateEvent(t,"mouseout",r)},t.mouseenter=function(t,r){return r=e._prepareMouseEventOptions(r),this._simulateEvent(t,"mouseenter",r,{canBubble:!1})},t.mouseleave=function(t,r){return r=e._prepareMouseEventOptions(r),this._simulateEvent(t,"mouseleave",r,{canBubble:!1})},t.keypress=function(e,t){return this._simulateEvent(e,"keypress",t)},t.keyup=function(e,t){return this._simulateEvent(e,"keyup",t)},t.keydown=function(e,t){return this._simulateEvent(e,"keydown",t)},t.blur=function(e,t){return this._dispatchFocusEvent(e,"blur",t)},t.focus=function(e,t){return this._dispatchFocusEvent(e,"focus",t)},t.focusin=function(e,t){return this._dispatchFocusEvent(e,"focusin",t)},t.focusout=function(e,t){return this._dispatchFocusEvent(e,"focusout",t)},t.storage=function(e,t){return this._simulateEvent(e,"storage",t)},t.change=function(e){return this._dispatchEvent(e,"change",!0,this.DISPATCHED_EVENT_FLAG)},t.textInput=function(e,t){return this._dispatchTextEvent(e,t)},t.beforeInput=function(e,t){return this._dispatchInputEvent(e,"beforeinput",t)},t.input=function(e,t){return this._dispatchInputEvent(e,"input",t)},t.submit=function(e){return this._dispatchEvent(e,"submit",!0)},t.selectionchange=function(e){return this._dispatchEvent(e,"selectionchange",!1)},t.touchstart=function(e,t){return this._simulateEvent(e,"touchstart",t)},t.touchend=function(e,t){return this._simulateEvent(e,"touchend",t)},t.touchmove=function(e,t){return this._simulateEvent(e,"touchmove",t)},t.dragstart=function(e,t){return this._simulateEvent(e,"dragstart",t)},t.drag=function(e,t){return this._simulateEvent(e,"drag",t)},t.dragenter=function(e,t){return this._simulateEvent(e,"dragenter",t)},t.dragover=function(e,t){return this._simulateEvent(e,"dragover",t)},t.dragleave=function(e,t){return this._simulateEvent(e,"dragleave",t)},t.drop=function(e,t){return this._simulateEvent(e,"drop",t)},t.dragend=function(e,t){return this._simulateEvent(e,"dragend",t)},t.isSavedWindowsEventsExists=function(){return this.savedWindowEvents&&this.savedWindowEvents.length},e}();e["default"]=x,t.exports=e["default"]},"unload.js":function(e,t,r){function n(e,t){e.prototype=Object.create(t.prototype),e.prototype.constructor=e,i(e,t)}function i(e,t){return(i=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e})(e,t)}var o=function(e){return e&&e.__esModule?e:{"default":e}};Object.defineProperty(e,"__esModule",{value:!0});var a=o(r("../base")),s=o(r("../native-methods")),l=o(r("../../utils/create-property-desc.js")),u=r("../../utils/browser"),c=r("../../utils/overriding"),d=function(e){function t(r){var n;return n=e.call(this)||this,n._listeners=r,n.BEFORE_UNLOAD_EVENT="hammerhead|event|before-unload",n.BEFORE_BEFORE_UNLOAD_EVENT="hammerhead|event|before-before-unload",n.UNLOAD_EVENT="hammerhead|event|unload",n.beforeUnloadProperties={storedReturnValue:"",prevented:!1,storedHandler:null,nativeEventName:t._getBeforeUnloadEventName(),eventName:n.BEFORE_UNLOAD_EVENT,eventPropSetter:t._getBeforeUnloadPropSetter()},n.unloadProperties={storedReturnValue:"",prevented:!1,storedHandler:null,nativeEventName:"unload",eventName:n.UNLOAD_EVENT,eventPropSetter:s["default"].winOnUnloadSetter},n}n(t,e),t._getBeforeUnloadEventName=function(){return u.isIOS?"pagehide":"beforeunload"},t._getBeforeUnloadPropSetter=function(){return u.isIOS?s["default"].winOnPageHideSetter:s["default"].winOnBeforeUnloadSetter};var r=t.prototype;return r._emitEvent=function(e){this.emit(e.eventName,{returnValue:e.storedReturnValue,prevented:e.prevented})},r._createEventHandler=function(e){return function(t,r){s["default"].objectDefineProperty(t,"returnValue",l["default"]({get:function(){return e.storedReturnValue},set:function(t){e.storedReturnValue=t,e.prevented=!u.isFirefox||""!==t}})),s["default"].objectDefineProperty(t,"preventDefault",l["default"]({get:function(){return function(){return e.prevented=!0,!0}},set:function(){}}));var n=r(t);void 0!==n&&(e.storedReturnValue=n,e.prevented=!0)}},r._reattachListener=function(e){var t=s["default"].windowAddEventListener||s["default"].addEventListener,r=s["default"].windowRemoveEventListener||s["default"].removeEventListener;r.call(this.window,e.nativeEventName,this),t.call(this.window,e.nativeEventName,this)},r._setEventListenerWrapper=function(e){this._listeners.setEventListenerWrapper(window,[e.nativeEventName],this._createEventHandler(e))},r._addEventListener=function(e){var t=this,r=s["default"].windowAddEventListener||s["default"].addEventListener;r.call(window,e.nativeEventName,this),this._listeners.on(this._listeners.EVENT_LISTENER_ATTACHED_EVENT,function(r){r.el===window&&r.eventType===e.nativeEventName&&t._reattachListener(e)})},r._overrideEventDescriptor=function(e){var t=this,r=s["default"].isEventPropsLocatedInProto?window.Window.prototype:window;c.overrideDescriptor(r,"on"+e.nativeEventName,{getter:function(){return e.storedHandler},setter:function(r){return t.setOnEvent(e,window,r)}})},r._attachEvent=function(e){this._setEventListenerWrapper(e),this._addEventListener(e),this._overrideEventDescriptor(e)},r.attach=function(t){var r=this;e.prototype.attach.call(this,t),this._attachEvent(this.beforeUnloadProperties),this._attachEvent(this.unloadProperties),this._listeners.addInternalEventBeforeListener(t,[this.beforeUnloadProperties.nativeEventName],function(){return r.emit(r.BEFORE_BEFORE_UNLOAD_EVENT)})},r.setOnEvent=function(e,t,r){var n=this;"function"==typeof r?(e.storedHandler=r,e.eventPropSetter.call(t,function(t){return n._createEventHandler(e)(t,r)}),this._reattachListener(e)):(e.storedHandler=null,e.eventPropSetter.call(t,null))},r.handleEvent=function(e){e.type===this.beforeUnloadProperties.nativeEventName?this._emitEvent(this.beforeUnloadProperties):e.type===this.unloadProperties.nativeEventName&&this._emitEvent(this.unloadProperties)},t}(a["default"]);e["default"]=d,t.exports=e["default"]}},"fetch.js":function(e,t,r){function n(e,t){e.prototype=Object.create(t.prototype),e.prototype.constructor=e,i(e,t)}function i(e,t){return(i=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e})(e,t)}function o(e){switch(e=String(e).toLowerCase()){case"omit":return m.Credentials.omit;case"same-origin":return m.Credentials.sameOrigin;case"include":return m.Credentials.include;default:return m.Credentials.unknown}}var a=function(e){return e&&e.__esModule?e:{"default":e}},s=function(e){if(e&&e.__esModule)return e;var t={};if(null!=e)for(var r in e)Object.hasOwnProperty.call(e,r)&&(t[r]=e[r]);return t["default"]=e,t};Object.defineProperty(e,"__esModule",{value:!0});var l=a(r("../worker/sandbox-base-with-delayed-settings")),u=a(r("./native-methods")),c=a(r("../../request-pipeline/builtin-header-names")),d=r("../utils/url"),p=r("../utils/dom"),f=r("../utils/overriding"),h=s(r("../utils/browser")),m=r("../../utils/url"),v=r("../../utils/headers"),g=o(u["default"].Request&&new u["default"].Request(location.toString()).credentials),y=function(e){function t(t,r){var n;return n=e.call(this,r)||this,n.cookieSandbox=t,n.FETCH_REQUEST_SENT_EVENT="hammerhead|event|fetch-request-sent-event",n}n(t,e),t._removeAuthHeadersPrefix=function(e,t){return v.isAuthorizationHeader(e)?v.removeAuthorizationPrefix(t):v.isAuthenticateHeader(e)?v.removeAuthenticatePrefix(t):t},t._processInit=function(e){var t=e.headers;if(!t)return e;p.isFetchHeaders(t)||(t=t?new u["default"].Headers(t):new u["default"].Headers,e.headers=t);var r=u["default"].headersGet.call(t,c["default"].authorization),n=u["default"].headersGet.call(t,c["default"].proxyAuthorization);return null===r||v.hasAuthorizationPrefix(r)||u["default"].headersSet.call(t,c["default"].authorization,v.addAuthorizationPrefix(r)),null===n||v.hasAuthorizationPrefix(n)||u["default"].headersSet.call(t,c["default"].proxyAuthorization,v.addAuthorizationPrefix(n)),e},t._processArguments=function(e){var r=e[0],n=e[1],i="string"==typeof r,a=o(n&&n.credentials);if(p.isFetchRequest(r))a!==m.Credentials.unknown&&(e[0]=d.getAjaxProxyUrl(r.url,a)),n&&n.headers&&"worker"!==r.destination&&(e[1]=t._processInit(n));else{var s=i?r:String(r),l=a===m.Credentials.unknown?g:a;e[0]=d.getAjaxProxyUrl(s,l),e[1]=t._processInit(n||{})}},t._processHeaderEntry=function(e,r){if(void 0===r&&(r=!1),e.done)return e;var n=t._removeAuthHeadersPrefix(e.value[0],e.value[1]);return r?e.value=n:e.value[1]=n,e},t._entriesWrapper=function(){for(var e=arguments.length,r=new Array(e),n=0;n<e;n++)r[n]=arguments[n];var i=u["default"].headersEntries.apply(this,r),o=i.next;return i.next=function(){return t._processHeaderEntry(o.call(i))},i},t._valuesWrapper=function(){for(var e=arguments.length,r=new Array(e),n=0;n<e;n++)r[n]=arguments[n];var i=u["default"].headersEntries.apply(this,r),o=i.next;return i.next=function(){return t._processHeaderEntry(o.call(i),!0)},i};var r=t.prototype;return r.attach=function(r){if(e.prototype.attach.call(this,r,r.document),u["default"].fetch){var n=this;f.overrideConstructor(r,"Request",function(){for(var e=arguments.length,n=new Array(e),i=0;i<e;i++)n[i]=arguments[i];t._processArguments(n),r.Headers.prototype.entries=r.Headers.prototype[Symbol.iterator]=u["default"].headersEntries;var o=1===n.length?new u["default"].Request(n[0]):new u["default"].Request(n[0],n[1]);return r.Headers.prototype.entries=r.Headers.prototype[Symbol.iterator]=t._entriesWrapper,o}),f.overrideDescriptor(r.Request.prototype,"url",{getter:function(){return d.getDestinationUrl(u["default"].requestUrlGetter.call(this))}}),f.overrideDescriptor(r.Request.prototype,"referrer",{getter:function(){
return d.getDestinationUrl(u["default"].requestReferrerGetter.call(this))}}),f.overrideFunction(r,"fetch",function(){for(var e=this,i=arguments.length,o=new Array(i),a=0;a<i;a++)o[a]=arguments[a];if(n.gettingSettingInProgress())return n.delayUntilGetSettings(function(){return e.fetch.apply(e,o)});if(!o.length&&!h.isSafari)return u["default"].fetch.apply(this,o);try{t._processArguments(o)}catch(s){return u["default"].promiseReject.call(n.window.Promise,s)}r.Headers.prototype.entries=r.Headers.prototype[Symbol.iterator]=u["default"].headersEntries;var l=u["default"].fetch.apply(this,o);return r.Headers.prototype.entries=r.Headers.prototype[Symbol.iterator]=t._entriesWrapper,n.emit(n.FETCH_REQUEST_SENT_EVENT,l),u["default"].promiseThen.call(l,function(e){return n.cookieSandbox.syncCookie(),e})}),f.overrideDescriptor(r.Response.prototype,"url",{getter:function(){return d.getDestinationUrl(u["default"].responseUrlGetter.call(this))}}),f.overrideFunction(r.Headers.prototype,"entries",t._entriesWrapper),f.overrideFunction(r.Headers.prototype,Symbol.iterator,t._entriesWrapper),f.overrideFunction(r.Headers.prototype,"values",t._valuesWrapper),f.overrideFunction(r.Headers.prototype,"forEach",function(){for(var e=arguments.length,r=new Array(e),n=0;n<e;n++)r[n]=arguments[n];var i=r[0];return"function"==typeof i&&(r[0]=function(e,r,n){e=t._removeAuthHeadersPrefix(r,e),i.call(this,e,r,n)}),u["default"].headersForEach.apply(this,r)}),f.overrideFunction(r.Headers.prototype,"get",function(){for(var e=arguments.length,r=new Array(e),n=0;n<e;n++)r[n]=arguments[n];var i=u["default"].headersGet.apply(this,r);return i&&t._removeAuthHeadersPrefix(r[0],i)}),f.overrideFunction(r.Headers.prototype,"set",function(){for(var e=arguments.length,t=new Array(e),r=0;r<e;r++)t[r]=arguments[r];return v.isAuthorizationHeader(t[0])&&(t[1]=v.addAuthorizationPrefix(t[1])),u["default"].headersSet.apply(this,t)})}},t}(l["default"]);e["default"]=y,t.exports=e["default"]},"ie-debug.js":function(e,t,r){function n(e,t){e.prototype=Object.create(t.prototype),e.prototype.constructor=e,i(e,t)}function i(e,t){return(i=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e})(e,t)}var o=function(e){return e&&e.__esModule?e:{"default":e}};Object.defineProperty(e,"__esModule",{value:!0});var a=o(r("./base")),s=r("../utils/browser"),l="__BROWSERTOOLS_CONSOLE_SAFEFUNC",u=function(e){function t(){var t;return t=e.call(this)||this,t._isDebuggerInitiator=!1,t}n(t,e);var r=t.prototype;return r._createFuncWrapper=function(e){var t=this;return"function"==typeof e?function(e,r){var n=t;return function(){n._isDebuggerInitiator=!0;try{var t=e(arguments);return n._isDebuggerInitiator=!1,t}catch(i){r(i)}n._isDebuggerInitiator=!1}}:e},r.isDebuggerInitiator=function(){return this._isDebuggerInitiator},r.attach=function(e){var t=this;if(s.isIE){var r=this.nativeMethods.objectGetOwnPropertyDescriptor(e,l),n=void 0;r&&!r.value||(r&&(n=this._createFuncWrapper(r.value)),this.nativeMethods.objectDefineProperty(e,l,{set:function(e){n=t._createFuncWrapper(e)},get:function(){return n}}))}},t}(a["default"]);e["default"]=u,t.exports=e["default"]},"iframe.js":function(e,t,r){function n(e,t){e.prototype=Object.create(t.prototype),e.prototype.constructor=e,i(e,t)}function i(e,t){return(i=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e})(e,t)}var o=function(e){return e&&e.__esModule?e:{"default":e}},a=function(e){if(e&&e.__esModule)return e;var t={};if(null!=e)for(var r in e)Object.hasOwnProperty.call(e,r)&&(t[r]=e[r]);return t["default"]=e,t};Object.defineProperty(e,"__esModule",{value:!0});var s=o(r("../../processing/dom/internal-properties")),l=o(r("./base")),u=o(r("../settings")),c=o(r("../sandbox/native-methods")),d=o(r("../../processing/dom")),p=r("../utils/dom"),f=r("../utils/browser"),h=a(r("json-hammerhead")),m=r("../utils/overriding"),v="hammerhead|iframe-window-inited",g=function(e){function t(t,r){var n;return n=e.call(this)||this,n._nodeMutation=t,n._cookieSandbox=r,n.RUN_TASK_SCRIPT_EVENT="hammerhead|event|run-task-script",n.EVAL_HAMMERHEAD_SCRIPT_EVENT="hammerhead|event|eval-hammerhead-script",n.EVAL_EXTERNAL_SCRIPT_EVENT="hammerhead|event|eval-external-script",n.IFRAME_DOCUMENT_CREATED_EVENT="hammerhead|event|iframe-document-created",n.on(n.RUN_TASK_SCRIPT_EVENT,n.iframeReadyToInitHandler),n._nodeMutation.on(n._nodeMutation.IFRAME_ADDED_TO_DOM_EVENT,function(e){return n.processIframe(e)}),n.iframeNativeMethodsBackup=null,n}n(t,e);var r=t.prototype;return r._shouldSaveIframeNativeMethods=function(e){if(!f.isWebKit)return!1;var t=this.nativeMethods.getAttribute.call(e,"src");return d["default"].isJsProtocol(t)},r._ensureIframeNativeMethodsForChrome=function(e){var t=c["default"].contentWindowGetter.call(e),r=c["default"].contentDocumentGetter.call(e);this.iframeNativeMethodsBackup?(this.iframeNativeMethodsBackup.restoreDocumentMeths(t,r),this.iframeNativeMethodsBackup=null):this._shouldSaveIframeNativeMethods(e)&&(this.iframeNativeMethodsBackup=new this.nativeMethods.constructor(r,t))},r._ensureIframeNativeMethodsForIE=function(e){var t=c["default"].contentWindowGetter.call(e),r=c["default"].contentDocumentGetter.call(e),n=t[s["default"].iframeNativeMethods];n&&(n.restoreDocumentMeths(t,r),delete t[s["default"].iframeNativeMethods])},r._ensureIframeNativeMethods=function(e){this._ensureIframeNativeMethodsForChrome(e),this._ensureIframeNativeMethodsForIE(e)},r._emitEvents=function(e){this.emit(this.EVAL_HAMMERHEAD_SCRIPT_EVENT,{iframe:e}),this.emit(this.EVAL_EXTERNAL_SCRIPT_EVENT,{iframe:e}),this.emit(this.RUN_TASK_SCRIPT_EVENT,e)},r._raiseReadyToInitEvent=function(e){if(p.isIframeWithoutSrc(e)){var r=c["default"].contentWindowGetter.call(e),n=c["default"].contentDocumentGetter.call(e);t.isIframeInitialized(e)?r[v]||r[s["default"].hammerhead]||(this._ensureIframeNativeMethods(e),c["default"].objectDefineProperty(r,v,{value:!0}),this._emitEvents(e),r[s["default"].processDomMethodName]()):m.isNativeFunction(n.write)&&this.emit(this.IFRAME_DOCUMENT_CREATED_EVENT,{iframe:e})}},t.isIframeInitialized=function(e){var t=c["default"].contentWindowGetter.call(e),r=c["default"].contentDocumentGetter.call(e),n=f.isFirefox&&"uninitialized"===t.document.readyState;return!n&&!!r.documentElement||f.isIE&&t[s["default"].documentWasCleaned]},t.isWindowInited=function(e){return e[v]},r.iframeReadyToInitHandler=function(e){var t=u["default"].get().iframeTaskScriptTemplate,r=function(e){return e.replace(/\$/g,"$$$$")},n=h.stringify(this._cookieSandbox.getCookie()),i=u["default"].get().referer||this.window.location.toString(),o=h.stringify(t),a=t.replace("{{{cookie}}}",r(n)).replace("{{{referer}}}",r(h.stringify(i))).replace("{{{iframeTaskScriptTemplate}}}",r(o)),s=c["default"].contentWindowGetter.call(e);s.eval.call(s,a)},r.onIframeBeganToRun=function(e){this._raiseReadyToInitEvent(e)},r.processIframe=function(e){var t=this;p.isShadowUIElement(e)||((p.isIframeElement(e)&&c["default"].contentWindowGetter.call(e)||p.isFrameElement(e)&&c["default"].frameContentWindowGetter.call(e))&&this._raiseReadyToInitEvent(e),this.nativeMethods.addEventListener.call(e,"load",function(){return t._raiseReadyToInitEvent(e)}))},t}(l["default"]);e["default"]=g,t.exports=e["default"]},"index.js":function(e,t,r){function n(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function i(e,t){e.prototype=Object.create(t.prototype),e.prototype.constructor=e,o(e,t)}function o(e,t){return(o=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e})(e,t)}var a=function(e){return e&&e.__esModule?e:{"default":e}},s=function(e){if(e&&e.__esModule)return e;var t={};if(null!=e)for(var r in e)Object.hasOwnProperty.call(e,r)&&(t[r]=e[r]);return t["default"]=e,t};Object.defineProperty(e,"__esModule",{value:!0});var l=a(r("../../processing/dom/internal-properties")),u=a(r("./code-instrumentation")),c=a(r("./cookie")),d=a(r("./event/element-editing-watcher")),p=a(r("./event")),f=a(r("./event/simulator")),h=a(r("./iframe")),m=a(r("./event/listeners")),v=a(r("./event/message")),g=a(r("./node/mutation")),y=a(r("./node")),E=a(r("./base")),_=a(r("./shadow-ui")),S=a(r("./timers")),b=a(r("./event/unload")),w=a(r("./upload")),x=a(r("./xhr")),T=a(r("./fetch")),P=a(r("./storages")),A=a(r("./electron")),C=a(r("./console")),I=a(r("./style")),O=r("../utils/browser"),M=r("../utils/html"),N=r("./code-instrumentation/properties/anchor"),D=r("./backup"),L=a(r("../utils/url-resolver")),k=s(r("./windows-storage")),j=a(r("../sandbox/native-methods")),R=a(r("./ie-debug")),U=a(r("./child-window")),F=function(e){function t(t){var r;r=e.call(this)||this,D.create(window,n(r)),k.add(window);var i=new R["default"],o=new m["default"],a=new g["default"],s=new b["default"](o),l=new v["default"](o,s),E=new f["default"],M=new d["default"](E),N=new S["default"],L=new U["default"](l,o),j=new c["default"](l,s,L);return r.ieDebug=i,r.cookie=j,r.childWindow=L,r.storageSandbox=new P["default"](o,s,E),r.xhr=new x["default"](j),r.fetch=new T["default"](j),r.iframe=new h["default"](a,j),r.shadowUI=new _["default"](a,l,r.iframe,i),r.upload=new w["default"](o,E,t),r.event=new p["default"](o,E,M,s,l,r.shadowUI,N),r.node=new y["default"](a,r.iframe,r.event,r.upload,r.shadowUI,j,r.childWindow),r.codeInstrumentation=new u["default"](r.event,l),r.console=new C["default"](l),r.style=new I["default"],r.unload=s,O.isElectron&&(r.electron=new A["default"]),r.windowStorage=k,r}i(t,e),t._canUseSandbox=function(e){try{e.off()}catch(t){return!1}return!0};var r=t.prototype;return r.onIframeDocumentRecreated=function(e){if(e){var r=j["default"].contentWindowGetter.call(e),n=j["default"].contentDocumentGetter.call(e),i=D.get(r);i&&t._canUseSandbox(i)?r[l["default"].sandboxIsReattached]&&i.document===n||i.reattach(r,n):(r[l["default"].iframeNativeMethods]&&delete r[l["default"].iframeNativeMethods],this.nativeMethods.restoreDocumentMeths(r,n),this.iframe.onIframeBeganToRun(e))}},r.reattach=function(e,t){j["default"].objectDefineProperty(e,l["default"].sandboxIsReattached,{value:!0,configurable:!1}),O.isIE&&this.nativeMethods.refreshIfNecessary(t,e),L["default"].init(t),this.event.reattach(e),this.shadowUI.attach(e),this.codeInstrumentation.attach(e),this.node.doc.attach(e,t),this.console.attach(e),this.childWindow.attach(e)},r.attach=function(t){var r=this;e.prototype.attach.call(this,t),j["default"].objectDefineProperty(t,l["default"].sandboxIsReattached,{value:!0,configurable:!1}),L["default"].init(this.document),this.iframe.on(this.iframe.EVAL_HAMMERHEAD_SCRIPT_EVENT,function(e){j["default"].contentWindowGetter.call(e.iframe).eval("("+initHammerheadClient.toString()+")();//# sourceURL=hammerhead.js")}),this.node.mutation.on(this.node.mutation.DOCUMENT_CLEANED_EVENT,function(e){return r.reattach(e.window,e.document)}),this.ieDebug.attach(t),this.iframe.attach(t),this.xhr.attach(t),this.fetch.attach(t),this.storageSandbox.attach(t),this.codeInstrumentation.attach(t),this.shadowUI.attach(t),this.event.attach(t),this.node.attach(t),this.upload.attach(t),this.cookie.attach(t),this.console.attach(t),this.style.attach(t),this.childWindow.attach(t),this.electron&&this.electron.attach(t),this.unload.on(this.unload.UNLOAD_EVENT,function(){return r.dispose()})},r._removeInternalProperties=function(){var e=this.event.listeners.listeningCtx.removeListeningElement;e(this.window),e(this.document);for(var t=j["default"].querySelectorAll.call(this.document,"*"),r=j["default"].nodeListLengthGetter.call(t),n=0;n<r;n++){var i=t[n];delete i[l["default"].processedContext],e(i)}},r.dispose=function(){this.event.hover.dispose(),this.event.focusBlur.dispose(),M.dispose(),N.dispose(),L["default"].dispose(this.document),this.storageSandbox.dispose(),this._removeInternalProperties()},t}(E["default"]);e["default"]=F,t.exports=e["default"]},"native-methods.js":function(e,t,r){var n=function(e){return e&&e.__esModule?e:{"default":e}};Object.defineProperty(e,"__esModule",{value:!0});var i=n(r("../utils/global-context-info")),o=r("../utils/overriding"),a=/\[native code]/,s=function(){function e(e,t){t=t||i["default"].global,this.refreshWindowMeths(t,i["default"].isInWorker),i["default"].isInWorker||(this.refreshDocumentMeths(e,t),this.refreshElementMeths(e,t))}e._getDocumentPropOwnerName=function(e,t){return e.hasOwnProperty(t)?"Document":"HTMLDocument"};var t=e.prototype;return t.getStoragesPropsOwner=function(e){return this.isStoragePropsLocatedInProto?e.Window.prototype:e},t.refreshDocumentMeths=function(t,r){t=t||document,r=r||window;var n=r.Document.prototype;this.createDocumentFragment=n.createDocumentFragment,this.createElement=n.createElement,this.createElementNS=n.createElementNS,this.createTextNode=n.createTextNode,this.documentOpenPropOwnerName=e._getDocumentPropOwnerName(n,"open"),this.documentClosePropOwnerName=e._getDocumentPropOwnerName(n,"close"),this.documentWritePropOwnerName=e._getDocumentPropOwnerName(n,"write"),this.documentWriteLnPropOwnerName=e._getDocumentPropOwnerName(n,"writeln"),this.documentOpen=r[this.documentOpenPropOwnerName].prototype.open,this.documentClose=r[this.documentClosePropOwnerName].prototype.close,this.documentWrite=r[this.documentWritePropOwnerName].prototype.write,this.documentWriteLn=r[this.documentWriteLnPropOwnerName].prototype.writeln,this.elementFromPoint=n.elementFromPoint,this.caretRangeFromPoint=n.caretRangeFromPoint,this.caretPositionFromPoint=n.caretPositionFromPoint,this.getElementById=n.getElementById,this.getElementsByClassName=n.getElementsByClassName,this.getElementsByName=n.getElementsByName,this.getElementsByTagName=n.getElementsByTagName,this.querySelector=n.querySelector,this.querySelectorAll=n.querySelectorAll,this.createHTMLDocument=r.DOMImplementation.prototype.createHTMLDocument,t.registerElement&&(this.registerElement=n.registerElement),r.EventTarget||(this.documentAddEventListener=n.addEventListener,this.documentRemoveEventListener=n.removeEventListener),this.documentCreateEvent=n.createEvent,this.documentCreateTouch=n.createTouch,this.documentCreateTouchList=n.createTouchList,this.documentCookiePropOwnerName=e._getDocumentPropOwnerName(n,"cookie"),this.documentScriptsPropOwnerName=e._getDocumentPropOwnerName(n,"scripts");var i=r.Object.getOwnPropertyDescriptor(r[this.documentCookiePropOwnerName].prototype,"cookie");if(!this.isNativeCode(i.get)||!this.isNativeCode(i.get.toString))try{var o=r.parent["%hammerhead%"].nativeMethods;i.get=o.documentCookieGetter,i.set=o.documentCookieSetter}catch(a){}this.documentReferrerGetter=r.Object.getOwnPropertyDescriptor(n,"referrer").get,this.documentStyleSheetsGetter=r.Object.getOwnPropertyDescriptor(n,"styleSheets").get,this.documentActiveElementGetter=r.Object.getOwnPropertyDescriptor(n,"activeElement").get,this.documentScriptsGetter=r.Object.getOwnPropertyDescriptor(r[this.documentScriptsPropOwnerName].prototype,"scripts").get,this.documentCookieGetter=i.get,this.documentCookieSetter=i.set;var s=r.Object.getOwnPropertyDescriptor(n,"documentURI");s&&(this.documentDocumentURIGetter=s.get);var l=r.Object.getOwnPropertyDescriptor(n,"title");this.documentTitleGetter=l.get,this.documentTitleSetter=l.set},t.refreshElementMeths=function(e,t){var r=this;t=t||window;var n=function(t){return r.createElement.call(e||document,t)},i=n("div"),o=function(t){return r.createTextNode.call(e||document,t)},a=o("text");if(this.appendChild=t.Node.prototype.appendChild,this.append=t.Element.prototype.append,this.attachShadow=t.Element.prototype.attachShadow,this.replaceChild=i.replaceChild,this.cloneNode=i.cloneNode,this.elementGetElementsByClassName=i.getElementsByClassName,this.elementGetElementsByTagName=i.getElementsByTagName,this.elementQuerySelector=i.querySelector,this.elementQuerySelectorAll=i.querySelectorAll,this.getAttribute=i.getAttribute,this.getAttributeNS=i.getAttributeNS,this.insertAdjacentHTML=i.insertAdjacentHTML,this.insertBefore=i.insertBefore,this.insertCell=n("tr").insertCell,this.insertTableRow=n("table").insertRow,this.insertTBodyRow=n("tbody").insertRow,this.removeAttribute=i.removeAttribute,this.removeAttributeNS=i.removeAttributeNS,this.removeChild=t.Node.prototype.removeChild,this.remove=t.Element.prototype.remove,this.setAttribute=i.setAttribute,this.setAttributeNS=i.setAttributeNS,this.hasAttribute=i.hasAttribute,this.hasAttributeNS=i.hasAttributeNS,this.hasAttributes=i.hasAttributes,this.anchorToString=t.HTMLAnchorElement.prototype.toString,this.matches=i.matches||i.msMatchesSelector,this.closest=i.closest,this.appendData=a.appendData,!this.isNativeCode(this.elementGetElementsByTagName))try{var s=t.parent["%hammerhead%"].nativeMethods;this.elementGetElementsByTagName=s.elementGetElementsByTagName}catch(l){}t.EventTarget?(this.addEventListener=t.EventTarget.prototype.addEventListener,this.removeEventListener=t.EventTarget.prototype.removeEventListener,this.dispatchEvent=t.EventTarget.prototype.dispatchEvent):(this.addEventListener=i.addEventListener,this.removeEventListener=i.removeEventListener,this.dispatchEvent=i.dispatchEvent),this.blur=i.blur,this.click=i.click,this.focus=i.focus,this.select=window.TextRange?n("body").createTextRange().select:null,this.setSelectionRange=n("input").setSelectionRange,this.textAreaSetSelectionRange=n("textarea").setSelectionRange,this.svgFocus=t.SVGElement?t.SVGElement.prototype.focus:this.focus,this.svgBlur=t.SVGElement?t.SVGElement.prototype.blur:this.blur,this.htmlElementStylePropOwnerName=t.Element.prototype.hasOwnProperty("style")?"Element":"HTMLElement";var u=t.Object.getOwnPropertyDescriptor(t[this.htmlElementStylePropOwnerName].prototype,"style");this.htmlElementStyleGetter=u.get,u.set&&(this.htmlElementStyleSetter=u.set);var c=t.Object.getOwnPropertyDescriptor(t.CSSStyleDeclaration.prototype,"cssText");this.styleCssTextGetter=c.get,this.styleCssTextSetter=c.set},t._refreshGettersAndSetters=function(e,t){void 0===t&&(t=!1),e=e||window;var r=e.constructor.prototype;this.isEventPropsLocatedInProto=r.hasOwnProperty("onerror");var n=this.isEventPropsLocatedInProto?r:e,i=e.Object.getOwnPropertyDescriptor(n,"onbeforeunload"),o=e.Object.getOwnPropertyDescriptor(n,"onunload"),a=e.Object.getOwnPropertyDescriptor(n,"onpagehide"),s=e.Object.getOwnPropertyDescriptor(n,"onmessage"),l=e.Object.getOwnPropertyDescriptor(n,"onerror"),u=e.Object.getOwnPropertyDescriptor(n,"onhashchange");this.winOnBeforeUnloadSetter=i&&i.set,this.winOnUnloadSetter=o&&o.set,this.winOnPageHideSetter=a&&a.set,this.winOnMessageSetter=s&&s.set,this.winOnErrorSetter=l&&l.set,this.winOnHashChangeSetter=u&&u.set;var c=e.Object.getOwnPropertyDescriptor(n,"onunhandledrejection");if(c&&(this.winOnUnhandledRejectionSetter=c.set),e.WebSocket){var d=e.Object.getOwnPropertyDescriptor(e.WebSocket.prototype,"url");d&&d.get&&d.configurable&&(this.webSocketUrlGetter=d.get)}this.messageEventOriginGetter=e.Object.getOwnPropertyDescriptor(e.MessageEvent.prototype,"origin").get,e.PerformanceNavigationTiming&&(this.performanceEntryNameGetter=e.Object.getOwnPropertyDescriptor(e.PerformanceEntry.prototype,"name").get);var p=e.Object.getOwnPropertyDescriptor(e.MessageEvent.prototype,"data");if(p&&(this.messageEventDataGetter=p.get),e.fetch&&(this.responseStatusGetter=e.Object.getOwnPropertyDescriptor(e.Response.prototype,"status").get,this.responseTypeGetter=e.Object.getOwnPropertyDescriptor(e.Response.prototype,"type").get,this.responseUrlGetter=e.Object.getOwnPropertyDescriptor(e.Response.prototype,"url").get,this.requestUrlGetter=e.Object.getOwnPropertyDescriptor(e.Request.prototype,"url").get,this.requestReferrerGetter=e.Object.getOwnPropertyDescriptor(e.Request.prototype,"referrer").get),e.XMLHttpRequest){var f=e.Object.getOwnPropertyDescriptor(e.XMLHttpRequest.prototype,"responseURL");f&&(this.xhrResponseURLGetter=f.get)}if(e.Window){this.isStoragePropsLocatedInProto=e.Window.prototype.hasOwnProperty("localStorage");var h=this.getStoragesPropsOwner(e);this.winLocalStorageGetter=e.Object.getOwnPropertyDescriptor(h,"localStorage").get,this.winSessionStorageGetter=e.Object.getOwnPropertyDescriptor(h,"sessionStorage").get}if(!t){this.storageGetItem=e.Storage.prototype.getItem,this.storageSetItem=e.Storage.prototype.setItem,this.storageRemoveItem=e.Storage.prototype.removeItem,this.storageClear=e.Storage.prototype.clear,this.storageKey=e.Storage.prototype.key,this.storageLengthGetter=e.Object.getOwnPropertyDescriptor(e.Storage.prototype,"length");var m=e.Object.getOwnPropertyDescriptor(e.HTMLObjectElement.prototype,"data"),v=e.Object.getOwnPropertyDescriptor(e.HTMLInputElement.prototype,"type"),g=e.Object.getOwnPropertyDescriptor(e.HTMLInputElement.prototype,"value"),y=e.Object.getOwnPropertyDescriptor(e.HTMLInputElement.prototype,"disabled"),E=e.Object.getOwnPropertyDescriptor(e.HTMLInputElement.prototype,"required"),_=e.Object.getOwnPropertyDescriptor(e.HTMLTextAreaElement.prototype,"value"),S=e.Object.getOwnPropertyDescriptor(e.HTMLImageElement.prototype,"src"),b=e.Object.getOwnPropertyDescriptor(e.HTMLScriptElement.prototype,"src"),w=e.Object.getOwnPropertyDescriptor(e.HTMLScriptElement.prototype,"integrity"),x=e.Object.getOwnPropertyDescriptor(e.HTMLEmbedElement.prototype,"src"),T=e.Object.getOwnPropertyDescriptor(e.HTMLSourceElement.prototype,"src"),P=e.Object.getOwnPropertyDescriptor(e.HTMLMediaElement.prototype,"src"),A=e.Object.getOwnPropertyDescriptor(e.HTMLInputElement.prototype,"src"),C=e.Object.getOwnPropertyDescriptor(e.HTMLFrameElement.prototype,"src"),I=e.Object.getOwnPropertyDescriptor(e.HTMLIFrameElement.prototype,"src"),O=e.Object.getOwnPropertyDescriptor(e.HTMLAnchorElement.prototype,"href"),M=e.Object.getOwnPropertyDescriptor(e.HTMLLinkElement.prototype,"href"),N=e.Object.getOwnPropertyDescriptor(e.HTMLLinkElement.prototype,"integrity"),D=e.Object.getOwnPropertyDescriptor(e.HTMLLinkElement.prototype,"rel"),L=e.Object.getOwnPropertyDescriptor(e.HTMLLinkElement.prototype,"as"),k=e.Object.getOwnPropertyDescriptor(e.HTMLAreaElement.prototype,"href"),j=e.Object.getOwnPropertyDescriptor(e.HTMLBaseElement.prototype,"href"),R=e.Object.getOwnPropertyDescriptor(e.HTMLAnchorElement.prototype,"host"),U=e.Object.getOwnPropertyDescriptor(e.HTMLAnchorElement.prototype,"hostname"),F=e.Object.getOwnPropertyDescriptor(e.HTMLAnchorElement.prototype,"pathname"),H=e.Object.getOwnPropertyDescriptor(e.HTMLAnchorElement.prototype,"port"),B=e.Object.getOwnPropertyDescriptor(e.HTMLAnchorElement.prototype,"protocol"),V=e.Object.getOwnPropertyDescriptor(e.HTMLAnchorElement.prototype,"search"),W=e.Object.getOwnPropertyDescriptor(e.HTMLAnchorElement.prototype,"target"),G=e.Object.getOwnPropertyDescriptor(e.HTMLFormElement.prototype,"target"),q=e.Object.getOwnPropertyDescriptor(e.HTMLAreaElement.prototype,"target"),K=e.Object.getOwnPropertyDescriptor(e.HTMLBaseElement.prototype,"target"),z=e.Object.getOwnPropertyDescriptor(e.HTMLInputElement.prototype,"formTarget"),X=e.Object.getOwnPropertyDescriptor(e.HTMLButtonElement.prototype,"formTarget"),Y=e.Object.getOwnPropertyDescriptor(e.SVGImageElement.prototype,"href"),$=e.Object.getOwnPropertyDescriptor(e.SVGAnimatedString.prototype,"animVal"),Q=e.Object.getOwnPropertyDescriptor(e.SVGAnimatedString.prototype,"baseVal"),J=e.Object.getOwnPropertyDescriptor(e.HTMLInputElement.prototype,"autocomplete"),Z=e.Object.getOwnPropertyDescriptor(e.HTMLFormElement.prototype,"action"),ee=e.Object.getOwnPropertyDescriptor(e.HTMLInputElement.prototype,"formAction"),te=e.Object.getOwnPropertyDescriptor(e.HTMLButtonElement.prototype,"formAction"),re=e.Object.getOwnPropertyDescriptor(e.Node.prototype,"textContent"),ne=e.Object.getOwnPropertyDescriptor(e.HTMLElement.prototype,"innerText"),ie=e.Object.getOwnPropertyDescriptor(e.HTMLScriptElement.prototype,"text"),oe=e.Object.getOwnPropertyDescriptor(e.HTMLAnchorElement.prototype,"text"),ae=e.Object.getOwnPropertyDescriptor(e.HTMLTitleElement.prototype,"text"),se=e.Object.getOwnPropertyDescriptor(e.HTMLIFrameElement.prototype,"sandbox"),le=e.Object.getOwnPropertyDescriptor(e,"origin");le&&(this.windowOriginGetter=le.get,this.windowOriginSetter=le.set),y&&(this.inputDisabledSetter=y.set,this.inputDisabledGetter=y.get),this.elementHTMLPropOwnerName=e.Element.prototype.hasOwnProperty("innerHTML")?"Element":"HTMLElement";var ue=e.Object.getOwnPropertyDescriptor(e[this.elementHTMLPropOwnerName].prototype,"innerHTML"),ce=e.Object.getOwnPropertyDescriptor(e[this.elementHTMLPropOwnerName].prototype,"outerHTML");this.objectDataSetter=m.set,this.inputTypeSetter=v.set,this.inputValueSetter=g.set,this.inputRequiredSetter=E.set,this.textAreaValueSetter=_.set,this.imageSrcSetter=S.set,this.scriptSrcSetter=b.set,this.embedSrcSetter=x.set,this.sourceSrcSetter=T.set,this.mediaSrcSetter=P.set,this.inputSrcSetter=A.set,this.frameSrcSetter=C.set,this.iframeSrcSetter=I.set,this.anchorHrefSetter=O.set,this.linkHrefSetter=M.set,this.linkRelSetter=D.set,this.linkAsSetter=L&&L.set,this.areaHrefSetter=k.set,this.baseHrefSetter=j.set,this.anchorHostSetter=R.set,this.anchorHostnameSetter=U.set,this.anchorPathnameSetter=F.set,this.anchorPortSetter=H.set,this.anchorProtocolSetter=B.set,this.anchorSearchSetter=V.set,this.anchorTargetSetter=W.set,this.formTargetSetter=G.set,this.areaTargetSetter=q.set,this.baseTargetSetter=K.set,this.inputFormTargetSetter=z.set,this.buttonFormTargetSetter=X.set,this.svgAnimStrBaseValSetter=Q.set,this.inputAutocompleteSetter=J.set,this.formActionSetter=Z.set,this.inputFormActionSetter=ee.set,this.buttonFormActionSetter=te.set,this.iframeSandboxSetter=se.set,this.htmlElementOnloadSetter=e.Object.getOwnPropertyDescriptor(e.HTMLElement.prototype,"onload").set,this.nodeTextContentSetter=re.set,this.htmlElementInnerTextSetter=ne.set,this.scriptTextSetter=ie.set,this.anchorTextSetter=oe.set,this.elementInnerHTMLSetter=ue.set,this.elementOuterHTMLSetter=ce.set,w&&N&&(this.scriptIntegritySetter=w.set,this.linkIntegritySetter=N.set),this.titleElementTextSetter=ae.set,this.elementClassListPropOwnerName=e.Element.prototype.hasOwnProperty("classList")?"Element":"HTMLElement",this.elementClassListGetter=e.Object.getOwnPropertyDescriptor(e[this.elementClassListPropOwnerName].prototype,"classList").get,this.htmlCollectionLengthGetter=e.Object.getOwnPropertyDescriptor(e.HTMLCollection.prototype,"length").get,this.nodeListLengthGetter=e.Object.getOwnPropertyDescriptor(e.NodeList.prototype,"length").get,this.elementChildElementCountGetter=e.Object.getOwnPropertyDescriptor(e.Element.prototype,"childElementCount").get,this.inputFilesGetter=e.Object.getOwnPropertyDescriptor(e.HTMLInputElement.prototype,"files").get,this.styleSheetHrefGetter=e.Object.getOwnPropertyDescriptor(e.StyleSheet.prototype,"href").get,this.objectDataGetter=m.get,this.inputTypeGetter=v.get,this.inputValueGetter=g.get,this.inputRequiredGetter=E.get,this.textAreaValueGetter=_.get,this.imageSrcGetter=S.get,this.scriptSrcGetter=b.get,this.embedSrcGetter=x.get,this.sourceSrcGetter=T.get,this.mediaSrcGetter=P.get,this.inputSrcGetter=A.get,this.frameSrcGetter=C.get,this.iframeSrcGetter=I.get,this.anchorHrefGetter=O.get,this.linkHrefGetter=M.get,this.linkRelGetter=D.get,this.areaHrefGetter=k.get,this.baseHrefGetter=j.get,this.anchorHostGetter=R.get,this.anchorHostnameGetter=U.get,this.anchorPathnameGetter=F.get,this.anchorPortGetter=H.get,this.anchorProtocolGetter=B.get,this.anchorSearchGetter=V.get,this.anchorTargetGetter=W.get,this.formTargetGetter=G.get,this.areaTargetGetter=q.get,this.baseTargetGetter=K.get,this.inputFormTargetGetter=z.get,this.buttonFormTargetGetter=X.get,this.svgImageHrefGetter=Y.get,this.svgAnimStrAnimValGetter=$.get,this.svgAnimStrBaseValGetter=Q.get,this.inputAutocompleteGetter=J.get,this.formActionGetter=Z.get,this.inputFormActionGetter=ee.get,this.buttonFormActionGetter=te.get,this.iframeSandboxGetter=se.get,this.contentWindowGetter=e.Object.getOwnPropertyDescriptor(e.HTMLIFrameElement.prototype,"contentWindow").get,this.contentDocumentGetter=e.Object.getOwnPropertyDescriptor(e.HTMLIFrameElement.prototype,"contentDocument").get,this.frameContentWindowGetter=e.Object.getOwnPropertyDescriptor(e.HTMLFrameElement.prototype,"contentWindow").get,this.nodeTextContentGetter=re.get,this.htmlElementInnerTextGetter=ne.get,this.scriptTextGetter=ie.get,this.anchorTextGetter=oe.get,this.elementInnerHTMLGetter=ue.get,this.elementOuterHTMLGetter=ce.get,this.nodeFirstChildGetter=e.Object.getOwnPropertyDescriptor(e.Node.prototype,"firstChild").get,this.nodeLastChildGetter=e.Object.getOwnPropertyDescriptor(e.Node.prototype,"lastChild").get,this.nodeNextSiblingGetter=e.Object.getOwnPropertyDescriptor(e.Node.prototype,"nextSibling").get,this.nodePrevSiblingGetter=e.Object.getOwnPropertyDescriptor(e.Node.prototype,"previousSibling").get,this.nodeParentNodeGetter=e.Object.getOwnPropertyDescriptor(e.Node.prototype,"parentNode").get,this.nodeChildNodesGetter=e.Object.getOwnPropertyDescriptor(e.Node.prototype,"childNodes").get,this.elementFirstElementChildGetter=e.Object.getOwnPropertyDescriptor(e.Element.prototype,"firstElementChild").get,this.elementLastElementChildGetter=e.Object.getOwnPropertyDescriptor(e.Element.prototype,"lastElementChild").get,this.elementNextElementSiblingGetter=e.Object.getOwnPropertyDescriptor(e.Element.prototype,"nextElementSibling").get,this.elementPrevElementSiblingGetter=e.Object.getOwnPropertyDescriptor(e.Element.prototype,"previousElementSibling").get,w&&N&&(this.scriptIntegrityGetter=w.get,this.linkIntegrityGetter=N.get);var de=e.Object.getOwnPropertyDescriptor(e.HTMLAnchorElement.prototype,"origin");de&&(this.anchorOriginGetter=de.get);var pe=e.Object.getOwnPropertyDescriptor(e.HTMLIFrameElement.prototype,"srcdoc");pe&&(this.iframeSrcdocGetter=pe.get,this.iframeSrcdocSetter=pe.set);var fe=e.Object.getOwnPropertyDescriptor(e.CSSStyleSheet.prototype,"href");fe&&(this.cssStyleSheetHrefGetter=fe.get);var he=e.Object.getOwnPropertyDescriptor(e.Node.prototype,"baseURI");he&&(this.nodeBaseURIGetter=he.get),this.elementAttributesPropOwnerName=e.Element.prototype.hasOwnProperty("attributes")?"Element":"Node",this.elementAttributesGetter=e.Object.getOwnPropertyDescriptor(e[this.elementAttributesPropOwnerName].prototype,"attributes").get;var me=e.Object.getOwnPropertyDescriptor(e.HTMLHtmlElement.prototype,"manifest");me&&(this.htmlManifestGetter=me.get,this.htmlManifestSetter=me.set),this.titleElementTextGetter=ae.get,this.mutationRecordNextSiblingGetter=e.Object.getOwnPropertyDescriptor(e.MutationRecord.prototype,"nextSibling").get,this.mutationRecordPrevSiblingGetter=e.Object.getOwnPropertyDescriptor(e.MutationRecord.prototype,"previousSibling").get}},t.refreshWindowMeths=function(e,t){void 0===t&&(t=!1),e=e||window;var r=e.constructor.prototype;if(this.eval=e.eval,this.formSubmit=e.HTMLFormElement&&e.HTMLFormElement.prototype.submit,this.documentFragmentQuerySelector=e.DocumentFragment&&e.DocumentFragment.prototype.querySelector,this.documentFragmentQuerySelectorAll=e.DocumentFragment&&e.DocumentFragment.prototype.querySelectorAll,this.preventDefault=e.Event.prototype.preventDefault,this.historyPushState=e.history&&e.history.pushState,this.historyReplaceState=e.history&&e.history.replaceState,this.postMessage=e.postMessage||r.postMessage,this.windowOpen=e.open||r.open,this.setTimeout=e.setTimeout||r.setTimeout,this.setInterval=e.setInterval||r.setInterval,this.clearTimeout=e.clearTimeout||r.clearTimeout,this.clearInterval=e.clearInterval||r.clearInterval,this.registerProtocolHandler=e.navigator.registerProtocolHandler,this.sendBeacon=e.navigator.sendBeacon,e.XMLHttpRequest){var n=(e.EventTarget||e.XMLHttpRequest).prototype;this.xhrAbort=e.XMLHttpRequest.prototype.abort,this.xhrOpen=e.XMLHttpRequest.prototype.open,this.xhrSend=e.XMLHttpRequest.prototype.send,this.xhrAddEventListener=n.addEventListener,this.xhrRemoveEventListener=n.removeEventListener,this.xhrDispatchEvent=n.dispatchEvent,this.xhrGetResponseHeader=e.XMLHttpRequest.prototype.getResponseHeader,this.xhrGetAllResponseHeaders=e.XMLHttpRequest.prototype.getAllResponseHeaders,this.xhrSetRequestHeader=e.XMLHttpRequest.prototype.setRequestHeader,
this.xhrOverrideMimeType=e.XMLHttpRequest.prototype.overrideMimeType}try{this.registerServiceWorker=e.navigator.serviceWorker.register,this.getRegistrationServiceWorker=e.navigator.serviceWorker.getRegistration}catch(i){this.registerServiceWorker=null,this.getRegistrationServiceWorker=null}this.createContextualFragment=e.Range&&e.Range.prototype.createContextualFragment;var o=e.performance;if(o){var a=e.performance.now||e.Performance.prototype.now;this.performanceNow=function(){for(var e=arguments.length,t=new Array(e),r=0;r<e;r++)t[r]=arguments[r];return a.apply(o,t)}}if(this.fetch=e.fetch,this.Request=e.Request,e.Headers&&(this.Headers=e.Headers,this.headersSet=e.Headers.prototype.set,this.headersGet=e.Headers.prototype.get,this.headersDelete=e.Headers.prototype["delete"],this.headersEntries=e.Headers.prototype.entries,this.headersForEach=e.Headers.prototype.forEach,this.headersValues=e.Headers.prototype.values),this.windowAddEventListener=e.addEventListener||r.addEventListener,this.windowRemoveEventListener=e.removeEventListener||r.removeEventListener,this.windowDispatchEvent=e.dispatchEvent,this.WindowPointerEvent=e.PointerEvent||r.PointerEvent,this.WindowMSPointerEvent=e.MSPointerEvent||r.MSPointerEvent,this.WindowTouch=e.Touch||r.Touch,this.WindowTouchEvent=e.TouchEvent||r.TouchEvent,this.WindowKeyboardEvent=e.KeyboardEvent||r.KeyboardEvent,this.WindowFocusEvent=e.FocusEvent||r.FocusEvent,this.WindowTextEvent=e.TextEvent||r.TextEvent,this.WindowInputEvent=e.InputEvent||r.InputEvent,this.WindowMouseEvent=e.MouseEvent||r.MouseEvent,this.canvasContextDrawImage=e.CanvasRenderingContext2D&&e.CanvasRenderingContext2D.prototype.drawImage,this.formDataAppend=e.FormData&&e.FormData.prototype.append,this.date=e.Date,this.dateNow=e.Date.now,this.math=e.Math,this.mathRandom=e.Math.random,this.objectToString=e.Object.prototype.toString,this.objectAssign=e.Object.assign,this.objectKeys=e.Object.keys,this.objectDefineProperty=e.Object.defineProperty,this.objectDefineProperties=e.Object.defineProperties,this.objectCreate=e.Object.create,this.objectIsExtensible=e.Object.isExtensible,this.objectIsFrozen=e.Object.isFrozen,this.objectGetOwnPropertyDescriptor=e.Object.getOwnPropertyDescriptor,this.objectHasOwnProperty=e.Object.hasOwnProperty,this.objectGetOwnPropertyNames=e.Object.getOwnPropertyNames,this.objectGetPrototypeOf=e.Object.getPrototypeOf,this.objectGetOwnPropertySymbols=e.Object.getOwnPropertySymbols,this.arraySlice=e.Array.prototype.slice,this.arrayConcat=e.Array.prototype.concat,this.arrayFilter=e.Array.prototype.filter,this.arrayMap=e.Array.prototype.map,this.arrayJoin=e.Array.prototype.join,this.arraySplice=e.Array.prototype.splice,this.arrayForEach=e.Array.prototype.forEach,this.arrayFrom=e.Array.from,this.DOMParserParseFromString=e.DOMParser&&e.DOMParser.prototype.parseFromString,this.arrayBufferIsView=e.ArrayBuffer.prototype.constructor.isView,!t){this.tokenListAdd=e.DOMTokenList.prototype.add,this.tokenListRemove=e.DOMTokenList.prototype.remove,this.tokenListReplace=e.DOMTokenList.prototype.replace,this.tokenListSupports=e.DOMTokenList.prototype.supports,this.tokenListToggle=e.DOMTokenList.prototype.toggle,this.tokenListContains=e.DOMTokenList.prototype.contains;var s=e.Object.getOwnPropertyDescriptor(e.DOMTokenList.prototype,"value");s&&(this.tokenListValueSetter=s.set),this.styleGetPropertyValue=e.CSSStyleDeclaration.prototype.getPropertyValue,this.styleSetProperty=e.CSSStyleDeclaration.prototype.setProperty,this.styleRemoveProperty=e.CSSStyleDeclaration.prototype.removeProperty,this.styleInsertRule=e.CSSStyleSheet.prototype.insertRule,this.scrollTo=e.scrollTo}e.Promise&&(this.promiseThen=e.Promise.prototype.then,this.promiseReject=e.Promise.reject),this.console=e.console,this.console&&(this.consoleMeths={log:e.console.log,warn:e.console.warn,error:e.console.error,info:e.console.info}),this.crypto=e.crypto||e.msCrypto,this.cryptoGetRandomValues=this.crypto&&this.crypto.getRandomValues,this.refreshClasses(e),this._refreshGettersAndSetters(e,t)},t.refreshClasses=function(e){this.windowClass=e.Window,this.documentClass=e.Document,this.locationClass=e.Location,this.elementClass=e.Element,this.svgElementClass=e.SVGElement,this.Worker=e.Worker,this.MessageChannel=e.MessageChannel,this.ArrayBuffer=e.ArrayBuffer,this.Uint8Array=e.Uint8Array,this.Uint16Array=e.Uint16Array,this.Uint32Array=e.Uint32Array,this.DataView=e.DataView,this.Blob=e.Blob,this.XMLHttpRequest=e.XMLHttpRequest,this.Image=e.Image,this.Function=e.Function,this.functionToString=e.Function.prototype.toString,this.Error=e.Error,this.FontFace=e.FontFace,this.StorageEvent=e.StorageEvent,this.MutationObserver=e.MutationObserver,this.EventSource=e.EventSource,this.Proxy=e.Proxy,this.WebSocket=e.WebSocket,this.HTMLCollection=e.HTMLCollection,this.NodeList=e.NodeList,this.Node=e.Node,this.URL=e.URL,this.DataTransfer=e.DataTransfer,this.DataTransferItemList=e.DataTransferItemList,this.DataTransferItem=e.DataTransferItem,this.FileList=e.FileList,e.File&&"function"==typeof e.File&&(this.File=e.File)},t.refreshElectronMeths=function(e){return(!this.createScript||!o.isNativeFunction(e.createScript))&&(this.createScript=e.createScript,this.runInDebugContext=e.runInDebugContext,this.runInContext=e.runInContext,this.runInNewContext=e.runInNewContext,this.runInThisContext=e.runInThisContext,!0)},e._ensureDocumentMethodRestore=function(e,t,r,n){t[r]=n,e[r]!==t[r]&&(e[r]=n)},t.restoreDocumentMeths=function(t,r){var n=t.Document.prototype;e._ensureDocumentMethodRestore(r,n,"createDocumentFragment",this.createDocumentFragment),e._ensureDocumentMethodRestore(r,n,"createElement",this.createElement),e._ensureDocumentMethodRestore(r,n,"createElementNS",this.createElementNS),e._ensureDocumentMethodRestore(r,n,"elementFromPoint",this.elementFromPoint),e._ensureDocumentMethodRestore(r,n,"caretRangeFromPoint",this.caretRangeFromPoint),e._ensureDocumentMethodRestore(r,n,"caretPositionFromPoint",this.caretPositionFromPoint),e._ensureDocumentMethodRestore(r,n,"getElementById",this.getElementById),e._ensureDocumentMethodRestore(r,n,"getElementsByClassName",this.getElementsByClassName),e._ensureDocumentMethodRestore(r,n,"getElementsByName",this.getElementsByName),e._ensureDocumentMethodRestore(r,n,"getElementsByTagName",this.getElementsByTagName),e._ensureDocumentMethodRestore(r,n,"querySelector",this.querySelector),e._ensureDocumentMethodRestore(r,n,"querySelectorAll",this.querySelectorAll),t.EventTarget||(e._ensureDocumentMethodRestore(r,n,"addEventListener",this.documentAddEventListener),e._ensureDocumentMethodRestore(r,n,"removeEventListener",this.documentRemoveEventListener)),e._ensureDocumentMethodRestore(r,n,"createEvent",this.documentCreateEvent),e._ensureDocumentMethodRestore(r,n,"createTouch",this.documentCreateTouch),e._ensureDocumentMethodRestore(r,n,"createTouchList",this.documentCreateTouchList),e._ensureDocumentMethodRestore(r,t[this.documentOpenPropOwnerName].prototype,"open",this.documentOpen),e._ensureDocumentMethodRestore(r,t[this.documentClosePropOwnerName].prototype,"close",this.documentClose),e._ensureDocumentMethodRestore(r,t[this.documentWritePropOwnerName].prototype,"write",this.documentWrite),e._ensureDocumentMethodRestore(r,t[this.documentWriteLnPropOwnerName].prototype,"writeln",this.documentWriteLn)},t.refreshIfNecessary=function(e,t){var r=this,n=function(e){try{return e()}catch(t){return!0}},i=n(function(){return!e.createElement||o.isNativeFunction(document.createElement)}),a=n(function(){var t=r.createElement.call(e,"div");return o.isNativeFunction(t.getAttribute)}),s=n(function(){return r.setTimeout.call(t,function(){},0),o.isNativeFunction(t.XMLHttpRequest.prototype.open)});i&&this.refreshDocumentMeths(e,t),a&&this.refreshElementMeths(e,t),s&&this.refreshWindowMeths(t)},t.isNativeCode=function(e){return a.test(e.toString())},e}();e["default"]=new s,t.exports=e["default"]},node:{attributes:{"index.js":function(e,t,r){function n(e){if(e.length)for(var t=0;t<e.length;t++)delete e[e[t].name],delete e[t]}function i(e,t){for(var r=0,n={},i=0;i<t.length;i++){var o=t[i];if(!u.isHammerheadAttr(o.name)){var a=t[d["default"].getStoredAttrName(o.name)];if(a){if(d["default"].isAddedAutocompleteAttr(o.name,a.value))continue;o=c["default"].cloneNode.call(o),o.value=a.value}n[o.name]={value:o,configurable:!0,enumerable:!0},n[r]={value:o,configurable:!0},r++}}n.length={value:r,configurable:!0},c["default"].objectDefineProperties(e,n)}function o(e){if(e[p])return a(e),e[p];var t=c["default"].elementAttributesGetter.call(e);if(!t)return t;for(var r=0;r<t.length;r++){var n=t[r];if(u.isHammerheadAttr(n.name))return l["default"].prototype=t,e[p]=new l["default"](e,t),e[p]}return t}function a(e){var t=e[p];t&&(n(t),i(t,c["default"].elementAttributesGetter.call(e)))}var s=function(e){return e&&e.__esModule?e:{"default":e}};Object.defineProperty(e,"__esModule",{value:!0});var l=s(r("./wrapper")),u=r("../../../utils/dom"),c=s(r("../../native-methods")),d=s(r("../../../../processing/dom")),p="hammerhead|element-attribute-wrappers";e.assignAttributes=i,e.getAttributes=o,e.refreshAttributesWrapper=a},"wrapper.js":function(e,t,r){function n(e,t,r){return function(){var n=t[r].apply(t,arguments);return s.refreshAttributesWrapper(e),n}}var i=function(e){return e&&e.__esModule?e:{"default":e}};Object.defineProperty(e,"__esModule",{value:!0});var o=i(r("../../../utils/fn-bind")),a=r("../../../utils/feature-detection"),s=r("./index"),l=["setNamedItem","setNamedItemNS","removeNamedItem","removeNamedItemNS","getNamedItem","getNamedItemNS"],u=function(e,t){var r=this;s.assignAttributes(this,t),this.item=function(e){return r[e]};for(var i in t)"function"==typeof this[i]&&"item"!==i&&(this[i]=l.indexOf(i)!==-1?n(e,t,i):o["default"](t[i],t));a.attrGetNamedItemIsNotEnumerable&&(this.getNamedItem=n(e,t,"getNamedItem"))};e["default"]=u,t.exports=e["default"]}},document:{"index.js":function(e,t,r){function n(e,t){e.prototype=Object.create(t.prototype),e.prototype.constructor=e,i(e,t)}function i(e,t){return(i=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e})(e,t)}var o=function(e){return e&&e.__esModule?e:{"default":e}},a=function(e){if(e&&e.__esModule)return e;var t={};if(null!=e)for(var r in e)Object.hasOwnProperty.call(e,r)&&(t[r]=e[r]);return t["default"]=e,t};Object.defineProperty(e,"__esModule",{value:!0});var s=o(r("../../base")),l=o(r("../../iframe")),u=o(r("../../native-methods")),c=o(r("../../../dom-processor")),d=a(r("../../../utils/url")),p=o(r("../../../settings")),f=r("../../../utils/browser"),h=r("../../../utils/dom"),m=o(r("./writer")),v=o(r("./../../shadow-ui")),g=o(r("../../../../processing/dom/internal-properties")),y=o(r("../../code-instrumentation/location")),E=r("../../../utils/overriding"),_=r("../../../utils/url"),S=function(e){function t(t,r,n,i){var o;return o=e.call(this)||this,o._nodeSandbox=t,o._shadowUI=r,o._cookieSandbox=n,o._documentTitleStorageInitializer=i,o.documentWriter=null,o}n(t,e),t.forceProxySrcForImageIfNecessary=function(e){h.isImgElement(e)&&p["default"].get().forceProxySrcForImage&&(e[g["default"].forceProxySrcForImage]=!0)},t._isDocumentInDesignMode=function(e){return"on"===e.designMode};var r=t.prototype;return r._isUninitializedIframeWithoutSrc=function(e){var t=h.getFrameElement(e);return e!==e.top&&t&&h.isIframeWithoutSrc(t)&&!l["default"].isIframeInitialized(t)},r._beforeDocumentCleaned=function(){this._nodeSandbox.mutation.onBeforeDocumentCleaned(this.document)},r._onDocumentClosed=function(){this._nodeSandbox.mutation.onDocumentClosed(this.document)},t._shouldEmitDocumentCleanedEvents=function(e){if(f.isIE){if("loading"!==e.readyState)return!0;var t=e.defaultView;if(t[g["default"].documentWasCleaned])return!1;var r=t&&h.getFrameElement(t);return r&&h.isIframeWithoutSrc(r)}return"loading"!==e.readyState&&"uninitialized"!==e.readyState},r._performDocumentWrite=function(e,r){var n=t._shouldEmitDocumentCleanedEvents(this.document);n&&this._beforeDocumentCleaned();var i=this.documentWriter.write(e,r,n);return n||this._nodeSandbox.processNodes(null,this.document),i},r._needToUpdateDocumentWriter=function(e,t){try{return!this.documentWriter||this.window!==e||this.document!==t}catch(r){return!0}},t._definePropertyDescriptor=function(e,t,r,n){n.configurable?u["default"].objectDefineProperty(e,r,n):t.hasOwnProperty(r)||u["default"].objectDefineProperty(t,r,n)},r.iframeDocumentOpen=function(e,t,r){var n=e.frameElement,i=u["default"].documentOpen.apply(t,r);return u["default"].objectDefineProperty(e,g["default"].documentWasCleaned,{value:!0,configurable:!0}),this._nodeSandbox.iframeSandbox.onIframeBeganToRun(n),i},r.attach=function(r,n,i){var o=this;void 0===i&&(i=!1),this._needToUpdateDocumentWriter(r,n)&&(this.documentWriter=new m["default"](r,n),this._nodeSandbox.mutation.on(this._nodeSandbox.mutation.BEFORE_DOCUMENT_CLEANED_EVENT,function(){o.documentWriter=new m["default"](r,n)})),e.prototype.attach.call(this,r,n);var a=this,s=r.Document.prototype,p={open:function(){var e=a._isUninitializedIframeWithoutSrc(r);e||a._beforeDocumentCleaned();for(var t=arguments.length,n=new Array(t),i=0;i<t;i++)n[i]=arguments[i];if(f.isIE)return r.parent[g["default"].hammerhead].sandbox.node.doc.iframeDocumentOpen(r,this,n);var o=u["default"].documentOpen.apply(this,n),s=r[g["default"].hammerhead]?r[g["default"].hammerhead].nativeMethods.objectDefineProperty:r.Object.defineProperty;return s(r,g["default"].documentWasCleaned,{value:!0,configurable:!0}),e?a.attach(r,this):a._nodeSandbox.mutation.onDocumentCleaned(r,this),o},close:function(){f.isIE&&!l["default"].isWindowInited(r)&&u["default"].restoreDocumentMeths(r,this),t._isDocumentInDesignMode(this)&&v["default"].removeSelfRemovingScripts(this);for(var e=arguments.length,n=new Array(e),i=0;i<e;i++)n[i]=arguments[i];var o=u["default"].documentClose.apply(this,n);a._isUninitializedIframeWithoutSrc(r)||a._onDocumentClosed();var s=h.getFrameElement(r);return s&&a._nodeSandbox.iframeSandbox.onIframeBeganToRun(s),o},write:function(){return a._performDocumentWrite(arguments)},writeln:function(){return a._performDocumentWrite(arguments,!0)}};E.overrideFunction(r[u["default"].documentOpenPropOwnerName].prototype,"open",p.open),E.overrideFunction(r[u["default"].documentClosePropOwnerName].prototype,"close",p.close),E.overrideFunction(r[u["default"].documentWritePropOwnerName].prototype,"write",p.write),E.overrideFunction(r[u["default"].documentWriteLnPropOwnerName].prototype,"writeln",p.writeln),E.overrideFunction(n,"open",p.open),E.overrideFunction(n,"close",p.close),E.overrideFunction(n,"write",p.write),E.overrideFunction(n,"writeln",p.writeln),n.open!==p.open&&E.overrideFunction(n,"open",p.open),E.overrideFunction(s,"createElement",function(){for(var e=arguments.length,r=new Array(e),n=0;n<e;n++)r[n]=arguments[n];var i=u["default"].createElement.apply(this,r);return t.forceProxySrcForImageIfNecessary(i),c["default"].processElement(i,d.convertToProxyUrl),a._nodeSandbox.processNodes(i),i}),E.overrideFunction(s,"createElementNS",function(){for(var e=arguments.length,r=new Array(e),n=0;n<e;n++)r[n]=arguments[n];var i=u["default"].createElementNS.apply(this,r);return t.forceProxySrcForImageIfNecessary(i),c["default"].processElement(i,d.convertToProxyUrl),a._nodeSandbox.processNodes(i),i}),E.overrideFunction(s,"createDocumentFragment",function(){for(var e=arguments.length,t=new Array(e),r=0;r<e;r++)t[r]=arguments[r];var n=u["default"].createDocumentFragment.apply(this,t);return a._nodeSandbox.processNodes(n),n});var S=r.HTMLDocument.prototype,b="";u["default"].documentDocumentURIGetter&&E.overrideDescriptor(s,"documentURI",{getter:function(){return _.getDestinationUrl(u["default"].documentDocumentURIGetter.call(this))}});var w=E.createOverriddenDescriptor(s,"referrer",{getter:function(){var e=_.getDestinationUrl(u["default"].documentReferrerGetter.call(this));return _.isSpecialPage(e)?"":e}});t._definePropertyDescriptor(s,S,"referrer",w);var x=E.createOverriddenDescriptor(s,"URL",{getter:function(){return y["default"].getLocationWrapper(this).href}});t._definePropertyDescriptor(s,S,"URL",x);var T=u["default"].objectHasOwnProperty.call(s,"domain")?s:S,P=E.createOverriddenDescriptor(T,"domain",{getter:function(){return b||y["default"].getLocationWrapper(r).hostname},setter:function(e){b=e}});t._definePropertyDescriptor(T,S,"domain",P),E.overrideDescriptor(s,"styleSheets",{getter:function(){var e=u["default"].documentStyleSheetsGetter.call(this);return a._shadowUI._filterStyleSheetList(e,e.length)}});var A=r[u["default"].documentCookiePropOwnerName].prototype;E.overrideDescriptor(A,"cookie",{getter:function(){return a._cookieSandbox.getCookie()},setter:function(e){return a._cookieSandbox.setCookie(String(e))}}),E.overrideDescriptor(s,"activeElement",{getter:function(){var e=u["default"].documentActiveElementGetter.call(this);return e&&h.isShadowUIElement(e)?a._shadowUI.getLastActiveElement()||this.body:e}});var C=r[u["default"].documentScriptsPropOwnerName].prototype;E.overrideDescriptor(C,"scripts",{getter:function(){var e=u["default"].documentScriptsGetter.call(this),t=u["default"].htmlCollectionLengthGetter.call(e);return a._shadowUI._filterNodeList(e,t)}}),this._documentTitleStorageInitializer&&!i&&E.overrideDescriptor(s,"title",{getter:function(){return a._documentTitleStorageInitializer.storage.getTitle()},setter:function(e){a._documentTitleStorageInitializer.storage.setTitle(e)}})},t}(s["default"]);e["default"]=S,t.exports=e["default"]},"title-storage-initializer.js":function(e,t,r){var n=function(e){return e&&e.__esModule?e:{"default":e}};Object.defineProperty(e,"__esModule",{value:!0});var i=n(r("../../../settings")),o=n(r("../../native-methods")),a=n(r("../../../utils/remove-element")),s=function(){function e(e){var t=this;this.storage=e,this.storage.on("titleElementAdded",function(){return t._processFirstTitleElement()})}var t=e.prototype;return t._setProxiedTitleValue=function(){var e=i["default"].get(),t=e.sessionId,r=e.windowId,n=t+"*"+r;o["default"].documentTitleSetter.call(this.storage.getDocument(),n)},t._processFirstTitleElement=function(){var e=this.storage.getFirstTitleElement();if(!e)return!1;if(this.storage.isElementProcessed(e))return!1;var t=o["default"].titleElementTextGetter.call(e);return this.storage.setTitleElementPropertyValue(e,t),this._setProxiedTitleValue(),!0},t.onAttach=function(){this._processFirstTitleElement()},t.onPageTitleLoaded=function(){if(!this._processFirstTitleElement()){var e=this.storage.getFirstTitleElement(),t=this.storage.getSecondTitleElement();if(t){var r=o["default"].titleElementTextGetter.call(t)||o["default"].htmlElementInnerTextGetter.call(t),n=o["default"].titleElementTextGetter.call(e);o["default"].titleElementTextSetter.call(t,n),a["default"](e),this.storage.setTitleElementPropertyValue(t,r)}}},e}();e["default"]=s,t.exports=e["default"]},"title-storage.js":function(e,t,r){function n(e,t){for(var r=0;r<t.length;r++){var n=t[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,n.key,n)}}function i(e,t,r){return t&&n(e.prototype,t),r&&n(e,r),e}function o(e,t){e.prototype=Object.create(t.prototype),e.prototype.constructor=e,a(e,t)}function a(e,t){return(a=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e})(e,t)}var s=function(e){return e&&e.__esModule?e:{"default":e}};Object.defineProperty(e,"__esModule",{value:!0});var l=s(r("../../native-methods")),u=s(r("../../../utils/event-emitter")),c="",d="hammerhead|document-title-storage|internal-prop-name",p=function(e){function t(t){var r;return r=e.call(this)||this,r._document=t,r}o(t,e);var r=t.prototype;return r._ensureFirstTitleElement=function(){var e=this.getFirstTitleElement();return e?e:(e=l["default"].createElement.call(this._document,"title"),l["default"].appendChild.call(this._document.head,e),this.emit("titleElementAdded"),e)},r._getValueFromFirstTitleElement=function(){var e=this.getFirstTitleElement();return e?this.getTitleElementPropertyValue(e):c},r._setValueForFirstTitleElement=function(e){var t=this._ensureFirstTitleElement();this.setTitleElementPropertyValue(t,e)},r._getTitleElement=function(e){return this._document&&this._document.head&&l["default"].elementQuerySelectorAll.call(this._document.head,"title")[e]},r.getFirstTitleElement=function(){return this._getTitleElement(0)},r.getSecondTitleElement=function(){return this._getTitleElement(1)},r.getTitle=function(){return this._getValueFromFirstTitleElement()},r.setTitle=function(e){e=String(e),this._setValueForFirstTitleElement(e)},r.getTitleElementPropertyValue=function(e){return e[d]||c},r.setTitleElementPropertyValue=function(e,t){t=String(t),this.isElementProcessed(e)?e[d]=t:l["default"].objectDefineProperty(e,d,{value:t,writable:!0})},r.getDocument=function(){return this._document},r.isElementProcessed=function(e){return d in e},i(t,null,[{key:"DEFAULT_TITLE_VALUE",get:function(){return c}}]),t}(u["default"]);e["default"]=p,t.exports=e["default"]},"writer.js":function(e,t,r){var n=function(e){return e&&e.__esModule?e:{"default":e}},i=function(e){if(e&&e.__esModule)return e;var t={};if(null!=e)for(var r in e)Object.hasOwnProperty.call(e,r)&&(t[r]=e[r]);return t["default"]=e,t};Object.defineProperty(e,"__esModule",{value:!0});var o=n(r("../../native-methods")),a=i(r("../../../utils/html")),s=r("../../../utils/dom"),l=r("../../../utils/browser"),u=r("../../../../processing/script"),c=n(r("../../../../processing/style")),d=r("../../../utils/url"),p=n(r("../../../../utils/self-removing-scripts")),f="hammerhead_write_marker_begin",h="hammerhead_write_marker_end",m="<"+f+"></"+f+">",v="<"+h+"></"+h+">",g=new RegExp("^[\\S\\s]*"+m,"g"),y=new RegExp(v+"[\\S\\s]*$","g"),E=/^<[^>]+>/g,_=/<\/[^<>]+>$/g,S=/<\/?(?:[A-Za-z][^>]*)?$/g,b="hammerhead|unclosed-element-flag",w=function(){function e(e,t){this.window=e,this.document=t,this.pending="",this.parentTagChain=[],this.isBeginMarkerInDOM=!1,this.isEndMarkerInDOM=!1,this.isClosingContentEl=!1,this.isNonClosedComment=!1,this.isAddContentToEl=!1,this.contentForProcessing="",this.nonClosedEl=null,this.cachedStartsWithClosingTagRegExps={}}var t=e.prototype;return t._cutPending=function(e){var t=e.match(S);return this.pending=t?t[0]:"",this.pending?e.substring(0,e.length-this.pending.length):e},t._wrapHtmlChunk=function(e){var t=this.parentTagChain.length?"<"+this.parentTagChain.join("><")+">":"";return this.isNonClosedComment&&(t+="<!--"),t+m+e+v},t._unwrapHtmlChunk=function(e){return e?(e=e.replace(g,"").replace(y,""),this.isBeginMarkerInDOM||(e=this.isNonClosedComment?e.slice(4):e.replace(E,"")),this.isEndMarkerInDOM||(e=this.isNonClosedComment?e.slice(0,-3):e.replace(_,"")),!this.isBeginMarkerInDOM&&this.isEndMarkerInDOM&&(this.isNonClosedComment=!1),e):e},e._setUnclosedElementFlag=function(e){(s.isScriptElement(e)||s.isStyleElement(e))&&(e[b]=!0)},e.hasUnclosedElementFlag=function(e){return!!e[b]},e._searchBeginMarker=function(e){var t=o["default"].elementQuerySelector.call(e,f);if(t)return t;for(t=e;o["default"].elementFirstElementChildGetter.call(t);)t=o["default"].elementFirstElementChildGetter.call(t);var r=o["default"].nodeParentNodeGetter.call(t);return o["default"].nodeFirstChildGetter.call(r)!==t?t=o["default"].nodeFirstChildGetter.call(r):s.isCommentNode(o["default"].nodeFirstChildGetter.call(t))&&(t=o["default"].nodeFirstChildGetter.call(t)),t},e._searchEndMarker=function(e){var t=o["default"].elementQuerySelector.call(e,h);if(t)return t;for(t=e;o["default"].elementLastElementChildGetter.call(t);)t=o["default"].elementLastElementChildGetter.call(t);var r=o["default"].nodeParentNodeGetter.call(t);return o["default"].nodeLastChildGetter.call(r)!==t?t=o["default"].nodeLastChildGetter.call(r):s.isCommentNode(o["default"].nodeLastChildGetter.call(t))&&(t=o["default"].nodeLastChildGetter.call(t)),t},t._updateParentTagChain=function(e,t){var r=s.getTagName(t)!==h?t:o["default"].nodeParentNodeGetter.call(t);for(s.isCommentNode(t)&&(this.isNonClosedComment=!0,r=o["default"].nodeParentNodeGetter.call(t)),this.parentTagChain=[];r!==e;)this.parentTagChain.unshift(s.getTagName(r)),r=o["default"].nodeParentNodeGetter.call(r)},t._processBeginMarkerInContent=function(t){var r=t;if(e._setUnclosedElementFlag(r),this.isClosingContentEl&&(s.isScriptElement(r)||s.isStyleElement(r)))this.contentForProcessing=o["default"].nodeTextContentGetter.call(this.nonClosedEl)+o["default"].nodeTextContentGetter.call(r).replace(g,""),o["default"].nodeTextContentSetter.call(r,"");else{var n=o["default"].nodeTextContentGetter.call(r);o["default"].nodeTextContentSetter.call(r,n.replace(g,""))}t=o["default"].createElement.call(document,f);var i=o["default"].nodeParentNodeGetter.call(r);o["default"].insertBefore.call(i,t,r)},e._createStartsWithClosingTagRegExp=function(e){for(var t=[e.charAt(e.length-1),"?"],r=e.length-2;r>-1;r--)t.unshift("(?:",e.charAt(r)),t.push(")?");return t.unshift("^</"),t.push("$"),new RegExp(t.join(""),"i")},t._getStartsWithClosingTagRegExp=function(t){return t=t.toLowerCase(),this.cachedStartsWithClosingTagRegExps[t]||(this.cachedStartsWithClosingTagRegExps[t]=e._createStartsWithClosingTagRegExp(t)),this.cachedStartsWithClosingTagRegExps[t]},t._processEndMarkerInContent=function(t){var r=t,n=o["default"].nodeTextContentGetter.call(r);if(e._setUnclosedElementFlag(r),o["default"].nodeTextContentSetter.call(r,n.replace(y,"")),t=o["default"].createElement.call(document,h),this.pending){var i=this._getStartsWithClosingTagRegExp(r.tagName),a=i.test(this.pending);if(!a){var s=o["default"].nodeTextContentGetter.call(r)+this.pending;o["default"].nodeTextContentSetter.call(r,s),this.pending=""}}var l=o["default"].nodeParentNodeGetter.call(r);o["default"].appendChild.call(l,t)},e._addOnDocumentRecreationScript=function(e){var t=o["default"].createElement.call(e.ownerDocument,"span"),r=o["default"].nodeParentNodeGetter.call(e);o["default"].insertBefore.call(r,t,e),o["default"].elementOuterHTMLSetter.call(t,p["default"].onWindowRecreation)},t._prepareDom=function(t,r){var n=e._searchBeginMarker(t),i=e._searchEndMarker(t);this.isBeginMarkerInDOM=s.getTagName(n)===f,this.isEndMarkerInDOM=s.getTagName(i)===h,this.isAddContentToEl=n===i,this.isClosingContentEl=!this.isBeginMarkerInDOM&&!this.isAddContentToEl,this.isAddContentToEl||(this._updateParentTagChain(t,i),r&&e._addOnDocumentRecreationScript(i)),this.isBeginMarkerInDOM||this.isEndMarkerInDOM?this.isBeginMarkerInDOM&&!this.isEndMarkerInDOM?this._processEndMarkerInContent(i):!this.isBeginMarkerInDOM&&this.isEndMarkerInDOM&&this._processBeginMarkerInContent(n):(this._processBeginMarkerInContent(n),this._processEndMarkerInContent(i))},t._processHtmlChunk=function(e,t){var r=this;return e=this._cutPending(this.pending+e),e=this._wrapHtmlChunk(e),e=a.processHtml(e,{prepareDom:function(e){return r._prepareDom(e,t)},processedContext:this.window}),e=this._unwrapHtmlChunk(e),e&&this.isBeginMarkerInDOM&&(l.isFirefox||l.isIE)&&!a.isPageHtml(e)&&(e=p["default"].iframeInit+e),e},t.write=function(e,t,r){var n=this._processHtmlChunk(o["default"].arrayJoin.call(e,""),r);if(this.nonClosedEl&&this.contentForProcessing){var i=this.contentForProcessing;s.isScriptElement(this.nonClosedEl)?i=u.processScript(this.contentForProcessing,!0,!1,d.convertToProxyUrl):s.isStyleElement(this.nonClosedEl)&&(i=c["default"].process(this.contentForProcessing,d.getProxyUrl,!0)),o["default"].nodeTextContentSetter.call(this.nonClosedEl,i),this.contentForProcessing=""}var a=t?o["default"].documentWriteLn:o["default"].documentWrite,p=a.call(this.document,n);if(r&&l.isIE)return p;if(!this.isEndMarkerInDOM&&!this.isAddContentToEl){for(var f=this.document.documentElement;o["default"].elementLastElementChildGetter.call(f);)f=o["default"].elementLastElementChildGetter.call(f);this.nonClosedEl=f}return p},e}();e["default"]=w,t.exports=e["default"]}},"element.js":function(e,t,r){function n(e,t){e.prototype=Object.create(t.prototype),e.prototype.constructor=e,i(e,t)}function i(e,t){return(i=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e})(e,t)}var o=function(e){return e&&e.__esModule?e:{"default":e}},a=function(e){if(e&&e.__esModule)return e;var t={};if(null!=e)for(var r in e)Object.hasOwnProperty.call(e,r)&&(t[r]=e[r]);return t["default"]=e,t};Object.defineProperty(e,"__esModule",{value:!0});var s=o(r("../../../processing/dom/internal-properties")),l=o(r("../base")),u=o(r("../node/index")),c=o(r("../../../processing/dom")),d=o(r("../native-methods")),p=o(r("../../dom-processor")),f=r("../../../processing/script"),h=o(r("../../../processing/style")),m=a(r("../../utils/url")),v=a(r("../../utils/dom")),g=a(r("../upload/hidden-info")),y=a(r("../../utils/url-resolver")),E=r("../../utils/destination-location"),_=r("../../utils/event"),S=r("../../utils/html"),b=r("../../utils/query-selector"),w=r("../../../utils/url"),x=o(r("../../../utils/string-trim")),T=a(r("../windows-storage")),P=r("./attributes"),A=o(r("../shadow-ui")),C=o(r("./live-node-list/dom-mutation-tracker")),I=r("../../../processing/dom/attributes"),O=o(r("../../settings")),M=r("../../utils/overriding"),N=o(r("../../utils/insert-position")),D=r("../../utils/browser"),L=o(r("../../../utils/is-keyword-target")),k=o(r("../../../request-pipeline/builtin-header-names")),j=r("../../utils/url"),R=[k["default"].refresh,k["default"].contentSecurityPolicy],U=function(e){function t(t,r,n,i,o,a){var s;return s=e.call(this)||this,s._nodeSandbox=t,s._uploadSandbox=r,s._iframeSandbox=n,s._shadowUI=i,s._eventSandbox=o,s._childWindowSandbox=a,s.BEFORE_FORM_SUBMIT_EVENT="hammerhead|event|before-form-submit",s.SCRIPT_ELEMENT_ADDED_EVENT="hammerhead|event|script-added",s.overriddenMethods=null,s}n(t,e),t._onTargetChanged=function(e){var t=v.getTagName(e),r=p["default"].getTargetAttr(e);if(c["default"].isIframeFlagTag(t)){var n="";"target"===r?n="form"===t?"action":"href":"formtarget"===r&&(n="formaction");var i=c["default"].getStoredAttrName(n);if(e.hasAttribute(i)){var o=e.getAttribute(i);m.isSupportedProtocol(o)&&e.setAttribute(n,o)}}},t._setProxiedSrc=function(e){if(!e[s["default"].forceProxySrcForImage]){var t=d["default"].imageSrcGetter.call(e),r=!!t&&e.complete&&!e[s["default"].cachedImage];e[s["default"].forceProxySrcForImage]=!0,t&&e.setAttribute("src",t),e[s["default"].skipNextLoadEventForImage]=r}};var r=t.prototype;return r.getAttributeCore=function(e,t,r){var n=String(t[r?1:0]),i=n.toLowerCase(),o=r?t[0]:null,a=r?d["default"].getAttributeNS:d["default"].getAttribute,s=v.getTagName(e);if("style"===i)return h["default"].cleanUp(a.apply(e,t),m.parseProxyUrl);if(p["default"].isUrlAttr(e,i,o)||p["default"].EVENTS.indexOf(i)!==-1||I.ATTRS_WITH_SPECIAL_PROXYING_LOGIC.indexOf(i)!==-1){var l=c["default"].getStoredAttrName(n),u=a.apply(e,r?[o,l]:[l]);if(c["default"].isAddedAutocompleteAttr(i,u))return null;e.hasAttribute(l)&&(t[r?1:0]=l)}else if(!r&&("integrity"===i&&c["default"].isTagWithIntegrityAttr(s)||"rel"===i&&"link"===s||"required"===i&&v.isFileInput(e)||"srcdoc"===i&&"iframe"===s)){var f=c["default"].getStoredAttrName(n);d["default"].hasAttribute.call(e,f)&&(t[0]=f)}return a.apply(e,t)},r.setAttributeCore=function(e,r,n){var i=n?r[0]:null,o=String(r[n?1:0]),a=o.toLowerCase(),l=n?2:1,u=String(r[l]),f=n?d["default"].setAttributeNS:d["default"].setAttribute,g=v.getTagName(e),_=p["default"].isUrlAttr(e,o,i),S=p["default"].EVENTS.indexOf(o)!==-1,b=!1,T=!1,P=m.isSpecialPage(u),A=m.isSupportedProtocol(u);if(_&&!A&&!P||S){var C=c["default"].isJsProtocol(u),I=c["default"].getStoredAttrName(o);(_&&C||S)&&(r[l]=c["default"].processJsAttrValue(u,{isJsProtocol:C,isEventAttr:S})),f.apply(e,n?[i,I,u]:[I,u])}else if(_&&(A||P)){var O=c["default"].getStoredAttrName(o);if(f.apply(e,n?[i,O,u]:[O,u]),"img"!==g||e[s["default"].forceProxySrcForImage]){if("img"===g&&(e[s["default"].skipNextLoadEventForImage]=!1),""!==u&&(!P||"a"===g)){var M="iframe"===g||"frame"===g,N="script"===g,L=A&&!E.sameOriginCheck(location.toString(),u),k=p["default"].getElementResourceType(e),j=N&&e.charset,U=e.ownerDocument||this.document;
if("formaction"===a&&!d["default"].hasAttribute.call(e,"formtarget")&&(k=m.stringifyResourceType({isForm:!0}),e.form&&d["default"].hasAttribute.call(e.form,"action"))){var F=m.parseProxyUrl(d["default"].formActionGetter.call(e.form));F&&(k=F.resourceType)}t._isHrefAttrForBaseElement(e,o)&&v.isElementInDocument(e,U)&&y.updateBase(u,U),r[l]=M&&L?m.getCrossDomainIframeProxyUrl(u):m.getProxyUrl(u,{resourceType:k,charset:j,doc:U})}}else!u||P||m.parseProxyUrl(u)||(r[l]=e[s["default"].forceProxySrcForImage]?m.getProxyUrl(u):m.resolveUrlAsDest(u))}else if("autocomplete"===a){var H=c["default"].getStoredAttrName(o);f.apply(e,n?[i,H,u]:[H,u]),r[l]="off"}else if("target"===a&&c["default"].isTagWithTargetAttr(g)||"formtarget"===a&&c["default"].isTagWithFormTargetAttr(g)){var B=d["default"].getAttribute.call(e,a),V=this.getCorrectedTarget(u);if(V===B)return null;var W=c["default"].getStoredAttrName(o);f.apply(e,n?[i,W,u]:[W,u]),r[l]=V,b=!0}else if("sandbox"===o){var G=c["default"].getStoredAttrName(o),q=u.indexOf("allow-same-origin")!==-1,K=u.indexOf("allow-scripts")!==-1;f.apply(e,n?[i,G,u]:[G,u]),q&&K||(r[l]+=q?"":" allow-same-origin",r[l]+=K?"":" allow-scripts"),e[this._nodeSandbox.win.SANDBOX_DOM_TOKEN_LIST_UPDATE_FN]&&e[this._nodeSandbox.win.SANDBOX_DOM_TOKEN_LIST_UPDATE_FN](u)}else if("meta"===g&&"http-equiv"===o){var z=u.toLowerCase();if(R.indexOf(z)!==-1)return null}else if("xlink:href"===a&&p["default"].SVG_XLINK_HREF_TAGS.indexOf(g)!==-1&&v.isSVGElement(e)){var X=c["default"].getStoredAttrName(o);f.apply(e,n?[i,X,u]:[X,u]),w.HASH_RE.test(u)||(r[l]=m.getProxyUrl(u))}else if("style"===a)r[l]=h["default"].process(u,m.getProxyUrl);else{if(!n&&"integrity"===a&&c["default"].isTagWithIntegrityAttr(g)){var Y=c["default"].getStoredAttrName(o);return f.apply(e,[Y,u])}if(n||"rel"!==a||"link"!==g)if(n||"as"!==a||"link"!==g){if(!n&&"required"===a&&v.isFileInput(e)){var $=c["default"].getStoredAttrName(o);d["default"].removeAttribute.call(e,o),r[0]=$}else if(!n&&"type"===a&&v.isInputElement(e)){var Q=d["default"].getAttribute.call(e,a),J=u.toLowerCase(),Z=c["default"].getStoredAttrName("required"),ee=d["default"].hasAttribute.call(e,Z)?d["default"].getAttribute.call(e,Z):d["default"].getAttribute.call(e,"required"),te=!Q||J!==Q.toLowerCase();te&&null!==ee&&("file"===J?(d["default"].setAttribute.call(e,Z,ee),d["default"].removeAttribute.call(e,"required")):"file"===Q&&(d["default"].setAttribute.call(e,"required",ee),d["default"].removeAttribute.call(e,Z)))}else if(!n&&"srcdoc"===a&&"iframe"===g){var re=c["default"].getStoredAttrName(o);f.apply(e,[re,u]),r[l]=p["default"].adapter.processSrcdocAttr(u)}}else{var ne=d["default"].getAttribute.call(e,"as");T=u!==ne&&(u===p["default"].PROCESSED_PRELOAD_LINK_CONTENT_TYPE||ne===p["default"].PROCESSED_PRELOAD_LINK_CONTENT_TYPE)}else{var ie=d["default"].getAttribute.call(e,"rel"),oe=x["default"](u.toLowerCase()),ae=c["default"].getStoredAttrName(o);T=u!==ie&&(u===p["default"].MODULE_PRELOAD_LINK_REL||ie===p["default"].MODULE_PRELOAD_LINK_REL),"prefetch"===oe?(d["default"].removeAttribute.call(e,o),r[0]=ae):d["default"].removeAttribute.call(e,ae)}}var se=f.apply(e,r);return"img"!==g||e[s["default"].forceProxySrcForImage]||!e.complete||D.isFirefox||(e[s["default"].cachedImage]=!0),b&&t._onTargetChanged(e),T&&d["default"].hasAttribute.call(e,"href")&&this.setAttributeCore(e,["href",d["default"].getAttribute.call(e,"href")]),se},r._hasAttributeCore=function(e,t,r){var n=r?1:0,i=r?d["default"].hasAttributeNS:d["default"].hasAttribute,o=c["default"].getStoredAttrName("autocomplete"),a=d["default"].getAttribute.call(e,o),s=v.getTagName(e);if("string"==typeof t[n]&&c["default"].isAddedAutocompleteAttr(t[n],a))return!1;if(!r&&"integrity"===t[0]&&c["default"].isTagWithIntegrityAttr(s))t[0]=c["default"].getStoredAttrName("integrity");else{if(!r&&"rel"===t[0]&&"link"===s){var l=c["default"].getStoredAttrName(t[0]);return i.apply(e,t)||i.apply(e,[l])}if(!r&&"required"===t[0]&&v.isFileInput(e)){var u=c["default"].getStoredAttrName(t[0]);return i.apply(e,t)||i.call(e,u)}}return i.apply(e,t)},r.removeAttributeCore=function(e,r,n){var i=String(r[n?1:0]),o=i.toLowerCase(),a=n?d["default"].removeAttributeNS:d["default"].removeAttribute,s=v.getTagName(e),l=void 0;if(p["default"].isUrlAttr(e,o,n?r[0]:null)||"sandbox"===o||"autocomplete"===o||p["default"].EVENTS.indexOf(o)!==-1||"target"===o&&c["default"].isTagWithTargetAttr(s)||"formtarget"===o&&c["default"].isTagWithFormTargetAttr(s)){var u=c["default"].getStoredAttrName(i);"autocomplete"===o?d["default"].setAttribute.call(e,u,p["default"].AUTOCOMPLETE_ATTRIBUTE_ABSENCE_MARKER):a.apply(e,n?[r[0],u]:[u])}else if(n||"rel"!==o||"link"!==s){if(!n&&"required"===o&&v.isFileInput(e)){var f=c["default"].getStoredAttrName(i);a.call(e,f)}else if(!n&&"type"===o&&v.isInputElement(e)){var h=c["default"].getStoredAttrName("required");if(d["default"].hasAttribute.call(e,h)){var m=d["default"].getAttribute.call(e,h);d["default"].setAttribute.call(e,"required",m),d["default"].removeAttribute.call(e,h)}}}else{var g=c["default"].getStoredAttrName(i);a.apply(e,[g])}return t._isHrefAttrForBaseElement(e,o)&&y.updateBase(E.get(),this.document),"autocomplete"!==o&&(l=a.apply(e,r)),("target"===o&&c["default"].isTagWithTargetAttr(s)||"formtarget"===o&&c["default"].isTagWithFormTargetAttr(s))&&t._onTargetChanged(e),l},r._addNodeCore=function(e,t,r,n,i){void 0===i&&(i=!0),this._prepareNodesForInsertion(t,e);for(var o=null,a=[],s=0;s<t.length;s++){var l=t[s];if(v.isDocumentFragmentNode(l)){var u=d["default"].nodeChildNodesGetter.call(l);a.push.apply(a,v.nodeListToArray(u))}else"string"!=typeof l&&a.push(l)}o=i&&v.isBodyElementWithChildren(e)&&v.isElementInDocument(e)?this._shadowUI.insertBeforeRoot(t):n.apply(e,r);for(var c=0;c<a.length;c++){var p=a[c];this._onElementAdded(p)}return o},r._removeNodeCore=function(e,t,r,n){this._onRemoveFileInputInfo(r),this._onRemoveIframe(r);var i=n.apply(e,t);return this._onElementRemoved(r),i},r._prepareNodesForInsertion=function(e,r){for(var n=0;n<e.length;n++){var i=e[n];"string"==typeof i?e[n]=t._processTextContent(i,r):v.isTextNode(i)?i.data=t._processTextContent(i.data,r):this._nodeSandbox.processNodes(i)}},r._createOverriddenMethods=function(){var e=this;this.overriddenMethods={appendData:function(e){var r=d["default"].nodeParentNodeGetter.call(this);d["default"].nodeTextContentSetter.call(this,d["default"].nodeTextContentGetter.call(this)+e),r&&(this.data=t._processTextContent(this.data,r))},insertRow:function(){var t=v.isTableElement(this)?d["default"].insertTableRow:d["default"].insertTBodyRow,r=t.apply(this,arguments);return e._nodeSandbox.processNodes(r),r},insertCell:function(){var t=d["default"].insertCell.apply(this,arguments);return e._nodeSandbox.processNodes(t),t},insertAdjacentHTML:function(){for(var t=arguments.length,r=new Array(t),n=0;n<t;n++)r[n]=arguments[n];var i=r[0],o=r[1],a=this,l=d["default"].nodeParentNodeGetter.call(a);r.length>1&&null!==o&&(r[1]=S.processHtml(String(o),{parentTag:l&&l.tagName,processedContext:a[s["default"].processedContext]})),d["default"].insertAdjacentHTML.apply(a,r),e._nodeSandbox.processNodes(l||a),i===N["default"].afterBegin||i===N["default"].beforeEnd?C["default"].onChildrenChanged(a):l&&C["default"].onChildrenChanged(l)},formSubmit:function(){e._ensureTargetContainsExistingBrowsingContext(this);var t={form:this,preventSubmit:!1};return e.emit(e.BEFORE_FORM_SUBMIT_EVENT,t),t.preventSubmit?null:d["default"].formSubmit.apply(this,arguments)},insertBefore:function(){for(var t=arguments.length,r=new Array(t),n=0;n<t;n++)r[n]=arguments[n];return e._addNodeCore(this,[r[0]],r,d["default"].insertBefore,!r[1])},appendChild:function(){for(var t=arguments.length,r=new Array(t),n=0;n<t;n++)r[n]=arguments[n];return e._addNodeCore(this,[r[0]],r,d["default"].appendChild)},append:function(){for(var t=arguments.length,r=new Array(t),n=0;n<t;n++)r[n]=arguments[n];return e._addNodeCore(this,r,r,d["default"].append)},removeChild:function(){for(var t=[],r=arguments.length,n=0;n<r;n++)t.push(arguments[n]);return e._removeNodeCore(this,t,t[0],d["default"].removeChild)},remove:function(){for(var t=arguments.length,r=new Array(t),n=0;n<t;n++)r[n]=arguments[n];return e._removeNodeCore(this,r,this,d["default"].remove)},replaceChild:function(){for(var r=arguments.length,n=new Array(r),i=0;i<r;i++)n[i]=arguments[i];var o=n[0],a=n[1];v.isTextNode(o)&&(o.data=t._processTextContent(o.data,this)),e._onRemoveFileInputInfo(a);var s=d["default"].replaceChild.apply(this,arguments);return e._onAddFileInputInfo(o),C["default"].onElementChanged(o),C["default"].onElementChanged(a),s},cloneNode:function(){var t=d["default"].cloneNode.apply(this,arguments);return e._nodeSandbox.processNodes(t),t},attachShadow:function(){for(var e=arguments.length,t=new Array(e),r=0;r<e;r++)t[r]=arguments[r];var n=d["default"].attachShadow.apply(this,t);return d["default"].objectDefineProperty(n,v.SHADOW_ROOT_PARENT_ELEMENT,{value:this}),n},getAttribute:function(){return e.getAttributeCore(this,arguments)},getAttributeNS:function(){return e.getAttributeCore(this,arguments,!0)},setAttribute:function(){var t=e.setAttributeCore(this,arguments);return P.refreshAttributesWrapper(this),t},setAttributeNS:function(){var t=e.setAttributeCore(this,arguments,!0);return P.refreshAttributesWrapper(this),t},removeAttribute:function(){var t=e.removeAttributeCore(this,arguments);return P.refreshAttributesWrapper(this),t},removeAttributeNS:function(){var t=e.removeAttributeCore(this,arguments,!0);return P.refreshAttributesWrapper(this),t},querySelector:function(){return"string"==typeof arguments[0]&&(arguments[0]=u["default"].processSelector(arguments[0])),b.getNativeQuerySelector(this).apply(this,arguments)},querySelectorAll:function(){return"string"==typeof arguments[0]&&(arguments[0]=u["default"].processSelector(arguments[0])),b.getNativeQuerySelectorAll(this).apply(this,arguments)},hasAttribute:function(){return e._hasAttributeCore(this,arguments,!1)},hasAttributeNS:function(){return e._hasAttributeCore(this,arguments,!0)},hasAttributes:function(){return 2===d["default"].elementAttributesGetter.call(this).length&&d["default"].elementAttributesGetter.call(this).getNamedItem("autocomplete")&&d["default"].elementAttributesGetter.call(this).getNamedItem(c["default"].getStoredAttrName("autocomplete"))?e._hasAttributeCore(this,["autocomplete"],!1):d["default"].hasAttributes.apply(this,arguments)},anchorToString:function(){return j.getDestinationUrl(d["default"].anchorToString.call(this))},registerElement:function(){for(var e=arguments.length,t=new Array(e),r=0;r<e;r++)t[r]=arguments[r];var n=t[1];if(n&&n.prototype&&n.prototype.createdCallback){var i=n.prototype.createdCallback;n.prototype.createdCallback=function(){S.isInternalHtmlParserElement(this)||i.call(this)}}return d["default"].registerElement.apply(this,t)}}},t._processTextContent=function(e,t){return t.tagName?v.isScriptElement(t)?f.processScript(e,!0,!1,m.convertToProxyUrl):v.isStyleElement(t)?h["default"].process(e,m.getProxyUrl):e:e},t._isHrefAttrForBaseElement=function(e,t){return v.isBaseElement(e)&&"href"===t},t._removeFileInputInfo=function(e){g.removeInputInfo(e)},t._hasShadowUIParentOrContainsShadowUIClassPostfix=function(e){var t=d["default"].nodeParentNodeGetter.call(e);return t&&v.isShadowUIElement(t)||A["default"].containsShadowUIClassPostfix(e)},r._isFirstBaseTagOnPage=function(e){var t=e.ownerDocument||this.document;return d["default"].querySelector.call(t,"base")===e},r._onAddFileInputInfo=function(e){if(v.isDomElement(e))for(var t=v.getFileInputs(e),r=0;r<t.length;r++){var n=t[r];this.addFileInputInfo(n)}},r._onRemoveFileInputInfo=function(e){v.isDomElement(e)&&(v.isFileInput(e)?t._removeFileInputInfo(e):v.find(e,"input[type=file]",t._removeFileInputInfo))},r._onRemoveIframe=function(e){v.isDomElement(e)&&v.isIframeElement(e)&&T.remove(d["default"].contentWindowGetter.call(e))},r._onElementAdded=function(e){if(t._hasShadowUIParentOrContainsShadowUIClassPostfix(e)&&A["default"].markElementAndChildrenAsShadow(e),(v.isDomElement(e)||v.isDocument(e))&&v.isElementInDocument(e)){for(var r=v.getIframes(e),n=0;n<r.length;n++){var i=r[n];this.onIframeAddedToDOM(i),T.add(d["default"].contentWindowGetter.call(i))}for(var o=v.getScripts(e),a=0;a<o.length;a++){var s=o[a];this.emit(this.SCRIPT_ELEMENT_ADDED_EVENT,{el:s})}C["default"].onElementChanged(e)}if((v.isInputElement(e)||v.isButtonElement(e))&&e.form&&d["default"].hasAttribute.call(e,"formaction")&&e.setAttribute("formaction",e.getAttribute("formaction")),v.isBodyElement(e)&&this._shadowUI.onBodyElementMutation(),this._onAddFileInputInfo(e),v.isBaseElement(e)&&this._isFirstBaseTagOnPage(e)){var l=c["default"].getStoredAttrName("href"),u=e.getAttribute(l);null!==u&&y.updateBase(u,this.document)}},r._onElementRemoved=function(e){if(v.isBodyElement(e))this._shadowUI.onBodyElementMutation();else if(v.isBaseElement(e)){var t=d["default"].querySelector.call(this.document,"base"),r=t&&t.getAttribute(c["default"].getStoredAttrName("href"));y.updateBase(r||E.get(),this.document)}C["default"].onElementChanged(e)},r.addFileInputInfo=function(e){var t=this._uploadSandbox.infoManager;g.addInputInfo(e,t.getFiles(e),t.getValue(e))},r.onIframeAddedToDOM=function(e){v.isCrossDomainIframe(e,!0)||this._nodeSandbox.mutation.onIframeAddedToDOM(e)},r.attach=function(r){e.prototype.attach.call(this,r),this._createOverriddenMethods(),M.overrideFunction(r.Element.prototype,"setAttribute",this.overriddenMethods.setAttribute),M.overrideFunction(r.Element.prototype,"setAttributeNS",this.overriddenMethods.setAttributeNS),M.overrideFunction(r.Element.prototype,"getAttribute",this.overriddenMethods.getAttribute),M.overrideFunction(r.Element.prototype,"getAttributeNS",this.overriddenMethods.getAttributeNS),M.overrideFunction(r.Element.prototype,"removeAttribute",this.overriddenMethods.removeAttribute),M.overrideFunction(r.Element.prototype,"removeAttributeNS",this.overriddenMethods.removeAttributeNS),M.overrideFunction(r.Element.prototype,"cloneNode",this.overriddenMethods.cloneNode),M.overrideFunction(r.Element.prototype,"querySelector",this.overriddenMethods.querySelector),M.overrideFunction(r.Element.prototype,"querySelectorAll",this.overriddenMethods.querySelectorAll),M.overrideFunction(r.Element.prototype,"hasAttribute",this.overriddenMethods.hasAttribute),M.overrideFunction(r.Element.prototype,"hasAttributeNS",this.overriddenMethods.hasAttributeNS),M.overrideFunction(r.Element.prototype,"hasAttributes",this.overriddenMethods.hasAttributes),d["default"].attachShadow&&M.overrideFunction(r.Element.prototype,"attachShadow",this.overriddenMethods.attachShadow),M.overrideFunction(r.Node.prototype,"cloneNode",this.overriddenMethods.cloneNode),M.overrideFunction(r.Node.prototype,"appendChild",this.overriddenMethods.appendChild),M.overrideFunction(r.Node.prototype,"removeChild",this.overriddenMethods.removeChild),M.overrideFunction(r.Node.prototype,"insertBefore",this.overriddenMethods.insertBefore),M.overrideFunction(r.Node.prototype,"replaceChild",this.overriddenMethods.replaceChild),d["default"].append&&M.overrideFunction(r.Element.prototype,"append",this.overriddenMethods.append),d["default"].remove&&M.overrideFunction(r.Element.prototype,"remove",this.overriddenMethods.remove),M.overrideFunction(r.DocumentFragment.prototype,"querySelector",this.overriddenMethods.querySelector),M.overrideFunction(r.DocumentFragment.prototype,"querySelectorAll",this.overriddenMethods.querySelectorAll),M.overrideFunction(r.HTMLTableElement.prototype,"insertRow",this.overriddenMethods.insertRow),M.overrideFunction(r.HTMLTableSectionElement.prototype,"insertRow",this.overriddenMethods.insertRow),M.overrideFunction(r.HTMLTableRowElement.prototype,"insertCell",this.overriddenMethods.insertCell),M.overrideFunction(r.HTMLFormElement.prototype,"submit",this.overriddenMethods.formSubmit),M.overrideFunction(r.HTMLAnchorElement.prototype,"toString",this.overriddenMethods.anchorToString),M.overrideFunction(r.CharacterData.prototype,"appendData",this.overriddenMethods.appendData),r.Document.prototype.registerElement&&M.overrideFunction(r.Document.prototype,"registerElement",this.overriddenMethods.registerElement),r.Element.prototype.insertAdjacentHTML?M.overrideFunction(r.Element.prototype,"insertAdjacentHTML",this.overriddenMethods.insertAdjacentHTML):r.HTMLElement.prototype.insertAdjacentHTML&&M.overrideFunction(r.HTMLElement.prototype,"insertAdjacentHTML",this.overriddenMethods.insertAdjacentHTML),this._setValidBrowsingContextOnElementClick(r),this._eventSandbox.listeners.on(this._eventSandbox.listeners.EVENT_LISTENER_ATTACHED_EVENT,function(e){"load"===e.eventType&&v.isImgElement(e.el)&&t._setProxiedSrc(e.el)}),M.overrideDescriptor(r.HTMLElement.prototype,"onload",{getter:null,setter:function(e){v.isImgElement(this)&&_.isValidEventListener(e)&&t._setProxiedSrc(this),d["default"].htmlElementOnloadSetter.call(this,e)}})},r._ensureTargetContainsExistingBrowsingContext=function(e){if(!O["default"].get().allowMultipleWindows&&d["default"].hasAttribute.call(e,"target")){var t=d["default"].getAttribute.call(e,"target"),r=d["default"].getAttribute.call(e,c["default"].getStoredAttrName("target"));e.setAttribute("target",r||t)}},r._setValidBrowsingContextOnElementClick=function(e){var t=this;this._eventSandbox.listeners.initElementListening(e,["click"]),this._eventSandbox.listeners.addInternalEventBeforeListener(e,["click"],function(e){var r=e.target;v.isInputElement(r)&&r.form&&(r=r.form);var n=v.getTagName(r);c["default"].isTagWithTargetAttr(n)&&t._ensureTargetContainsExistingBrowsingContext(r)})},r._setProxiedSrcUrlOnError=function(e){e.addEventListener("error",function(t){var r=d["default"].getAttribute.call(e,c["default"].getStoredAttrName("src")),n=d["default"].imageSrcGetter.call(e);r&&!m.parseProxyUrl(n)&&m.isSupportedProtocol(n)&&!m.isSpecialPage(n)&&(d["default"].setAttribute.call(e,"src",m.getProxyUrl(r)),_.stopPropagation(t))},!1)},r.getCorrectedTarget=function(e){return void 0===e&&(e=""),O["default"].get().allowMultipleWindows?e:e&&!L["default"](e)&&!T.findByName(e)||/_blank/i.test(e)?"_top":e},r._handleImageLoadEventRaising=function(e){this._eventSandbox.listeners.initElementListening(e,["load"]),this._eventSandbox.listeners.addInternalEventBeforeListener(e,["load"],function(t,r,n,i,o){e[s["default"].cachedImage]&&(e[s["default"].cachedImage]=!1),e[s["default"].skipNextLoadEventForImage]&&(e[s["default"].skipNextLoadEventForImage]=!1,n(),o())}),e[s["default"].forceProxySrcForImage]||O["default"].get().forceProxySrcForImage||this._setProxiedSrcUrlOnError(e)},r._processBaseTag=function(e){if(this._isFirstBaseTagOnPage(e)){var t=d["default"].getAttribute.call(e,c["default"].getStoredAttrName("href"));null!==t&&y.updateBase(t,e.ownerDocument||this.document)}},r._reProcessElementWithTargetAttr=function(e,t){var r=p["default"].getTargetAttr(e);c["default"].isIframeFlagTag(t)&&"_parent"===d["default"].getAttribute.call(e,r)&&p["default"].processElement(e,m.convertToProxyUrl)},r.processElement=function(e){var t=v.getTagName(e);switch(t){case"a":this._childWindowSandbox.handleClickOnLinkOrArea(e);break;case"img":this._handleImageLoadEventRaising(e);break;case"iframe":case"frame":this._iframeSandbox.processIframe(e);break;case"base":this._processBaseTag(e);break;case"area":this._childWindowSandbox.handleClickOnLinkOrArea(e)}this._reProcessElementWithTargetAttr(e,t)},t}(l["default"]);e["default"]=U,t.exports=e["default"]},"index.js":function(e,t,r){function n(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function i(e,t){e.prototype=Object.create(t.prototype),e.prototype.constructor=e,o(e,t)}function o(e,t){return(o=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e})(e,t)}var a=function(e){return e&&e.__esModule?e:{"default":e}},s=function(e){if(e&&e.__esModule)return e;var t={};if(null!=e)for(var r in e)Object.hasOwnProperty.call(e,r)&&(t[r]=e[r]);return t["default"]=e,t};Object.defineProperty(e,"__esModule",{value:!0});var l=a(r("../../../processing/dom/internal-properties")),u=a(r("../base")),c=a(r("./window")),d=a(r("./document")),p=a(r("./element")),f=a(r("../../../processing/dom")),h=a(r("../../dom-processor")),m=s(r("../../utils/dom")),v=r("../../utils/query-selector"),g=a(r("../native-methods")),y=r("../../../processing/dom/attributes"),E=a(r("../../../processing/dom/internal-attributes")),_=s(r("../../utils/browser")),S=a(r("./document/title-storage")),b=a(r("./document/title-storage-initializer")),w=r("../../utils/dom"),x=/\[([\w-]+)(\^?=.+?)]/g,T=/^\W+\s*#/,P=/\s*:focus\b/gi,A=/:hover\b/gi,C=function(e){function t(r,i,o,a,s,u,f){var h;return h=e.call(this)||this,h.mutation=r,h.iframeSandbox=i,h._eventSandbox=o,h._uploadSandbox=a,h.shadowUI=s,h._cookieSandbox=u,h._childWindowSandbox=f,h.raiseBodyCreatedEvent=h._onBodyCreated,g["default"].objectDefineProperty(document,l["default"].documentCharset,{value:m.parseDocumentCharset(),writable:!0}),h._documentTitleStorageInitializer=t._createDocumentTitleStorageInitializer(),h.doc=new d["default"](n(h),h.shadowUI,h._cookieSandbox,h._documentTitleStorageInitializer),h.win=new c["default"](n(h),h._eventSandbox,h._uploadSandbox,h.mutation,h._childWindowSandbox,h._documentTitleStorageInitializer),h.element=new p["default"](n(h),h._uploadSandbox,h.iframeSandbox,h.shadowUI,h._eventSandbox,h._childWindowSandbox),h}i(t,e),t._createDocumentTitleStorageInitializer=function(){if(w.isIframeWindow(window))return null;var e=new S["default"](document);return new b["default"](e)};var r=t.prototype;return r._onBodyCreated=function(){this._eventSandbox.listeners.initDocumentBodyListening(this.document),this.mutation.onBodyCreated(this.document.body)},r._processElement=function(e){var t=e[l["default"].processedContext];if(!m.isShadowUIElement(e)&&t!==this.window){var r=null;t&&(r=h["default"].getUrlAttr(e),r=r&&e.hasAttribute(r)?r:null);var n=g["default"].objectIsExtensible(e),i=t&&!g["default"].objectIsFrozen(e);(n||i)&&g["default"].objectDefineProperty(e,l["default"].processedContext,{value:this.window,writable:!0}),r&&e.setAttribute(r,e.getAttribute(r)),this.element.processElement(e)}},r.onOriginFirstTitleElementInHeadLoaded=function(){this._documentTitleStorageInitializer&&this._documentTitleStorageInitializer.onPageTitleLoaded()},r.processNodes=function(e,t){if(e){if(e.querySelectorAll){e.nodeType!==Node.DOCUMENT_FRAGMENT_NODE&&this._processElement(e);for(var r=v.getNativeQuerySelectorAll(e).call(e,"*"),n=g["default"].nodeListLengthGetter.call(r),i=0;i<n;i++)this._processElement(r[i])}}else t=t||this.document,t.documentElement&&this.processNodes(t.documentElement)},r.attach=function(t){var r=this,n=t.document,i=!1;e.prototype.attach.call(this,t,n),this._documentTitleStorageInitializer&&this._documentTitleStorageInitializer.onAttach(),this.iframeSandbox.on(this.iframeSandbox.IFRAME_DOCUMENT_CREATED_EVENT,function(e){var t=e.iframe,n=g["default"].contentWindowGetter.call(t),i=g["default"].contentDocumentGetter.call(t),o=new r.nativeMethods.constructor(i,n);n[l["default"].iframeNativeMethods]=o,r.doc.attach(n,i,!0)}),g["default"].objectDefineProperty(t,l["default"].processDomMethodName,{value:function(e,t){i||r.shadowUI.onBodyElementMutation(),r.processNodes(e,t)},configurable:!0}),n.addEventListener("DOMContentLoaded",function(){i=!0,r.processNodes(null,n)},!1),this.doc.attach(t,n),this.win.attach(t),this.element.attach(t)},t._processAttributeSelector=function(e){return x.test(e)?e+","+e.replace(x,function(e,t,r){return y.URL_ATTRS.indexOf(t)===-1||T.test(r)?e:(t=f["default"].getStoredAttrName(t),"["+t+r+"]")}):e},t._processPseudoClassSelectors=function(e){return _.isIE||(e=e.replace(P,"["+E["default"].focusPseudoClass+"]")),e=e.replace(A,"["+E["default"].hoverPseudoClass+"]")},t.processSelector=function(e){return e&&(e=t._processPseudoClassSelectors(e),e=t._processAttributeSelector(e)),e},t}(u["default"]);e["default"]=C,t.exports=e["default"]},"live-node-list":{"dom-mutation-tracker.js":function(e,t,r){var n=function(e){return e&&e.__esModule?e:{"default":e}};Object.defineProperty(e,"__esModule",{value:!0});var i=n(r("../../native-methods")),o=r("../../../utils/dom"),a=r("../../../utils/query-selector"),s=n(r("../../../utils/integer-id-generator")),l=function(){function e(){var e=this;this._mutations=i["default"].objectCreate(null),this._isDomContentLoaded=!1,i["default"].addEventListener.call(document,"DOMContentLoaded",function(){for(var t=0,r=i["default"].objectKeys(e._mutations);t<r.length;t++){var n=r[t];e._updateVersion(n)}e._isDomContentLoaded=!0})}var t=e.prototype;return t._updateVersion=function(e){e in this._mutations&&this._mutations[e].increment()},t._processElement=function(e){if(e.tagName&&!o.isShadowUIElement(e)){var t=o.getTagName(e);this._updateVersion("*"),this._updateVersion(t)}},t._processChildren=function(e){if(e.querySelectorAll)for(var t=a.getNativeQuerySelectorAll(e).call(e,"*"),r=i["default"].nodeListLengthGetter.call(t),n=0;n<r;n++)this._processElement(t[n])},t.onElementChanged=function(e){this._processElement(e),this._processChildren(e)},t.onChildrenChanged=function(e){this._processChildren(e)},t.isDomContentLoaded=function(){return this._isDomContentLoaded},t.isOutdated=function(e,t){var r=e in this._mutations;r||(this._mutations[e]=new s["default"]);var n=this._mutations[e].value;return t<n},t.getVersion=function(e){return e in this._mutations?this._mutations[e].value:-(1/0)},e}();e["default"]=new l,t.exports=e["default"]},"html-collection-wrapper.js":function(e,t,r){function n(e,t){for(var r=0;r<t.length;r++){var n=t[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,n.key,n)}}function i(e,t,r){return t&&n(e.prototype,t),r&&n(e,r),e}function o(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function a(e,t){e.prototype=Object.create(t.prototype),e.prototype.constructor=e,s(e,t)}function s(e,t){return(s=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e})(e,t)}function l(e){for(var t=function(e){var t=y++;h["default"].objectDefineProperty(_.prototype,t,{get:function(){this.item(t)}})},r=0;r<e;r++)t(r)}function u(e,t,r){if(t!==r){for(var n=function(){var r=t++;h["default"].objectDefineProperty(e,r,{enumerable:!0,configurable:!0,get:function(){return e.item(r)}})};t<r;)n();for(;t>r;)delete e[--t];var i=y-g;r>i&&l(r-i)}}function c(e,t,r){if(r){for(var n=0;n<t.length;n++){var i=t[n];r.indexOf(i)===-1&&delete e[i]}for(var o=function(t){var n=r[t];return e._collection[n]?void h["default"].objectDefineProperty(e,n,{configurable:!0,get:function(){return this._refreshCollection(),e._collection[n]}}):"continue"},a=0;a<r.length;a++){o(a)}}}function d(e,t){var r=e._collection,n=e._namedProps?[]:null,i=e._filteredCollection;i.length=0;for(var o=0;o<t;o++){var a=r[o];if(!m.isShadowUIElement(a)&&(i.push(a),n)){var s=h["default"].getAttribute.call(a,"name");null!==s&&n.push(s)}}return n}var p=function(e){return e&&e.__esModule?e:{"default":e}};Object.defineProperty(e,"__esModule",{value:!0});var f=p(r("./dom-mutation-tracker")),h=p(r("../../native-methods")),m=r("../../../utils/dom"),v=["button","fieldset","form","iframe","input","map","meta","object","output","param","select","textarea"],g=10,y=0,E=function(){};E.prototype=HTMLCollection.prototype;var _=function(e){function t(t,r){var n;return n=e.call(this)||this,r=r.toLowerCase(),h["default"].objectDefineProperties(o(n),{_collection:{value:t},_filteredCollection:{value:[]},_tagName:{value:r},_version:{value:-(1/0),writable:!0},_namedProps:{value:v.indexOf(r)!==-1?[]:null},_lastNativeLength:{value:0,writable:!0}}),n._refreshCollection(),n}a(t,e);var r=t.prototype;return r.item=function(e){return this._refreshCollection(),this._filteredCollection[e]},r._refreshCollection=function(){var e=this._lastNativeLength,t=h["default"].htmlCollectionLengthGetter.call(this._collection);if(this._lastNativeLength=t,f["default"].isOutdated(this._tagName,this._version)||!f["default"].isDomContentLoaded()&&e!==t){var r=this._filteredCollection.length,n=d(this,t);this._version=f["default"].getVersion(this._tagName),u(this,r,this._filteredCollection.length),c(this,this._namedProps,n)}},i(t,[{key:"length",get:function(){return this._refreshCollection(),this._filteredCollection.length}}]),t}(E);e["default"]=_;var S={constructor:{value:_.constructor,configurable:!0,enumerable:!1,writable:!0},_refreshCollection:{value:_.prototype._refreshCollection,enumerable:!1}};HTMLCollection.prototype.namedItem&&(S.namedItem={value:function(){this._refreshCollection();for(var e=arguments.length,t=new Array(e),r=0;r<e;r++)t[r]=arguments[r];var n=this._collection.namedItem.apply(this._collection,t);return n&&m.isShadowUIElement(n)?null:n},enumerable:!0,configurable:!0,writable:!0}),h["default"].objectDefineProperties(_.prototype,S),l(g),t.exports=e["default"]}},"mutation.js":function(e,t,r){function n(e,t){e.prototype=Object.create(t.prototype),e.prototype.constructor=e,i(e,t)}function i(e,t){return(i=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e})(e,t)}var o=function(e){return e&&e.__esModule?e:{"default":e}};Object.defineProperty(e,"__esModule",{value:!0});var a=o(r("../../utils/event-emitter")),s=function(e){function t(){var t;return t=e.apply(this,arguments)||this,t.BEFORE_DOCUMENT_CLEANED_EVENT="hammerhead|event|before-document-cleaned",t.DOCUMENT_CLEANED_EVENT="hammerhead|event|document-cleaned",t.DOCUMENT_CLOSED_EVENT="hammerhead|event|document-closed",t.BODY_CONTENT_CHANGED_EVENT="hammerhead|event|body-content-changed",t.BODY_CREATED_EVENT="hammerhead|event|body-created",t.IFRAME_ADDED_TO_DOM_EVENT="hammerhead|event|iframe-added-to-dom",t}n(t,e);var r=t.prototype;return r.onIframeAddedToDOM=function(e){this.emit(this.IFRAME_ADDED_TO_DOM_EVENT,e)},r.onBeforeDocumentCleaned=function(e){this.emit(this.BEFORE_DOCUMENT_CLEANED_EVENT,e)},r.onDocumentCleaned=function(e,t){this.emit(this.DOCUMENT_CLEANED_EVENT,{window:e,document:t})},r.onDocumentClosed=function(e){this.emit(this.DOCUMENT_CLOSED_EVENT,e)},r.onBodyContentChanged=function(e){this.emit(this.BODY_CONTENT_CHANGED_EVENT,e)},r.onBodyCreated=function(e){this.emit(this.BODY_CREATED_EVENT,e)},t}(a["default"]);e["default"]=s,t.exports=e["default"]},"window.js":function(e,t,r){function n(e,t){e.prototype=Object.create(t.prototype),e.prototype.constructor=e,i(e,t)}function i(e,t){return(i=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e})(e,t)}var o=function(e){return e&&e.__esModule?e:{"default":e}},a=function(e){if(e&&e.__esModule)return e;var t={};if(null!=e)for(var r in e)Object.hasOwnProperty.call(e,r)&&(t[r]=e[r]);return t["default"]=e,t};Object.defineProperty(e,"__esModule",{value:!0});var s=o(r("../base")),l=o(r("../shadow-ui")),u=o(r("../native-methods")),c=r("../../../processing/script"),d=o(r("../../../processing/style")),p=a(r("../../utils/destination-location")),f=r("../../utils/html"),h=r("../../utils/url"),m=r("../../utils/browser"),v=r("../../utils/dom"),g=r("../../utils/types"),y=o(r("../../../processing/dom/internal-attributes")),E=o(r("../../../processing/dom/internal-properties")),_=o(r("../../utils/constructor-is-called-without-new-keyword")),S=o(r("../../../processing/script/instruction")),b=o(r("pinkie")),w=o(r("../../utils/get-mime-type")),x=r("../../utils/overriding"),T=r("../../utils/feature-detection"),P=r("../../../utils/url"),A=o(r("../upload")),C=r("../code-instrumentation/properties/anchor"),I=o(r("../code-instrumentation")),O=r("../../../processing/dom/namespaces"),M=o(r("../../utils/url-resolver")),N=r("../../../processing/script/header"),D=o(r("./live-node-list/dom-mutation-tracker")),L=r("./attributes"),k=r("../../../utils/stack-processing"),j=o(r("../../settings")),R=o(r("../child-window/default-target")),U=r("../../utils/query-selector"),F=r("../../worker/set-settings-command"),H=r("../../utils/dom"),B=function(){
for(var e=[],t=u["default"].objectKeys(S["default"]),r=0;r<t.length;r++){var n=t[r];e.push(S["default"][n])}return e}(),V=/^http/i,W=["https:","wss:","file:"],G=["localhost","127.0.0.1"],q=["text/javascript","application/javascript","application/x-javascript"],K="hammerhead|context-svg-image-element",z="hammerhead|sandbox-dom-token-list",X="hammerhead|sandbox-dom-token-list-owner",Y="hammerhead|sandbox-dom-token-list-update",$="hammerhead|is-proxy-object|internal-prop-name",Q="hammerhead|is-proxy-object|internal-prop-value",J="hammerhead|proxy-handler-flag",Z="No stack trace available",ee="Error",te=["error","unhandledrejection","hashchange"],re=function(e){function t(t,r,n,i,o,a){var s;return s=e.call(this)||this,s._childWindowSandbox=o,s._documentTitleStorageInitializer=a,s.UNCAUGHT_JS_ERROR_EVENT="hammerhead|event|uncaught-js-error",s.UNHANDLED_REJECTION_EVENT="hammerhead|event|unhandled-rejection",s.HASH_CHANGE_EVENT="hammerhead|event|hashchange-event",s.nodeSandbox=t,s.messageSandbox=r.message,s.listenersSandbox=r.listeners,s.elementEditingWatcher=r.elementEditingWatcher,s.eventSimulator=r.eventSimulator,s.uploadSandbox=n,s.shadowUI=t.shadowUI,s.nodeMutation=i,s.SANDBOX_DOM_TOKEN_LIST_UPDATE_FN=Y,s}n(t,e),t._prepareStack=function(e,t){return t&&t.indexOf(e)!==-1?t:(t=t||"    "+Z,e+"\n"+t)},t._isProcessableBlobParts=function(e){for(var t=!1,r=0;r<e.length;r++){var n=e[r];if(t||"string"!=typeof n){if("string"!=typeof n&&"number"!=typeof n&&"boolean"!=typeof n)return!1}else t=!0}return t},t._isProcessableBlob=function(e,r){var n=r&&r.type&&r.type.toString().toLowerCase()||w["default"](e);return(!n||q.indexOf(n)!==-1)&&t._isProcessableBlobParts(e)};var r=t.prototype;return r._getWindowOpenTarget=function(e){return e?this.nodeSandbox.element.getCorrectedTarget(String(e)):j["default"].get().allowMultipleWindows?R["default"].windowOpen:"_self"},r._raiseUncaughtJsErrorEvent=function(e,r,n){if(!v.isCrossDomainWindows(n,n.top)){var i=H.isIframeWindow(n),o=p.get(),a=null,s=null;e===this.UNHANDLED_REJECTION_EVENT?(a=t._formatUnhandledRejectionReason(r.reason),s=r.reason&&r.reason.stack):e===this.UNCAUGHT_JS_ERROR_EVENT&&(a=r.error?r.error.message:r.message,s=r.error&&r.error.stack),s=t._prepareStack(a,s),s=k.replaceProxiedUrlsInStack(s),i?(this.emit(e,{msg:a,pageUrl:o,stack:s,inIframe:!0}),this.messageSandbox.sendServiceMsg({msg:a,pageUrl:o,stack:s,cmd:e},n.top)):this.emit(e,{msg:a,pageUrl:o,stack:s})}},r._reattachHandler=function(e,t){var r=u["default"].windowAddEventListener||u["default"].addEventListener,n=u["default"].windowRemoveEventListener||u["default"].removeEventListener;n.call(e,t,this),r.call(e,t,this)},t._formatUnhandledRejectionReason=function(e){if(!g.isPrimitiveType(e)){if(e instanceof u["default"].Error){var t=e.name||ee;return t+": "+e.message}return u["default"].objectToString.call(e)}return String(e)},t._getUrlAttr=function(e,t){var r=u["default"].getAttribute.call(e,t),n=e.ownerDocument||document;return""===r||null===r&&"action"===t&&T.emptyActionAttrFallbacksToTheLocation?M["default"].resolve("",n):null===r?"":P.HASH_RE.test(r)?M["default"].resolve(r,n):P.isValidUrl(r)?h.resolveUrlAsDest(r):M["default"].resolve(r,n)},t._removeProcessingInstructions=function(e){return e?(e=N.remove(e),d["default"].cleanUp(e,h.parseProxyUrl)):e},t._processTextPropValue=function(e,t){var r=null!==t&&void 0!==t?String(t):t;if(r){if(v.isScriptElement(e))return c.processScript(r,!0,!1,h.convertToProxyUrl);if(v.isStyleElement(e))return d["default"].process(r,h.getProxyUrl,!0)}return r},r._overrideUrlAttrDescriptors=function(e,r){for(var n=this,i=0;i<r.length;i++){var o=r[i];x.overrideDescriptor(o.prototype,e,{getter:function(){return t._getUrlAttr(this,e)},setter:function(t){n.nodeSandbox.element.setAttributeCore(this,[e,t])}})}},r._overrideAttrDescriptors=function(e,t){for(var r=this,n=0;n<t.length;n++){var i=t[n];x.overrideDescriptor(i.prototype,e,{getter:function(){return r.nodeSandbox.element.getAttributeCore(this,[e])||""},setter:function(t){r.nodeSandbox.element.setAttributeCore(this,[e,t])}})}},r._overrideUrlPropDescriptor=function(e,t,r){x.overrideDescriptor(window.HTMLAnchorElement.prototype,e,{getter:function(){return C.getAnchorProperty(this,t)},setter:function(e){C.setAnchorProperty(this,r,e)}})},r._overrideEventPropDescriptor=function(e,t,r){var n=this,i=u["default"].isEventPropsLocatedInProto?e.Window.prototype:e;x.overrideDescriptor(i,"on"+t,{getter:null,setter:function(i){r.call(e,i),n.listenersSandbox.emit(n.listenersSandbox.EVENT_LISTENER_ATTACHED_EVENT,{el:e,listener:i,eventType:t})}})},r._createOverriddenDOMTokenListMethod=function(e){var t=this;return function(){var r=e.apply(this,arguments),n=this[X];return n&&t.nodeSandbox.element.setAttributeCore(n,["sandbox",this.toString()]),r}},t._isSecureOrigin=function(e){var t=h.parseUrl(h.resolveUrlAsDest(e));return W.indexOf(t.protocol)===-1&&G.indexOf(t.hostname)===-1},r._setSandboxedTextForTitleElements=function(e){if(!H.isIframeWindow(window))for(var t=U.getNativeQuerySelectorAll(e).call(e,"title"),r=0;r<t.length;r++){var n=t[r];if(v.isTitleElement(n)){var i=u["default"].titleElementTextGetter.call(n);this._documentTitleStorageInitializer.storage.setTitleElementPropertyValue(n,i)}}},t.isProxyObject=function(e){try{return e[$]===Q}catch(t){return!1}},r.handleEvent=function(e){e.defaultPrevented||("unhandledrejection"===e.type?this._raiseUncaughtJsErrorEvent(this.UNHANDLED_REJECTION_EVENT,e,this.window):"error"===e.type?e.message.indexOf("NS_ERROR_NOT_INITIALIZED")!==-1?e.preventDefault():this._raiseUncaughtJsErrorEvent(this.UNCAUGHT_JS_ERROR_EVENT,e,window):"hashchange"===e.type&&this.emit(this.HASH_CHANGE_EVENT))},r.attach=function(r){var n=this;e.prototype.attach.call(this,r);var i=this.messageSandbox,o=this.nodeSandbox,a=this;if(u["default"].arrayForEach.call(te,function(e){n._reattachHandler(r,e)}),this.listenersSandbox.initElementListening(r,te),this.listenersSandbox.on(this.listenersSandbox.EVENT_LISTENER_ATTACHED_EVENT,function(e){e.el===r&&te.indexOf(e.eventType)!==-1&&n._reattachHandler(r,e.eventType)}),this._overrideEventPropDescriptor(r,"error",u["default"].winOnErrorSetter),this._overrideEventPropDescriptor(r,"hashchange",u["default"].winOnHashChangeSetter),u["default"].winOnUnhandledRejectionSetter&&this._overrideEventPropDescriptor(r,"unhandledrejection",u["default"].winOnUnhandledRejectionSetter),i.on(i.SERVICE_MSG_RECEIVED_EVENT,function(e){var t=e.message,r=t.msg,i=t.pageUrl,o=t.stack,s=t.cmd;s!==n.UNCAUGHT_JS_ERROR_EVENT&&s!==n.UNHANDLED_REJECTION_EVENT||a.emit(s,{msg:r,pageUrl:i,stack:o})}),x.overrideFunction(r.CanvasRenderingContext2D.prototype,"drawImage",function(){for(var e=this,t=arguments.length,n=new Array(t),i=0;i<t;i++)n[i]=arguments[i];var o=n[0];if(v.isImgElement(o)&&!o[E["default"].forceProxySrcForImage]){var a=u["default"].imageSrcGetter.call(o);p.sameOriginCheck(location.toString(),a)&&(o=u["default"].createElement.call(r.document,"img"),u["default"].imageSrcSetter.call(o,h.getProxyUrl(a)),n[0]=o,o.complete||u["default"].addEventListener.call(o,"load",function(){return u["default"].canvasContextDrawImage.apply(e,n)}))}return u["default"].canvasContextDrawImage.apply(this,n)}),u["default"].objectAssign&&x.overrideFunction(r.Object,"assign",function(e){for(var t=[e],n=typeof e,i=arguments.length,o=new Array(i>1?i-1:0),a=1;a<i;a++)o[a-1]=arguments[a];if(e&&("object"===n||"function"===n)&&o.length)for(var s=0;s<o.length;s++){var l=o[s],c=typeof l;if(!l||"object"!==c&&"function"!==c)u["default"].objectAssign.call(this,e,l);else for(var d=u["default"].objectGetOwnPropertySymbols.call(r.Object,l),p=u["default"].arrayConcat.call(u["default"].objectKeys.call(r.Object,l),d),f=0;f<p.length;f++){var h=p[f];r[S["default"].setProperty](e,h,l[h])}}else t=u["default"].arrayConcat.call(t,o);return u["default"].objectAssign.apply(this,t)}),x.overrideFunction(r,"open",function(){for(var e=arguments.length,t=new Array(e),n=0;n<e;n++)t[n]=arguments[n];return t[0]=h.getProxyUrl(t[0]),t[1]=a._getWindowOpenTarget(t[1]),a._childWindowSandbox.handleWindowOpen(r,t)}),r.FontFace&&x.overrideConstructor(r,"FontFace",function(e,t,r){return t=d["default"].process(t,h.convertToProxyUrl),new u["default"].FontFace(e,t,r)}),r.Worker&&x.overrideConstructor(r,"Worker",function w(){for(var e=arguments.length,t=new Array(e),r=0;r<e;r++)t[r]=arguments[r];var n=_["default"](this,w);if(0===arguments.length)return n?u["default"].Worker():new u["default"].Worker;if(n)return u["default"].Worker.apply(this,t);var i=t[0];"string"!=typeof i&&(i=String(i)),i=h.getProxyUrl(i,{resourceType:h.stringifyResourceType({isScript:!0})});var o=1===arguments.length?new u["default"].Worker(i):new u["default"].Worker(i,t[1]);return"blob:"==h.parseUrl(i).protocol&&o.postMessage({cmd:F.SET_BLOB_WORKER_SETTINGS,sessionId:j["default"].get().sessionId,windowId:j["default"].get().windowId,origin:p.getOriginHeader()}),o},!0),r.Blob&&x.overrideConstructor(r,"Blob",function(e,r){return 0===arguments.length?new u["default"].Blob:(t._isProcessableBlob(e,r)&&(e=[c.processScript(e.join(""),!0,!1,h.convertToProxyUrl)]),1===arguments.length?new u["default"].Blob(e):new u["default"].Blob(e,r))}),u["default"].File&&x.overrideConstructor(r,"File",function(e,r,n){return 0===arguments.length?new u["default"].File:(t._isProcessableBlob(e,n)&&(e=[c.processScript(e.join(""),!0,!1,h.convertToProxyUrl)]),new u["default"].File(e,r,n))}),r.EventSource&&(x.overrideConstructor(r,"EventSource",function(e,t){if(arguments.length){var r=h.getProxyUrl(e,{resourceType:h.stringifyResourceType({isEventSource:!0})});return 1===arguments.length?new u["default"].EventSource(r):new u["default"].EventSource(r,t)}return new u["default"].EventSource}),r.EventSource.CONNECTING=u["default"].EventSource.CONNECTING,r.EventSource.OPEN=u["default"].EventSource.OPEN,r.EventSource.CLOSED=u["default"].EventSource.CLOSED),r.MutationObserver&&(x.overrideConstructor(r,"MutationObserver",function(e){var t=function(t){for(var r=[],n=0;n<t.length;n++){var i=t[n];l["default"].isShadowUIMutation(i)||r.push(i)}r.length&&e.call(this,r,this)};return new u["default"].MutationObserver(t)}),r.WebKitMutationObserver&&(r.WebKitMutationObserver=r.MutationObserver)),r.Proxy&&(x.overrideConstructor(r,"Proxy",function(e,t){if(t.get&&!t.get[J]){var n=t.get;t.get=function(e,t,i){if(t===$)return Q;if(B.indexOf(t)>-1)return r[t];var o=n.call(this,e,t,i);return"eval"===t&&o[I["default"].WRAPPED_EVAL_FN]?o[I["default"].WRAPPED_EVAL_FN]:o},u["default"].objectDefineProperty(t.get,J,{value:!0,enumerable:!1})}return new u["default"].Proxy(e,t)}),r.Proxy.revocable=u["default"].Proxy.revocable),u["default"].registerServiceWorker&&x.overrideFunction(r.navigator.serviceWorker,"register",function(){for(var e=arguments.length,n=new Array(e),i=0;i<e;i++)n[i]=arguments[i];var o=n[0],a=n[1];if("string"==typeof o){if(t._isSecureOrigin(o))return b["default"].reject(m.isAndroid||m.isMSEdge&&m.version>=17?new Error("Only secure origins are allowed."):new DOMException("Only secure origins are allowed.","SecurityError"));n[0]=h.getProxyUrl(o,{resourceType:h.stringifyResourceType({isServiceWorker:!0})})}return n[1]={scope:"/"},u["default"].registerServiceWorker.apply(r.navigator.serviceWorker,n).then(function(e){return new b["default"](function(t,r){var i=h.parseProxyUrl(n[0]),s=e.installing;if(!s)return void t(e);var l=new u["default"].MessageChannel;s.postMessage({cmd:F.SET_SERVICE_WORKER_SETTINGS,currentScope:h.getScope(o),optsScope:h.getScope(a&&a.scope),protocol:i.destResourceInfo.protocol,host:i.destResourceInfo.host},[l.port1]),l.port2.onmessage=function(n){var i=u["default"].messageEventDataGetter.call(n);i.error?r(new Error(i.error)):t(e)}})})}),u["default"].getRegistrationServiceWorker&&x.overrideFunction(r.navigator.serviceWorker,"getRegistration",function(){for(var e=arguments.length,t=new Array(e),n=0;n<e;n++)t[n]=arguments[n];return"string"==typeof t[0]&&(t[0]="/"),u["default"].getRegistrationServiceWorker.apply(r.navigator.serviceWorker,t)}),r.Range.prototype.createContextualFragment&&x.overrideFunction(r.Range.prototype,"createContextualFragment",function(){for(var e=arguments.length,t=new Array(e),r=0;r<e;r++)t[r]=arguments[r];var n=t[0];"string"==typeof n&&(t[0]=f.processHtml(n,{processedContext:this.startContainer&&this.startContainer[E["default"].processedContext]}));var i=u["default"].createContextualFragment.apply(this,t);return o.processNodes(i),i}),r.EventTarget){var s=this.listenersSandbox.createOverriddenMethods();x.overrideFunction(r.EventTarget.prototype,"addEventListener",s.addEventListener),x.overrideFunction(r.EventTarget.prototype,"removeEventListener",s.removeEventListener)}if(x.overrideConstructor(r,"Image",function(){var e=null;return e=arguments.length?1===arguments.length?new u["default"].Image(arguments[0]):new u["default"].Image(arguments[0],arguments[1]):new u["default"].Image,e[E["default"].forceProxySrcForImage]=!0,o.processNodes(e),e}),x.overrideConstructor(r,"Function",function(){for(var e=arguments.length,t=new Array(e),r=0;r<e;r++)t[r]=arguments[r];var n=t.length-1;return"string"==typeof t[n]&&(t[n]=c.processScript(t[n],!1,!1,h.convertToProxyUrl)),u["default"].Function.apply(this,t)},!0),x.overrideFunction(r.Function.prototype,"toString",function(){return u["default"].objectHasOwnProperty.call(this,E["default"].nativeStrRepresentation)?this[E["default"].nativeStrRepresentation]:u["default"].functionToString.call(this)}),"function"==typeof r.history.pushState&&"function"==typeof r.history.replaceState){var g=function(e){return function(){for(var t=arguments.length,r=new Array(t),n=0;n<t;n++)r[n]=arguments[n];var i=r[2];return r.length>2&&null!==i&&(m.isIE||void 0!==i)&&(r[2]=h.getProxyUrl(i)),e.apply(this,r)}};x.overrideFunction(r.history,"pushState",g(u["default"].historyPushState)),x.overrideFunction(r.history,"replaceState",g(u["default"].historyReplaceState))}r.navigator.sendBeacon&&x.overrideFunction(r.navigator,"sendBeacon",function(){return"string"==typeof arguments[0]&&(arguments[0]=h.getProxyUrl(arguments[0])),u["default"].sendBeacon.apply(this,arguments)}),r.navigator.registerProtocolHandler&&x.overrideFunction(r.navigator,"registerProtocolHandler",function(){for(var e=1,t=arguments.length,r=new Array(t),n=0;n<t;n++)r[n]=arguments[n];if("string"==typeof r[e]){var i=p.getParsed().hostname,o=!1;if(m.isFirefox){var a=h.parseUrl(r[e]);o=a.hostname&&i===a.hostname}else o=p.sameOriginCheck(p.get(),r[e]);o&&(r[e]=h.getProxyUrl(r[e]))}return u["default"].registerProtocolHandler.apply(navigator,r)}),r.FormData&&x.overrideFunction(r.FormData.prototype,"append",function(){for(var e=arguments.length,t=new Array(e),r=0;r<e;r++)t[r]=arguments[r];var n=t[0],i=t[1];n!==y["default"].uploadInfoHiddenInputName&&(2===t.length&&v.isBlob(i)&&"name"in i&&(t[2]=i.name),u["default"].formDataAppend.apply(this,t))}),r.WebSocket&&(x.overrideConstructor(r,"WebSocket",function(e,t){if(0===arguments.length)return new u["default"].WebSocket;var r=h.getProxyUrl(e,{resourceType:h.stringifyResourceType({isWebSocket:!0})});return 1===arguments.length?new u["default"].WebSocket(r):2===arguments.length?new u["default"].WebSocket(r,t):new u["default"].WebSocket(r,t,arguments[2])}),r.WebSocket.CONNECTING=u["default"].WebSocket.CONNECTING,r.WebSocket.OPEN=u["default"].WebSocket.OPEN,r.WebSocket.CLOSING=u["default"].WebSocket.CLOSING,r.WebSocket.CLOSED=u["default"].WebSocket.CLOSED,u["default"].webSocketUrlGetter&&x.overrideDescriptor(r.WebSocket.prototype,"url",{getter:function(){var e=u["default"].webSocketUrlGetter.call(this),t=h.parseProxyUrl(e);return t&&t.destUrl?t.destUrl.replace(V,"ws"):e}})),x.overrideDescriptor(r.MessageEvent.prototype,"origin",{getter:function(){var e=this.target,t=u["default"].messageEventOriginGetter.call(this);if(v.isWebSocket(e)){var r=h.parseUrl(e.url);if(r)return r.protocol+"//"+r.host}else if(v.isWindow(e)){var n=u["default"].messageEventDataGetter.call(this);if(n)return n.originUrl}return t}}),x.overrideDescriptor(r.HTMLCollection.prototype,"length",{getter:function(){var e=u["default"].htmlCollectionLengthGetter.call(this);return l["default"].isShadowContainerCollection(this,e)?a.shadowUI.getShadowUICollectionLength(this,e):e}}),x.overrideDescriptor(r.NodeList.prototype,"length",{getter:function(){var e=u["default"].nodeListLengthGetter.call(this);return l["default"].isShadowContainerCollection(this)?a.shadowUI.getShadowUICollectionLength(this,e):e}}),x.overrideDescriptor(r.Element.prototype,"childElementCount",{getter:function(){if(l["default"].isShadowContainer(this)){var e=u["default"].htmlCollectionLengthGetter.call(this.children);return a.shadowUI.getShadowUICollectionLength(this.children,e)}return u["default"].elementChildElementCountGetter.call(this)}}),u["default"].performanceEntryNameGetter&&x.overrideDescriptor(r.PerformanceEntry.prototype,"name",{getter:function(){var e=u["default"].performanceEntryNameGetter.call(this);if(v.isPerformanceNavigationTiming(this)){var t=h.parseProxyUrl(e);if(t)return t.destUrl}return e}}),x.overrideDescriptor(r.HTMLInputElement.prototype,"files",{getter:function(){return"file"===this.type.toLowerCase()?A["default"].getFiles(this):u["default"].inputFilesGetter.call(this)}}),x.overrideDescriptor(r.HTMLInputElement.prototype,"value",{getter:function(){return"file"===this.type.toLowerCase()?A["default"].getUploadElementValue(this):u["default"].inputValueGetter.call(this)},setter:function(e){if("file"===this.type.toLowerCase())return a.uploadSandbox.setUploadElementValue(this,e);u["default"].inputValueSetter.call(this,e);var t=e!==u["default"].inputValueGetter.call(this);t&&!v.isShadowUIElement(this)&&v.isTextEditableElementAndEditingAllowed(this)&&a.elementEditingWatcher.restartWatchingElementEditing(this)}}),m.isChrome&&x.overrideDescriptor(r.HTMLInputElement.prototype,"disabled",{getter:null,setter:function(e){if(u["default"].documentActiveElementGetter.call(document)===this){var t=a.elementEditingWatcher.getElementSavedValue(this),r=u["default"].inputValueGetter.call(this);a.elementEditingWatcher.isEditingObserved(this)&&r!==t&&a.eventSimulator.change(this),a.elementEditingWatcher.stopWatching(this)}u["default"].inputDisabledSetter.call(this,e)}}),x.overrideDescriptor(r.HTMLInputElement.prototype,"required",{getter:function(){return null!==a.nodeSandbox.element.getAttributeCore(this,["required"])},setter:function(e){"file"!==this.type.toLowerCase()?u["default"].inputRequiredSetter.call(this,e):e?a.nodeSandbox.element.setAttributeCore(this,["required",""]):a.nodeSandbox.element.removeAttributeCore(this,["required"])}}),x.overrideDescriptor(r.HTMLTextAreaElement.prototype,"value",{getter:null,setter:function(e){u["default"].textAreaValueSetter.call(this,e),!v.isShadowUIElement(this)&&v.isTextEditableElementAndEditingAllowed(this)&&a.elementEditingWatcher.restartWatchingElementEditing(this)}}),this._overrideUrlAttrDescriptors("data",[r.HTMLObjectElement]),this._overrideUrlAttrDescriptors("src",[r.HTMLImageElement,r.HTMLScriptElement,r.HTMLEmbedElement,r.HTMLSourceElement,r.HTMLMediaElement,r.HTMLInputElement,r.HTMLFrameElement,r.HTMLIFrameElement]),this._overrideUrlAttrDescriptors("action",[r.HTMLFormElement]),this._overrideUrlAttrDescriptors("formAction",[r.HTMLInputElement,r.HTMLButtonElement]),this._overrideUrlAttrDescriptors("href",[r.HTMLAnchorElement,r.HTMLLinkElement,r.HTMLAreaElement,r.HTMLBaseElement]),u["default"].htmlManifestGetter&&this._overrideUrlAttrDescriptors("manifest",[r.HTMLHtmlElement]),this._overrideAttrDescriptors("target",[r.HTMLAnchorElement,r.HTMLFormElement,r.HTMLAreaElement,r.HTMLBaseElement]),this._overrideAttrDescriptors("formTarget",[r.HTMLInputElement,r.HTMLButtonElement]),this._overrideAttrDescriptors("autocomplete",[r.HTMLInputElement]),u["default"].scriptIntegrityGetter&&u["default"].linkIntegrityGetter&&(this._overrideAttrDescriptors("integrity",[r.HTMLScriptElement]),this._overrideAttrDescriptors("integrity",[r.HTMLLinkElement])),this._overrideAttrDescriptors("rel",[r.HTMLLinkElement]),u["default"].linkAsSetter&&this._overrideAttrDescriptors("as",[r.HTMLLinkElement]),x.overrideDescriptor(r.HTMLInputElement.prototype,"type",{getter:null,setter:function(e){a.nodeSandbox.element.setAttributeCore(this,["type",e])}}),x.overrideDescriptor(r.HTMLIFrameElement.prototype,"sandbox",{getter:function(){var e=this[z];if(!e){var t=u["default"].createElement.call(document,"span");e=u["default"].elementClassListGetter.call(t),t.className=a.nodeSandbox.element.getAttributeCore(this,["sandbox"])||"",u["default"].objectDefineProperty(e,X,{value:this}),u["default"].objectDefineProperty(this,z,{value:e}),u["default"].objectDefineProperty(this,Y,{value:function(e){t.className=e}})}return e},setter:function(e){a.nodeSandbox.element.setAttributeCore(this,["sandbox",e]),this[Y]&&this[Y](a.nodeSandbox.element.getAttributeCore(this,["sandbox"])||"")}}),u["default"].iframeSrcdocGetter&&x.overrideDescriptor(r.HTMLIFrameElement.prototype,"srcdoc",{getter:function(){return a.nodeSandbox.element.getAttributeCore(this,["srcdoc"])||""},setter:function(e){a.nodeSandbox.element.setAttributeCore(this,["srcdoc",e])}}),this._overrideUrlPropDescriptor("port",u["default"].anchorPortGetter,u["default"].anchorPortSetter),this._overrideUrlPropDescriptor("host",u["default"].anchorHostGetter,u["default"].anchorHostSetter),this._overrideUrlPropDescriptor("hostname",u["default"].anchorHostnameGetter,u["default"].anchorHostnameSetter),this._overrideUrlPropDescriptor("pathname",u["default"].anchorPathnameGetter,u["default"].anchorPathnameSetter),this._overrideUrlPropDescriptor("protocol",u["default"].anchorProtocolGetter,u["default"].anchorProtocolSetter),this._overrideUrlPropDescriptor("search",u["default"].anchorSearchGetter,u["default"].anchorSearchSetter),x.overrideDescriptor(r.SVGImageElement.prototype,"href",{getter:function(){var e=u["default"].svgImageHrefGetter.call(this);return e[K]||u["default"].objectDefineProperty(e,K,{value:this,configurable:!0}),e}}),x.overrideDescriptor(r.SVGAnimatedString.prototype,"baseVal",{getter:function(){var e=u["default"].svgAnimStrBaseValGetter.call(this);return this[K]&&(e=h.getDestinationUrl(e)),e},setter:function(e){var t=this[K];if(t){var r=u["default"].hasAttributeNS.call(t,O.XLINK_NAMESPACE,"href");a.nodeSandbox.element.setAttributeCore(t,[r?"xlink:href":"href",e]),e=h.getProxyUrl(e)}u["default"].svgAnimStrBaseValSetter.call(this,e)}}),x.overrideDescriptor(r.SVGAnimatedString.prototype,"animVal",{getter:function(){var e=u["default"].svgAnimStrAnimValGetter.call(this);return this[K]?h.getDestinationUrl(e):e}}),u["default"].anchorOriginGetter&&x.overrideDescriptor(r.HTMLAnchorElement.prototype,"origin",{getter:function(){return C.getAnchorProperty(this,u["default"].anchorOriginGetter)}}),x.overrideDescriptor(r.StyleSheet.prototype,"href",{getter:function(){return h.getDestinationUrl(u["default"].styleSheetHrefGetter.call(this))}}),u["default"].cssStyleSheetHrefGetter&&x.overrideDescriptor(r.CSSStyleSheet.prototype,"href",{getter:function(){return h.getDestinationUrl(u["default"].cssStyleSheetHrefGetter.call(this))}}),u["default"].nodeBaseURIGetter&&x.overrideDescriptor(r.Node.prototype,"baseURI",{getter:function(){return h.getDestinationUrl(u["default"].nodeBaseURIGetter.call(this))}}),r.DOMParser&&x.overrideFunction(r.DOMParser.prototype,"parseFromString",function(){for(var e=arguments.length,t=new Array(e),r=0;r<e;r++)t[r]=arguments[r];var n,i=t[0],o=t[1];t.length>1&&"string"==typeof i&&"text/html"===o&&(n=f.processHtml(i),t[0]=n);var a=u["default"].DOMParserParseFromString.apply(this,t);return n&&l["default"].removeSelfRemovingScripts(a),a}),x.overrideDescriptor(r.Node.prototype,"firstChild",{getter:function(){return l["default"].isShadowContainer(this)?a.shadowUI.getFirstChild(this):u["default"].nodeFirstChildGetter.call(this)}}),x.overrideDescriptor(r.Element.prototype,"firstElementChild",{getter:function(){return l["default"].isShadowContainer(this)?a.shadowUI.getFirstElementChild(this):u["default"].elementFirstElementChildGetter.call(this)}}),x.overrideDescriptor(r.Node.prototype,"lastChild",{getter:function(){return l["default"].isShadowContainer(this)?a.shadowUI.getLastChild(this):u["default"].nodeLastChildGetter.call(this)}}),x.overrideDescriptor(r.Element.prototype,"lastElementChild",{getter:function(){return l["default"].isShadowContainer(this)?a.shadowUI.getLastElementChild(this):u["default"].elementLastElementChildGetter.call(this)}}),x.overrideDescriptor(r.Node.prototype,"nextSibling",{getter:function(){return a.shadowUI.getNextSibling(this)}}),x.overrideDescriptor(r.Node.prototype,"previousSibling",{getter:function(){return a.shadowUI.getPrevSibling(this)}}),x.overrideDescriptor(r.Element.prototype,"nextElementSibling",{getter:function(){return a.shadowUI.getNextElementSibling(this)}}),x.overrideDescriptor(r.Element.prototype,"previousElementSibling",{getter:function(){return a.shadowUI.getPrevElementSibling(this)}}),x.overrideDescriptor(r[u["default"].elementHTMLPropOwnerName].prototype,"innerHTML",{getter:function(){if(a._documentTitleStorageInitializer&&v.isTitleElement(this))return a._documentTitleStorageInitializer.storage.getTitleElementPropertyValue(this);var e=u["default"].elementInnerHTMLGetter.call(this);return v.isScriptElement(this)?N.remove(e):v.isStyleElement(this)?d["default"].cleanUp(e,h.parseProxyUrl):f.cleanUpHtml(e)},setter:function(e){if(a._documentTitleStorageInitializer&&v.isTitleElement(this))return void a._documentTitleStorageInitializer.storage.setTitleElementPropertyValue(this,e);var t=this,n=v.isStyleElement(t),i=v.isScriptElement(t),o=null!==e&&void 0!==e?String(e):e;if(o&&(o=n?d["default"].process(o,h.getProxyUrl,!0):i?c.processScript(o,!0,!1,h.convertToProxyUrl):f.processHtml(o,{parentTag:t.tagName,processedContext:t[E["default"].processedContext]})),n||i||D["default"].onChildrenChanged(t),u["default"].elementInnerHTMLSetter.call(t,o),a._setSandboxedTextForTitleElements(t),!n&&!i){if(D["default"].onChildrenChanged(t),a.document.body===t){var s=a.shadowUI.getRoot();a.shadowUI.markShadowUIContainers(a.document.head,t),l["default"].markElementAndChildrenAsShadow(s)}else v.isShadowUIElement(t)&&l["default"].markElementAndChildrenAsShadow(t);var p=v.findDocument(t),m=p?p.defaultView:null;m&&m!==r&&m[E["default"].processDomMethodName]?m[E["default"].processDomMethodName](t,p):r[E["default"].processDomMethodName]&&r[E["default"].processDomMethodName](t),r.self&&(v.isHtmlElement(t)||v.isBodyElement(t))&&u["default"].setTimeout.call(r,function(){return a.nodeMutation.onBodyContentChanged(t)},0)}}}),x.overrideDescriptor(r[u["default"].elementHTMLPropOwnerName].prototype,"outerHTML",{getter:function(){var e=u["default"].elementOuterHTMLGetter.call(this);return f.cleanUpHtml(e)},setter:function(e){var t=this,n=u["default"].nodeParentNodeGetter.call(t);if(D["default"].onElementChanged(t),n&&null!==e&&void 0!==e){var i=v.findDocument(n),o=i?i.defaultView:null;u["default"].elementOuterHTMLSetter.call(t,f.processHtml(String(e),{parentTag:n&&n.tagName,processedContext:t[E["default"].processedContext]})),a._setSandboxedTextForTitleElements(n),D["default"].onChildrenChanged(n),o&&o!==r&&o[E["default"].processDomMethodName]?o[E["default"].processDomMethodName](n,i):r[E["default"].processDomMethodName]&&r[E["default"].processDomMethodName](n),r.self&&v.isBodyElement(t)&&u["default"].setTimeout.call(r,function(){return a.shadowUI.onBodyElementMutation()},0)}else u["default"].elementOuterHTMLSetter.call(t,e)}}),x.overrideDescriptor(r.HTMLElement.prototype,"innerText",{getter:function(){if(a._documentTitleStorageInitializer&&v.isTitleElement(this))return a._documentTitleStorageInitializer.storage.getTitleElementPropertyValue(this);var e=u["default"].htmlElementInnerTextGetter.call(this);return t._removeProcessingInstructions(e)},setter:function(e){if(a._documentTitleStorageInitializer&&v.isTitleElement(this))return void a._documentTitleStorageInitializer.storage.setTitleElementPropertyValue(this,e);var r=t._processTextPropValue(this,e);D["default"].onChildrenChanged(this),u["default"].htmlElementInnerTextSetter.call(this,r)}}),x.overrideDescriptor(r.HTMLScriptElement.prototype,"text",{getter:function(){var e=u["default"].scriptTextGetter.call(this);return N.remove(e)},setter:function(e){var t=e?c.processScript(String(e),!0,!1,h.convertToProxyUrl):e;u["default"].scriptTextSetter.call(this,t)}}),x.overrideDescriptor(r.HTMLAnchorElement.prototype,"text",{getter:function(){var e=u["default"].anchorTextGetter.call(this);return t._removeProcessingInstructions(e)},setter:function(e){var r=t._processTextPropValue(this,e);D["default"].onChildrenChanged(this),u["default"].anchorTextSetter.call(this,r)}}),x.overrideDescriptor(r.Node.prototype,"textContent",{getter:function(){if(a._documentTitleStorageInitializer&&v.isTitleElement(this))return a._documentTitleStorageInitializer.storage.getTitleElementPropertyValue(this);var e=u["default"].nodeTextContentGetter.call(this);return t._removeProcessingInstructions(e)},setter:function(e){if(a._documentTitleStorageInitializer&&v.isTitleElement(this))return void a._documentTitleStorageInitializer.storage.setTitleElementPropertyValue(this,e);var r=t._processTextPropValue(this,e);D["default"].onChildrenChanged(this),u["default"].nodeTextContentSetter.call(this,r)}}),x.overrideDescriptor(r[u["default"].elementAttributesPropOwnerName].prototype,"attributes",{getter:function(){return L.getAttributes(this)}}),x.overrideFunction(r.DOMTokenList.prototype,"add",this._createOverriddenDOMTokenListMethod(u["default"].tokenListAdd)),x.overrideFunction(r.DOMTokenList.prototype,"remove",this._createOverriddenDOMTokenListMethod(u["default"].tokenListRemove)),x.overrideFunction(r.DOMTokenList.prototype,"toggle",this._createOverriddenDOMTokenListMethod(u["default"].tokenListToggle)),u["default"].tokenListReplace&&x.overrideFunction(r.DOMTokenList.prototype,"replace",this._createOverriddenDOMTokenListMethod(u["default"].tokenListReplace)),u["default"].tokenListSupports&&x.overrideFunction(r.DOMTokenList.prototype,"supports",function(){if(this[X]){var e=u["default"].iframeSandboxGetter.call(this[X]);return u["default"].tokenListSupports.apply(e,arguments)}return u["default"].tokenListSupports.apply(this,arguments)}),u["default"].tokenListValueSetter&&x.overrideDescriptor(r.DOMTokenList.prototype,"value",{getter:null,setter:function(e){var t=this[X];u["default"].tokenListValueSetter.call(this,e),t&&a.nodeSandbox.element.setAttributeCore(t,["sandbox",this.value])}}),x.overrideFunction(r.DOMImplementation.prototype,"createHTMLDocument",function(){for(var e=arguments.length,t=new Array(e),r=0;r<e;r++)t[r]=arguments[r];var n=u["default"].createHTMLDocument.apply(this,t);return M["default"].init(n),n}),x.overrideDescriptor(r.MutationRecord.prototype,"nextSibling",{getter:function(){var e=u["default"].mutationRecordNextSiblingGetter.call(this);return a.shadowUI.getMutationRecordNextSibling(e)}}),x.overrideDescriptor(r.MutationRecord.prototype,"previousSibling",{getter:function(){var e=u["default"].mutationRecordPrevSiblingGetter.call(this);return a.shadowUI.getMutationRecordPrevSibling(e)}}),u["default"].windowOriginGetter&&x.overrideDescriptor(r,"origin",{getter:function(){var e=u["default"].windowOriginGetter.call(this);if(!e||"null"===e)return e;var t=v.getFrameElement(a.window);if(t){var r=a.nodeSandbox.element.getAttributeCore(t,["sandbox"]);if("string"==typeof r&&r.indexOf("allow-same-origin")===-1)return"null"}var n=p.getParsed();return n&&"file:"===n.protocol?"null":p.getOriginHeader()},setter:function(e){return u["default"].windowOriginSetter.call(this,e)}}),this._documentTitleStorageInitializer&&x.overrideDescriptor(r.HTMLTitleElement.prototype,"text",{getter:function(){return a._documentTitleStorageInitializer.storage.getTitleElementPropertyValue(this)},setter:function(e){a._documentTitleStorageInitializer.storage.setTitleElementPropertyValue(this,e)}})},t}(s["default"]);e["default"]=re,t.exports=e["default"];
}},"shadow-ui.js":function(e,t,r){function n(e,t){e.prototype=Object.create(t.prototype),e.prototype.constructor=e,i(e,t)}function i(e,t){return(i=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e})(e,t)}var o=function(e){return e&&e.__esModule?e:{"default":e}},a=function(e){if(e&&e.__esModule)return e;var t={};if(null!=e)for(var r in e)Object.hasOwnProperty.call(e,r)&&(t[r]=e[r]);return t["default"]=e,t};Object.defineProperty(e,"__esModule",{value:!0});var s=o(r("../../processing/dom/internal-properties")),l=o(r("./base")),u=o(r("./node/index")),c=o(r("./native-methods")),d=a(r("../utils/dom")),p=o(r("../dom-processor")),f=r("../utils/position"),h=o(r("../../shadow-ui/class-name")),m=r("../utils/style"),v=r("../utils/event"),g=r("../utils/query-selector"),y=o(r("./node/live-node-list/html-collection-wrapper")),E=r("../utils/feature-detection"),_=r("../utils/browser"),S=o(r("../utils/remove-element")),b=r("../utils/overriding"),w=/fixed|relative|absolute/,x=/\.((?:\\.|[-\w]|[^\x00-\xa0])+)/g,T="hammerhead|shadow-ui|container-flag",P="hammerhead|shadow-ui|container-collection-flag",A="hammerhead|shadow-ui|html-collection-wrapper",C=function(e){function t(t,r,n,i){var o;return o=e.call(this)||this,o._nodeMutation=t,o._messageSandbox=r,o._iframeSandbox=n,o._ieDebugSandbox=i,o.BODY_CONTENT_CHANGED_COMMAND="hammerhead|command|body-content-changed",o.ROOT_CLASS="root",o.ROOT_ID="root",o.HIDDEN_CLASS="hidden",o.BLIND_CLASS="blind",o.root=null,o.lastActiveElement=null,o.uiStyleSheetsHtmlBackup=null,o.wrapperCreators=o._createWrapperCreators(),o._initEventCallbacks(),o}n(t,e);var r=t.prototype;return r._initEventCallbacks=function(){var e=this;this.runTaskScriptEventCallback=function(t){var r=c["default"].contentDocumentGetter.call(t),n=r.head,i=r.body;e._restoreUIStyleSheets(n,e._getUIStyleSheetsHtml()),e.markShadowUIContainers(n,i)},this.beforeDocumentCleanedEventCallback=function(){e.uiStyleSheetsHtmlBackup=e._getUIStyleSheetsHtml()},this.documentCleanedEventCallback=function(t){e._restoreUIStyleSheets(t.document.head,e.uiStyleSheetsHtmlBackup),e.uiStyleSheetsHtmlBackup=null,e.markShadowUIContainers(e.document.head,e.document.body)},this.documentClosedEventCallback=function(t){e._restoreUIStyleSheets(t.head,e.uiStyleSheetsHtmlBackup),e.uiStyleSheetsHtmlBackup=null,e.markShadowUIContainers(t.head,t.body)},this.bodyContentChangedEventCallback=function(t){var r=t[s["default"].processedContext];r!==window?e._messageSandbox.sendServiceMsg({cmd:e.BODY_CONTENT_CHANGED_COMMAND},r):e.onBodyElementMutation()},this.serviceMsgReceivedEventCallback=function(t){t.message.cmd===e.BODY_CONTENT_CHANGED_COMMAND&&e.onBodyElementMutation()},this.bodyCreatedEventCallback=function(t){return e.markShadowUIContainers(e.document.head,t)}},t._filterElement=function(e){return e&&d.isShadowUIElement(e)?null:e},r._filterList=function(e,t,r){for(var n=[],i=0;i<t;i++){var o=r(e[i]);o&&n.push(e[i])}return c["default"].objectDefineProperty(n,"item",{value:function(e){return e>=n.length?null:n[e]}}),e.namedItem&&c["default"].objectDefineProperty(n,"namedItem",{value:function(t){return e.namedItem(t)}}),n.length===t?e:n},r._filterNodeList=function(e,r){return this._filterList(e,r,function(e){return t._filterElement(e)})},r._filterStyleSheetList=function(e,r){return this._filterList(e,r,function(e){return t._filterElement(e.ownerNode)})},t._getFirstNonShadowElement=function(e){for(var r=c["default"].nodeListLengthGetter.call(e),n=0;n<r;n++)if(t._filterElement(e[n]))return e[n];return null},r._createWrapperCreators=function(){var e=this;return{getElementsByClassName:function(t){return function(){for(var r=arguments.length,n=new Array(r),i=0;i<r;i++)n[i]=arguments[i];var o=c["default"][t].apply(this,n),a=c["default"].htmlCollectionLengthGetter.call(o);return e._filterNodeList(o,a)}},getElementsByTagName:function(e){return function(){for(var t=arguments.length,r=new Array(t),n=0;n<t;n++)r[n]=arguments[n];var i=c["default"][e].apply(this,r),o=r[0];return"string"!=typeof o||!d.isHeadOrBodyOrHtmlElement(this)&&!d.isFormElement(this)&&"input"!==o.toLowerCase()&&"getElementsByTagName"!==e?i:(i[A]?i[A]._refreshCollection():i[A]=new y["default"](i,o),i[A])}},querySelector:function(e,r){return function(){for(var n=arguments.length,i=new Array(n),o=0;o<n;o++)i[o]=arguments[o];"string"==typeof i[0]&&(i[0]=u["default"].processSelector(i[0]));var a=c["default"][e].apply(this,i),s=t._filterElement(a);return!a||s?s:t._getFirstNonShadowElement(c["default"][r].apply(this,i))}},querySelectorAll:function(t){return function(){for(var r=arguments.length,n=new Array(r),i=0;i<r;i++)n[i]=arguments[i];"string"==typeof n[0]&&(n[0]=u["default"].processSelector(n[0]));var o=c["default"][t].apply(this,n),a=c["default"].nodeListLengthGetter.call(o);return e._filterNodeList(o,a)}}}},r._markShadowUIContainerAndCollections=function(e){t._markAsShadowContainer(e),t.markAsShadowContainerCollection(e.children),t.markAsShadowContainerCollection(c["default"].nodeChildNodesGetter.call(e))},r.markShadowUIContainers=function(e,t){e&&this._markShadowUIContainerAndCollections(e),t&&this._markShadowUIContainerAndCollections(t)},r._bringRootToWindowTopLeft=function(){for(var e=!1,t=c["default"].nodeParentNodeGetter.call(this.root);t;){var r=m.get(t,"position");w.test(r)&&(e=!0),t=c["default"].nodeParentNodeGetter.call(t)}if(e){var n=f.getOffsetPosition(this.root);if(0!==n.left||0!==n.top){var i=parseFloat(m.get(this.root,"left"))||0,o=parseFloat(m.get(this.root,"top"))||0,a=i-n.left+"px",s=o-n.top+"px";m.set(this.root,"left",a),m.set(this.root,"top",s)}}},r._overrideDocumentMethods=function(e,r){var n=this,i=e.Document.prototype;b.overrideFunction(i,"elementFromPoint",function(){n.addClass(n.getRoot(),n.HIDDEN_CLASS);for(var e=arguments.length,r=new Array(e),i=0;i<e;i++)r[i]=arguments[i];var o=t._filterElement(c["default"].elementFromPoint.apply(this,r));return n.removeClass(n.getRoot(),n.HIDDEN_CLASS),o}),r.caretRangeFromPoint&&b.overrideFunction(i,"caretRangeFromPoint",function(){n.addClass(n.getRoot(),n.HIDDEN_CLASS);for(var e=arguments.length,r=new Array(e),i=0;i<e;i++)r[i]=arguments[i];var o=c["default"].caretRangeFromPoint.apply(this,r);return o&&o.startContainer&&!t._filterElement(o.startContainer)&&(o=null),n.removeClass(n.getRoot(),n.HIDDEN_CLASS),o}),r.caretPositionFromPoint&&b.overrideFunction(i,"caretPositionFromPoint",function(){n.addClass(n.getRoot(),n.HIDDEN_CLASS);for(var e=arguments.length,r=new Array(e),i=0;i<e;i++)r[i]=arguments[i];var o=c["default"].caretPositionFromPoint.apply(this,r);return o&&o.offsetNode&&!t._filterElement(o.offsetNode)&&(o=null),n.removeClass(n.getRoot(),n.HIDDEN_CLASS),o}),b.overrideFunction(i,"getElementById",function(){for(var e=arguments.length,r=new Array(e),n=0;n<e;n++)r[n]=arguments[n];return t._filterElement(c["default"].getElementById.apply(this,r))}),b.overrideFunction(i,"getElementsByName",function(){for(var e=arguments.length,t=new Array(e),r=0;r<e;r++)t[r]=arguments[r];var i=c["default"].getElementsByName.apply(this,t),o=E.getElementsByNameReturnsHTMLCollection?c["default"].htmlCollectionLengthGetter.call(i):c["default"].nodeListLengthGetter.call(i);return n._filterNodeList(i,o)}),b.overrideFunction(i,"getElementsByClassName",this.wrapperCreators.getElementsByClassName("getElementsByClassName")),b.overrideFunction(i,"getElementsByTagName",this.wrapperCreators.getElementsByTagName("getElementsByTagName")),b.overrideFunction(i,"querySelector",this.wrapperCreators.querySelector("querySelector","querySelectorAll")),b.overrideFunction(i,"querySelectorAll",this.wrapperCreators.querySelectorAll("querySelectorAll"))},r._overrideElementMethods=function(e){var t=e.Element.prototype,r=e.HTMLBodyElement.prototype,n=e.HTMLHeadElement.prototype;b.overrideFunction(t,"getElementsByTagName",this.wrapperCreators.getElementsByTagName("elementGetElementsByTagName")),b.overrideFunction(r,"getElementsByClassName",this.wrapperCreators.getElementsByClassName("elementGetElementsByClassName")),b.overrideFunction(r,"querySelector",this.wrapperCreators.querySelector("elementQuerySelector","elementQuerySelectorAll")),b.overrideFunction(r,"querySelectorAll",this.wrapperCreators.querySelectorAll("elementQuerySelectorAll")),b.overrideFunction(n,"getElementsByClassName",r.getElementsByClassName),b.overrideFunction(n,"querySelector",r.querySelector),b.overrideFunction(n,"querySelectorAll",r.querySelectorAll)},r._getUIStyleSheetsHtml=function(){for(var e="link."+h["default"].uiStylesheet,t=this.nativeMethods.querySelectorAll.call(this.document,e),r=this.nativeMethods.nodeListLengthGetter.call(t),n="",i=0;i<r;i++)n+=c["default"].elementOuterHTMLGetter.call(t[i]);return n},r._restoreUIStyleSheets=function(e,r){if(e&&r){var n=this.nativeMethods.createElement.call(this.document,"div");c["default"].elementInnerHTMLSetter.call(n,r);for(var i=c["default"].htmlCollectionLengthGetter.call(n.children),o=0;o<i;o++){var a=e.children[o]||null,s=c["default"].cloneNode.call(n.children[o]);t.markElementAsShadow(s),this.nativeMethods.insertBefore.call(e,s,a)}}},r._markScriptsAndStylesAsShadowInHead=function(e){if(e)for(var r=c["default"].htmlCollectionLengthGetter.call(e.children),n=0;n<r;n++){var i=e.children[n];t.containsShadowUIClassPostfix(i)&&t.markElementAsShadow(i)}},r.getRoot=function(){var e=this;if(_.isChrome&&!t.isShadowContainer(this.document.body)&&this._markShadowUIContainerAndCollections(this.document.body),!this.root||!this.document.body.contains(this.root))if(this.root)c["default"].appendChild.call(this.document.body,this.root);else{this.root=c["default"].createElement.call(this.document,"div"),c["default"].setAttribute.call(this.root,"id",t.patchId(this.ROOT_ID)),c["default"].setAttribute.call(this.root,"contenteditable","false"),this.addClass(this.root,this.ROOT_CLASS),t.markElementAsShadow(this.root),c["default"].appendChild.call(this.document.body,this.root);for(var r=c["default"].documentAddEventListener||c["default"].addEventListener,n=0,i=p["default"].EVENTS;n<i.length;n++){var o=i[n];c["default"].addEventListener.call(this.root,o,v.stopPropagation)}this._bringRootToWindowTopLeft(),r.call(this.document,"DOMContentLoaded",function(){e.onBodyElementMutation(),e._bringRootToWindowTopLeft()})}return this.root},r.attach=function(t){e.prototype.attach.call(this,t,t.document),this.markShadowUIContainers(this.document.head,this.document.body),this._overrideDocumentMethods(t,t.document),this._overrideElementMethods(t),this._markScriptsAndStylesAsShadowInHead(t.document.head),this._initEvents()},r._initEvents=function(){this._iframeSandbox.on(this._iframeSandbox.RUN_TASK_SCRIPT_EVENT,this.runTaskScriptEventCallback),this._nodeMutation.on(this._nodeMutation.BEFORE_DOCUMENT_CLEANED_EVENT,this.beforeDocumentCleanedEventCallback),this._nodeMutation.on(this._nodeMutation.DOCUMENT_CLEANED_EVENT,this.documentCleanedEventCallback),this._nodeMutation.on(this._nodeMutation.DOCUMENT_CLOSED_EVENT,this.documentClosedEventCallback),this._nodeMutation.on(this._nodeMutation.BODY_CONTENT_CHANGED_EVENT,this.bodyContentChangedEventCallback),this._messageSandbox.on(this._messageSandbox.SERVICE_MSG_RECEIVED_EVENT,this.serviceMsgReceivedEventCallback),this._nodeMutation.on(this._nodeMutation.BODY_CREATED_EVENT,this.bodyCreatedEventCallback)},r.onBodyElementMutation=function(){if(this.root&&this.document.body){var e=d.closest(this.root,"html"),t=!this.nativeMethods.elementNextElementSiblingGetter.call(this.root),r=c["default"].nodeParentNodeGetter.call(this.root)===this.document.body;e&&t&&r||this.nativeMethods.appendChild.call(this.document.body,this.root),this.markShadowUIContainers(this.document.head,this.document.body)}},r.getFirstChild=function(e){var t=c["default"].nodeChildNodesGetter.call(e),r=c["default"].nodeListLengthGetter.call(t),n=this._filterNodeList(t,r);return n[0]||null},r.getFirstElementChild=function(e){var t=c["default"].htmlCollectionLengthGetter.call(e.children),r=this._filterNodeList(e.children,t);return r[0]||null},r.getLastChild=function(e){var t=c["default"].nodeChildNodesGetter.call(e),r=c["default"].nodeListLengthGetter.call(t),n=this._filterNodeList(t,r),i=t===n?r-1:n.length-1;return i>=0?n[i]:null},r.getLastElementChild=function(e){var t=c["default"].htmlCollectionLengthGetter.call(e.children),r=this._filterNodeList(e.children,t),n=e.children===r?t-1:r.length-1;return n>=0?r[n]:null},r.getNextSibling=function(e){if(!e)return e;do e=c["default"].nodeNextSiblingGetter.call(e);while(e&&d.isShadowUIElement(e));return e},r.getPrevSibling=function(e){if(!e)return e;do e=c["default"].nodePrevSiblingGetter.call(e);while(e&&d.isShadowUIElement(e));return e},r.getMutationRecordNextSibling=function(e){if(!e)return e;for(;e&&d.isShadowUIElement(e);)e=c["default"].nodeNextSiblingGetter.call(e);return e},r.getMutationRecordPrevSibling=function(e){if(!e)return e;for(;e&&d.isShadowUIElement(e);)e=c["default"].nodePrevSiblingGetter.call(e);return e},r.getNextElementSibling=function(e){do e=c["default"].elementNextElementSiblingGetter.call(e);while(e&&d.isShadowUIElement(e));return e},r.getPrevElementSibling=function(e){do e=c["default"].elementPrevElementSiblingGetter.call(e);while(e&&d.isShadowUIElement(e));return e},t._checkElementsPosition=function(e,t){if(t){for(var r=[],n=0;n<t;n++){var i=e[n];d.isShadowUIElement(i)&&r.push(i)}for(var o=r.length&&c["default"].nodeParentNodeGetter.call(r[0]),a=0;a<r.length;a++){var s=r[a];c["default"].appendChild.call(o,s)}}},t._hasFlag=function(e,t){try{return!!e[t]}catch(r){return!1}},t._hasCollectionFlagForIE=function(e,t){try{if(t in e)return e[t];var r=c["default"].nodeParentNodeGetter.call(e[0]),n=d.isHeadOrBodyElement(r)||d.isFormElement(r);return c["default"].objectDefineProperty(e,P,{value:n,configurable:!0}),n}catch(i){return!1}},t.isShadowContainer=function(e){return t._hasFlag(e,T)},t.isShadowContainerCollection=function(e,r){return _.isIE&&r?t._hasCollectionFlagForIE(e,P):t._hasFlag(e,P)},t._isShadowUIChildListMutation=function(e){if(d.isShadowUIElement(e.target))return!0;for(var t=c["default"].nodeListLengthGetter.call(e.removedNodes),r=0;r<t;r++)if(d.isShadowUIElement(e.removedNodes[r]))return!0;for(var n=c["default"].nodeListLengthGetter.call(e.addedNodes),i=0;i<n;i++)if(d.isShadowUIElement(e.addedNodes[i]))return!0;return!1},t._isShadowUIAttributeMutation=function(e){return d.isShadowUIElement(e.target)||d.isHammerheadAttr(e.attributeName)},t._isShadowUICharacterDataMutation=function(e){return d.isShadowUIElement(e.target)},t.isShadowUIMutation=function(e){switch(e.type){case"childList":return t._isShadowUIChildListMutation(e);case"attributes":return t._isShadowUIAttributeMutation(e);case"characterData":return t._isShadowUICharacterDataMutation(e);default:return!1}},t.removeSelfRemovingScripts=function(e){for(var t=c["default"].querySelectorAll.call(e,"."+h["default"].selfRemovingScript),r=c["default"].nodeListLengthGetter.call(t),n=0;n<r;n++)S["default"](t[n])},r.getShadowUICollectionLength=function(e,r){for(var n=0,i=0;i<r;i++)d.isShadowUIElement(e[i])&&n++;return n&&!this._ieDebugSandbox.isDebuggerInitiator()&&t._checkElementsPosition(e,r),r-n},r.addClass=function(e,r){var n=t.patchClassNames(r);d.addClass(e,n)},r.removeClass=function(e,r){var n=t.patchClassNames(r);d.removeClass(e,n)},t.hasClass=function(e,r){var n=t.patchClassNames(r);return d.hasClass(e,n)},t.patchId=function(e){return e+h["default"].postfix},t.patchClassNames=function(e){for(var t=e.split(/\s+/),r=0;r<t.length;r++)t[r]+=h["default"].postfix;return t.join(" ")},r.select=function(e,t){var r=e.replace(x,function(e){return e+h["default"].postfix});return t?c["default"].elementQuerySelectorAll.call(t,r):c["default"].querySelectorAll.call(this.document,r)},r.setBlind=function(e){e?this.addClass(this.getRoot(),this.BLIND_CLASS):this.removeClass(this.getRoot(),this.BLIND_CLASS)},r.getLastActiveElement=function(){return this.lastActiveElement},r.setLastActiveElement=function(e){this.lastActiveElement=e},r.insertBeforeRoot=function(e){var t=this.getRoot(),r=this.nativeMethods.nodeParentNodeGetter.call(t),n=this.nativeMethods.nodeLastChildGetter.call(r);if(n!=t&&c["default"].appendChild.call(r,t),e.length>1||"object"!=typeof e[0]){for(var i=document.createDocumentFragment.call(this.document),o=0;o<e.length;o++){var a=e[o];"string"==typeof a&&(a=c["default"].createTextNode.call(this.document,a)),c["default"].appendChild.call(i,a)}return c["default"].insertBefore.call(r,i,t)}return c["default"].insertBefore.call(r,e[0],t)},t.markElementAsShadow=function(e){e[s["default"].shadowUIElement]=!0},t.markFormAsShadow=function(e){t._markAsShadowContainer(e),t.markAsShadowContainerCollection(e.elements),t.markAsShadowContainerCollection(e.children);var r=c["default"].nodeChildNodesGetter.call(e);t.markAsShadowContainerCollection(r)},t.markElementAndChildrenAsShadow=function(e){if(t.markElementAsShadow(e),e.querySelectorAll)for(var r=g.getNativeQuerySelectorAll(e).call(e,"*"),n=c["default"].nodeListLengthGetter.call(r),i=0;i<n;i++)t.markElementAsShadow(r[i])},t._markAsShadowContainer=function(e){c["default"].objectDefineProperty(e,T,{value:!0})},t.markAsShadowContainerCollection=function(e){c["default"].objectDefineProperty(e,P,{value:!0,configurable:!0})},t.containsShadowUIClassPostfix=function(e){return"string"==typeof e.className&&e.className.indexOf(h["default"].postfix)!==-1},t}(l["default"]);e["default"]=C,t.exports=e["default"]},storages:{"index.js":function(e,t,r){function n(e,t){e.prototype=Object.create(t.prototype),e.prototype.constructor=e,i(e,t)}function i(e,t){return(i=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e})(e,t)}var o=function(e){return e&&e.__esModule?e:{"default":e}},a=function(e){if(e&&e.__esModule)return e;var t={};if(null!=e)for(var r in e)Object.hasOwnProperty.call(e,r)&&(t[r]=e[r]);return t["default"]=e,t};Object.defineProperty(e,"__esModule",{value:!0});var s=o(r("../base")),l=o(r("./wrapper")),u=o(r("../../settings")),c=a(r("../../utils/destination-location")),d=r("../../utils/dom"),p=o(r("../../../utils/get-storage-key")),f=o(r("../../../processing/dom/internal-properties")),h=a(r("json-hammerhead")),m=r("../../utils/overriding"),v=o(r("../../index")),g=o(r("../native-methods")),y="hammerhead|api-key-prefix|",E=g["default"].arrayConcat.call(g["default"].objectKeys(Storage.prototype),l["default"].INTERNAL_METHODS),_=function(e){function t(t,r,n){var i;return i=e.call(this)||this,i._listeners=t,i._unloadSandbox=r,i._eventSimulator=n,i.localStorageProxy=null,i.sessionStorageProxy=null,i.intervalId=null,i.isLocked=!1,i}n(t,e);var r=t.prototype;return r._simulateStorageEvent=function(e,t){if(!this.isDeactivated()&&e.unwrapProxy().getContext()!==this.window){var r=t;r.storageArea=e,this._eventSimulator.storage(this.window,r)}},r._createStorageWrappers=function(){var e=this,t=c.getParsed().host,r=u["default"].get().sessionId,n=p["default"](r,t),i=d.getTopSameDomainWindow(this.window),o=i[f["default"].hammerhead],a=o.sandbox.storageSandbox;if(a!==this)this.localStorageProxy=a.localStorageProxy,this.sessionStorageProxy=a.sessionStorageProxy;else{var s=this.nativeMethods.winLocalStorageGetter.call(this.window),h=this.nativeMethods.winSessionStorageGetter.call(this.window);this.localStorageProxy=l["default"].create(this.window,s,n),this.sessionStorageProxy=l["default"].create(this.window,h,n);var m=function(){e.isLocked||(e.localStorageProxy.unwrapProxy().saveToNativeStorage(),e.sessionStorageProxy.unwrapProxy().saveToNativeStorage())};this._unloadSandbox.on(this._unloadSandbox.UNLOAD_EVENT,m),v["default"].pageNavigationWatch.on(v["default"].pageNavigationWatch.PAGE_NAVIGATION_TRIGGERED_EVENT,m)}},r._overrideStorageEvent=function(){"object"!=typeof StorageEvent&&m.overrideConstructor(this.window,"StorageEvent",function(e,t){var r,n=null===(r=t)||void 0===r?void 0:r.storageArea;n&&delete t.storageArea;var i;return i=0===arguments.length?new g["default"].StorageEvent:1===arguments.length?new g["default"].StorageEvent(e):new g["default"].StorageEvent(e,t),n&&g["default"].objectDefineProperty(i,"storageArea",{get:function(){return n},set:function(){}}),i})},r.clear=function(){var e=this.localStorageProxy.unwrapProxy(),t=this.sessionStorageProxy.unwrapProxy();g["default"].storageRemoveItem.call(e.internal.nativeStorage,e.internal.nativeStorageKey),g["default"].storageRemoveItem.call(t.internal.nativeStorage,t.internal.nativeStorageKey)},r.lock=function(){this.isLocked=!0},r.backup=function(){return{localStorage:h.stringify(this.localStorageProxy.unwrapProxy().getCurrentState()),sessionStorage:h.stringify(this.sessionStorageProxy.unwrapProxy().getCurrentState())}},r.restore=function(e){var t=e.localStorage,r=e.sessionStorage;this.localStorageProxy.unwrapProxy().restore(t),this.sessionStorageProxy.unwrapProxy().restore(r)},r._overrideStorageProps=function(){m.overrideFunction(window.Storage.prototype,"clear",function(){var e=this.unwrapProxy();e.clearStorage()&&e.raiseStorageChanged(null,null,null)}),m.overrideFunction(window.Storage.prototype,"getItem",function(e){if(0===arguments.length)throw new TypeError("Failed to execute 'getItem' on 'Storage': 1 argument required, but only 0 present.");var r=this.unwrapProxy(),n=t._wrapKey(e);return g["default"].objectHasOwnProperty.call(r,n)?r[n]:null}),m.overrideFunction(window.Storage.prototype,"key",function(e){if(0===arguments.length)throw new TypeError("TypeError: Failed to execute 'key' on 'Storage': 1 argument required, but only 0 present.");e%=4294967296,isNaN(e)&&(e=0);var r=this.unwrapProxy(),n=g["default"].objectKeys(r),i=e>=0&&e<n.length;return i?t._unwrapKey(n[e]):null}),m.overrideFunction(window.Storage.prototype,"removeItem",function(e){if(0===arguments.length)throw new TypeError("Failed to execute 'removeItem' on 'Storage': 1 argument required, but only 0 present.");var r=this.unwrapProxy(),n=t._wrapKey(e);delete r[n],r.checkStorageChanged()}),m.overrideFunction(window.Storage.prototype,"setItem",function(e,r){if(arguments.length<2)throw new TypeError("Failed to execute 'setItem' on 'Storage': 2 arguments required, but only "+arguments.length+" present.");var n=this.unwrapProxy(),i=t._wrapKey(e);n[i]=String(r),n.checkStorageChanged()}),m.overrideDescriptor(window.Storage.prototype,"length",{getter:function(){return g["default"].objectKeys(this).length},setter:null})},r._overrideStoragesGetters=function(){var e=this,t=this.nativeMethods.getStoragesPropsOwner(window),r=!this.nativeMethods.isStoragePropsLocatedInProto||!this.nativeMethods.objectHasOwnProperty.call(window,"localStorage");r&&this.nativeMethods.objectDefineProperties(window,{localStorage:m.createOverriddenDescriptor(t,"localStorage",{getter:function(){return e.localStorageProxy.unwrapProxy().setContext(window),e.localStorageProxy}}),sessionStorage:m.createOverriddenDescriptor(t,"sessionStorage",{getter:function(){return e.sessionStorageProxy.unwrapProxy().setContext(window),e.sessionStorageProxy}})})},t._wrapKey=function(e){var t=String(e);return E.indexOf(t)!==-1?y+t:t},t._unwrapKey=function(e){return e.replace(y,"")},r.attach=function(t){var r=this;e.prototype.attach.call(this,t),this._overrideStorageProps(),this._createStorageWrappers();var n=this.localStorageProxy.unwrapProxy(),i=this.sessionStorageProxy.unwrapProxy();this.intervalId=g["default"].setInterval.call(this.window,function(){n.checkStorageChanged(),i.checkStorageChanged()},10),this.localStorageChangeHandler=function(e){return r._simulateStorageEvent(r.localStorageProxy,e)},this.sessionStorageChangeHandler=function(e){return r._simulateStorageEvent(r.sessionStorageProxy,e)},n.addChangeEventListener(this.localStorageChangeHandler),i.addChangeEventListener(this.sessionStorageChangeHandler),this._listeners.initElementListening(t,["storage"]),this._listeners.addInternalEventBeforeListener(t,["storage"],function(e,t,r){return!t&&r()}),this._overrideStorageEvent(),this._overrideStoragesGetters()},r.dispose=function(){this.localStorageProxy.unwrapProxy().removeChangeEventListener(this.localStorageChangeHandler),this.sessionStorageProxy.unwrapProxy().removeChangeEventListener(this.sessionStorageChangeHandler);var e=d.getTopSameDomainWindow(this.window);this.window!==e||e.frameElement||g["default"].clearInterval.call(this.window,this.intervalId)},t}(s["default"]);e["default"]=_,t.exports=e["default"]},"wrapper.js":function(e,t,r){function n(e,t){for(var r=0;r<t.length;r++){var n=t[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,n.key,n)}}function i(e,t,r){return t&&n(e.prototype,t),r&&n(e,r),e}function o(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function a(e,t){e.prototype=Object.create(t.prototype),e.prototype.constructor=e,s(e,t)}function s(e,t){return(s=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e})(e,t)}var l=function(e){return e&&e.__esModule?e:{"default":e}},u=function(e){if(e&&e.__esModule)return e;var t={};if(null!=e)for(var r in e)Object.hasOwnProperty.call(e,r)&&(t[r]=e[r]);return t["default"]=e,t};Object.defineProperty(e,"__esModule",{value:!0});var c=l(r("../../utils/event-emitter")),d=r("../../utils/browser"),p=r("../../utils/url"),f=u(r("../../utils/destination-location")),h=u(r("json-hammerhead")),m=l(r("../native-methods")),v="hammerhead|get-storage-wrapper",g=d.isIE?"":null,y=new WeakMap,E=0,_=1,S=function(){};S.prototype=Storage.prototype;var b=function(e){function t(t,r,n){var i;return i=e.call(this)||this,y.set(o(i),{win:t,ctx:t,lastState:null,eventEmitter:new c["default"],nativeStorage:r,nativeStorageKey:n}),i.loadStorage(),i}a(t,e),t.create=function(e,r,n){var i=new t(e,r,n);return e.Proxy?new m["default"].Proxy(i,{get:function(e,t){return t===v?e:e[t]},set:function(e,t,r){return e.setItem(t,r),!0},deleteProperty:function(e,t){return e.removeItem(t),!0}}):i};var r=t.prototype;return r.setContext=function(e){this.internal.ctx=e},r.getContext=function(){return this.internal.ctx},r.saveToNativeStorage=function(){var e=h.stringify(this.getCurrentState());this.internal.nativeStorage[this.internal.nativeStorageKey]!==e&&(this.internal.nativeStorage[this.internal.nativeStorageKey]=e)},r.getCurrentState=function(){for(var e=m["default"].objectKeys(this),t=[[],[]],r=0;r<e.length;r++){var n=e[r];t[E].push(n),t[_].push(this[n])}return t},r.restore=function(e){this.clearStorage(),this.loadStorage(e)},r.clearStorage=function(){for(var e=m["default"].objectKeys(this),t=!1,r=0;r<e.length;r++){var n=e[r];delete this[n],t=!0}return t&&(this.internal.lastState=this.getCurrentState()),t},r.loadStorage=function(e){e||(e=this.internal.nativeStorage[this.internal.nativeStorageKey]);for(var t=h.parse(e||"[[],[]]"),r=t[E].length,n=0;n<r;n++)this[t[E][n]]=t[_][n];this.internal.lastState=t},r.raiseStorageChanged=function(e,t,r){var n=null;try{var i=p.parseProxyUrl(this.internal.ctx.location.toString());n=i?i.destUrl:f.get()}catch(o){this.internal.ctx=this.internal.win,n=f.get()}this.internal.eventEmitter.emit("change",{key:e,oldValue:t,newValue:r,url:n})},r.checkStorageChanged=function(){for(var e=this.internal.lastState,t=this.getCurrentState(),r=0;r<e[E].length;r++){var n=e[E][r],i=e[_][r],o=t[E].indexOf(n);o!==-1?(t[_][o]!==i&&this.raiseStorageChanged(t[E][o],i,t[_][o]),t[E].splice(o,1),t[_].splice(o,1)):this.raiseStorageChanged(n,i,null)}for(var a=0;a<t[E].length;a++)this.raiseStorageChanged(t[E][a],g,t[_][a]);this.internal.lastState=this.getCurrentState()},r.addChangeEventListener=function(e){this.internal.eventEmitter.on("change",e)},r.removeChangeEventListener=function(e){this.internal.eventEmitter.off("change",e)},r.unwrapProxy=function(){if(m["default"].Proxy){var e=this[v];return e||this}return this},i(t,[{key:"internal",get:function(){return y.get(this)}}]),t}(S),w=m["default"].objectKeys(b.prototype);w.indexOf("internal")===-1&&w.push("internal");for(var x=0;x<w.length;x++){var T=w[x];"constructor"!==T&&"internal"!==T&&m["default"].objectDefineProperty(b.prototype,T,{value:b.prototype[T],configurable:!1,enumerable:!1,writable:!1})}var P=m["default"].objectGetOwnPropertyDescriptor(b.prototype,"internal");P.configurable=!1,P.enumerable=!1,m["default"].objectDefineProperty(b.prototype,"internal",P),m["default"].objectDefineProperty(b.prototype,"constructor",m["default"].objectGetOwnPropertyDescriptor(Storage.prototype,"constructor")),m["default"].objectDefineProperty(b,"INTERNAL_METHODS",{value:w}),e["default"]=b,t.exports=e["default"]}},"style.js":function(e,t,r){function n(e,t){e.prototype=Object.create(t.prototype),e.prototype.constructor=e,i(e,t)}function i(e,t){return(i=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e})(e,t)}var o=function(e){return e&&e.__esModule?e:{"default":e}};Object.defineProperty(e,"__esModule",{value:!0});var a=o(r("./base")),s=r("../utils/overriding"),l=o(r("./../../processing/style")),u=r("./../utils/url"),c="hammerhead|style|is-processed",d="hammerhead|style|proxy-object",p="hammerhead|style|proxy-target",f=function(e){function t(){var r;return r=e.call(this)||this,r.URL_PROPS=["background","backgroundImage","borderImage","borderImageSource","listStyle","listStyleImage","cursor"],r.DASHED_URL_PROPS=t._generateDashedProps(r.URL_PROPS),r.FEATURES=r._detectBrowserFeatures(),r}n(t,e),t._convertToDashed=function(e){return e.replace(/[A-Z]/g,"-$&").toLowerCase()},t._generateDashedProps=function(e){for(var r=[],n=0;n<e.length;n++){var i=e[n],o=t._convertToDashed(i);i!==o&&r.push(o)}return r};var r=t.prototype;return r._detectBrowserFeatures=function(){var e={};if(e.protoContainsAllProps=!!window.CSS2Properties,e.protoContainsUrlProps=this.nativeMethods.objectHasOwnProperty.call(window.CSSStyleDeclaration.prototype,"background"),!e.protoContainsAllProps&&!e.protoContainsUrlProps){var t=this.nativeMethods.createElement.call(document,"div"),r=!1,n=this.nativeMethods.objectGetOwnPropertyDescriptor.call(window.Object,t.style,"background");n.configurable&&(delete n.value,delete n.writable,n.set=function(){r=!0},this.nativeMethods.objectDefineProperty(t.style,"background",n),t.style.background="url"),e.propsCannotBeOverridden=!n.configurable||!r}return e},r._overrideStyleProp=function(e,r){var n=this.nativeMethods,i=t._convertToDashed(r);s.overrideDescriptor(e,r,{getter:function(){var e=n.styleGetPropertyValue.call(this,i);return l["default"].cleanUp(e,u.parseProxyUrl)},setter:function(e){"string"==typeof e&&(e=l["default"].process(e,u.getProxyUrl)),n.styleSetProperty.call(this,i,e)}})},r._overrideStyleInstanceProp=function(e,r){var n=this.nativeMethods,i=t._convertToDashed(r);s.overrideDescriptor(e,r,{getter:function(){var e=n.styleGetPropertyValue.call(this,i);return l["default"].cleanUp(e,u.parseProxyUrl)},setter:function(e){"string"==typeof e&&(e=l["default"].process(e,u.getProxyUrl)),n.styleSetProperty.call(this,i,e)}})},r._processStyleInstance=function(e){var t=e[c];if(!t){for(var r=0,n=this.DASHED_URL_PROPS;r<n.length;r++){var i=n[r];this._overrideStyleInstanceProp(e,i)}if(!this.FEATURES.protoContainsUrlProps)for(var o=0,a=this.URL_PROPS;o<a.length;o++){var s=a[o];this._overrideStyleInstanceProp(e,s)}this.nativeMethods.objectDefineProperty(e,c,{value:!0})}return e},r._getStyleProxy=function(e){var t=this,r=e[d];return r||(r=new this.nativeMethods.Proxy(e,{get:function(e,r){return t.URL_PROPS.indexOf(r)!==-1||t.DASHED_URL_PROPS.indexOf(r)!==-1?l["default"].cleanUp(e[r],u.parseProxyUrl):r===p?e:e[r]},set:function(e,r,n){return t.URL_PROPS.indexOf(r)===-1&&t.DASHED_URL_PROPS.indexOf(r)===-1||"string"==typeof n&&(n=l["default"].process(n,u.getProxyUrl)),e[r]=n,!0}}),this.nativeMethods.objectDefineProperty(e,d,{value:r})),r},r._overrideCSSStyleDeclarationFunctionsCtx=function(e){var t=this,r=e.CSSStyleDeclaration.prototype,n=function(n){var i=t.nativeMethods.objectGetOwnPropertyDescriptor.call(e.Object,r,n).value;t.nativeMethods.objectHasOwnProperty.call(r,n)&&"function"==typeof i&&(r[n]=function(){return i.apply(this[p]||this,arguments)},s.overrideStringRepresentation(r[n],i));
};for(var i in r)n(i)},r.attach=function(t){e.prototype.attach.call(this,t);var r=this.nativeMethods,n=this;if(s.overrideDescriptor(t[r.htmlElementStylePropOwnerName].prototype,"style",{getter:this.FEATURES.protoContainsAllProps?null:function(){var e=r.htmlElementStyleGetter.call(this);return n.FEATURES.propsCannotBeOverridden?n._getStyleProxy(e):n._processStyleInstance(e)},setter:r.htmlElementStyleSetter?function(e){var t=l["default"].process(e,u.getProxyUrl);r.htmlElementStyleSetter.call(this,t)}:null}),this.FEATURES.protoContainsAllProps){for(var i=0,o=this.URL_PROPS;i<o.length;i++){var a=o[i];this._overrideStyleProp(t.CSS2Properties.prototype,a)}for(var c=0,d=this.DASHED_URL_PROPS;c<d.length;c++){var p=d[c];this._overrideStyleProp(t.CSS2Properties.prototype,p)}}else if(this.FEATURES.protoContainsUrlProps)for(var f=0,h=this.URL_PROPS;f<h.length;f++){var m=h[f];this._overrideStyleProp(t.CSSStyleDeclaration.prototype,m)}s.overrideDescriptor(t.CSSStyleDeclaration.prototype,"cssText",{getter:function(){var e=r.styleCssTextGetter.call(this);return l["default"].cleanUp(e,u.parseProxyUrl)},setter:function(e){"string"==typeof e&&(e=l["default"].process(e,u.getProxyUrl)),r.styleCssTextSetter.call(this,e)}}),s.overrideFunction(t.CSSStyleSheet.prototype,"insertRule",function(e,t){var n=l["default"].process(e,u.getProxyUrl);return r.styleInsertRule.call(this,n,t)}),s.overrideFunction(t.CSSStyleDeclaration.prototype,"getPropertyValue",function(){for(var e=arguments.length,t=new Array(e),n=0;n<e;n++)t[n]=arguments[n];var i=r.styleGetPropertyValue.apply(this,t);return l["default"].cleanUp(i,u.parseProxyUrl)}),s.overrideFunction(t.CSSStyleDeclaration.prototype,"setProperty",function(){for(var e=arguments.length,t=new Array(e),n=0;n<e;n++)t[n]=arguments[n];var i=t[1];return"string"==typeof i&&(t[1]=l["default"].process(i,u.getProxyUrl)),r.styleSetProperty.apply(this,t)}),s.overrideFunction(t.CSSStyleDeclaration.prototype,"removeProperty",function(){for(var e=arguments.length,t=new Array(e),n=0;n<e;n++)t[n]=arguments[n];var i=r.styleRemoveProperty.apply(this,t);return l["default"].cleanUp(i,u.parseProxyUrl)}),this.FEATURES.propsCannotBeOverridden&&this._overrideCSSStyleDeclarationFunctionsCtx(t)},t}(a["default"]);e["default"]=f,t.exports=e["default"]},"timers.js":function(e,t,r){function n(e,t){e.prototype=Object.create(t.prototype),e.prototype.constructor=e,i(e,t)}function i(e,t){return(i=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e})(e,t)}var o=function(e){return e&&e.__esModule?e:{"default":e}};Object.defineProperty(e,"__esModule",{value:!0});var a=o(r("./base")),s=o(r("./native-methods")),l=r("../../processing/script"),u=r("../utils/browser"),c=r("../utils/overriding"),d=function(e){function t(){var t;return t=e.call(this)||this,t.timeouts=[],t.deferredFunctions=[],t.setTimeout=s["default"].setTimeout,t}n(t,e);var r=t.prototype;return r._wrapTimeoutFunctionsArguments=function(e){var t=this,r="string"==typeof e[0],n=r?null:e[0],i=r?l.processScript(e[0],!1):null;if(u.isIE&&u.version<12){var o=this,a=r?function(){var e=t.window.eval;return e(i)}:n;e[0]=function(){return o._callDeferredFunction(a,arguments)}}else r&&(e[0]=i);return e},r._callDeferredFunction=function(e,t){if(this.timeouts.length){for(var r=[],n=[],i=0;i<this.timeouts.length;i++)r.push(this.timeouts[i]),n.push(this.deferredFunctions[i]);this.timeouts=[],this.deferredFunctions=[];for(var o=0;o<r.length;o++)s["default"].clearInterval.call(this.window,r[o]),n[o]();return this._callDeferredFunction(e,t)}return e.apply(this.window,t)},r.attach=function(t){e.prototype.attach.call(this,t);var r=this;c.overrideFunction(t,"setTimeout",function(){for(var e=arguments.length,n=new Array(e),i=0;i<e;i++)n[i]=arguments[i];return s["default"].setTimeout.apply(t,r._wrapTimeoutFunctionsArguments(n))}),c.overrideFunction(t,"setInterval",function(){for(var e=arguments.length,n=new Array(e),i=0;i<e;i++)n[i]=arguments[i];return s["default"].setInterval.apply(t,r._wrapTimeoutFunctionsArguments(n))}),this.setTimeout=t.setTimeout},r.deferFunction=function(e){var t=this,r=function n(){e();for(var r=0;r<t.deferredFunctions.length;r++)if(t.deferredFunctions[r]===n){t.deferredFunctions.splice(r,1),t.timeouts.splice(r,1);break}};this.deferredFunctions.push(r),this.timeouts.push(s["default"].setTimeout.call(window,r,0))},t}(a["default"]);e["default"]=d,t.exports=e["default"]},upload:{"file-list-wrapper.js":function(e,t,r){var n=function(e){return e&&e.__esModule?e:{"default":e}};Object.defineProperty(e,"__esModule",{value:!0});var i=n(r("../native-methods")),o=function(){function e(t){var r=this;i["default"].objectDefineProperty(this,"length",{get:function(){return t.length}});for(var n=0;n<t.length;n++)this[n]=e._createFileWrapper(t[n]);this.item=function(e){return r[e]}}return e._base64ToBlob=function(e,t,r){var n=t.info.type||"";r=r||512;for(var o=atob(e),a=[],s=0;s<o.length;s+=r){for(var l=o.slice(s,s+r),u=new Array(l.length),c=0;c<l.length;c++)u[c]=l.charCodeAt(c);a.push(new Uint8Array(u))}return i["default"].File?new File(a,t.info.name,{type:n,lastModified:t.info.lastModified}):new Blob(a,{type:n})},e._createFileWrapper=function(t){var r=null;return r=window.Blob?t.blob?i["default"].File?new File([t.blob],t.info.name,{type:t.info.type,lastModified:t.info.lastModified}):new Blob([t.blob],{type:t.info.type}):e._base64ToBlob(t.data,t):{size:t.info.size,type:t.info.type},r.name=t.info.name,t.info.lastModifiedDate&&(r.lastModifiedDate=t.info.lastModifiedDate),r.base64=t.data,r},e}();e["default"]=o,window.FileList&&(o.prototype=FileList.prototype),t.exports=e["default"]},"hidden-info.js":function(e,t,r){function n(e){var t=f["default"].createElement.call(document,"input");return t.type="hidden",t.name=p["default"].uploadInfoHiddenInputName,m["default"].markElementAsShadow(t),f["default"].inputValueSetter.call(t,"[]"),f["default"].appendChild.call(e,t),m["default"].markFormAsShadow(e),t}function i(e){var t='[name="'+p["default"].uploadInfoHiddenInputName+'"]';return f["default"].elementQuerySelector.call(e,t)||n(e)}function o(e,t){for(var r=0;r<e.length;r++)if(e[r].id===t.id||e[r].name===t.name)return r;return-1}function a(e,t,r){var n=s(e);if(n){var i=[];t=f["default"].arraySlice.call(t);for(var a=0,u=t.length;a<u;a++){var c=t[a];i.push({name:c.name,type:c.type,data:c.base64})}var d=o(n,e),p={id:e.id,name:e.name,files:i,value:r};d===-1?n.push(p):n[d]=p,l(e,n)}}function s(e){return e.form?h.parse(f["default"].inputValueGetter.call(i(e.form))):null}function l(e,t){if(e.form){var r=i(e.form);f["default"].inputValueSetter.call(r,h.stringify(t))}}function u(e){var t=s(e);if(t){var r=o(t,e);if(r!==-1)return t.splice(r,1),l(e,t),!0}return!1}var c=function(e){return e&&e.__esModule?e:{"default":e}},d=function(e){if(e&&e.__esModule)return e;var t={};if(null!=e)for(var r in e)Object.hasOwnProperty.call(e,r)&&(t[r]=e[r]);return t["default"]=e,t};Object.defineProperty(e,"__esModule",{value:!0});var p=c(r("../../../processing/dom/internal-attributes")),f=c(r("../native-methods")),h=d(r("json-hammerhead")),m=c(r("../shadow-ui"));e.addInputInfo=a,e.getFormInfo=s,e.setFormInfo=l,e.removeInputInfo=u},"index.js":function(e,t,r){function n(e,t){e.prototype=Object.create(t.prototype),e.prototype.constructor=e,i(e,t)}function i(e,t){return(i=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e})(e,t)}var o=function(e){return e&&e.__esModule?e:{"default":e}};Object.defineProperty(e,"__esModule",{value:!0});var a=o(r("../../../processing/dom/internal-properties")),s=o(r("../base")),l=o(r("./info-manager")),u=r("../../utils/dom"),c=r("../../utils/browser"),d=r("../../utils/event"),p=r("../backup"),f=o(r("../native-methods")),h=o(r("../../settings")),m=function(e){function t(t,r,n){var i;return i=e.call(this)||this,i._listeners=t,i._eventSimulator=r,i.START_FILE_UPLOADING_EVENT="hammerhead|event|start-file-uploading",i.END_FILE_UPLOADING_EVENT="hammerhead|event|end-file-uploading",i.infoManager=new l["default"](n),i}n(t,e);var r=t.prototype;return r._riseChangeEvent=function(e){this._eventSimulator.change(e)},t._getCurrentInfoManager=function(e){var t=e[a["default"].processedContext];return p.get(t).upload.infoManager},r.attach=function(r){var n=this;e.prototype.attach.call(this,r),this._listeners.addInternalEventBeforeListener(r,["change"],function(e,r){var i=e.target,o=t._getCurrentInfoManager(i);if(!r&&u.isFileInput(i)){d.stopPropagation(e),d.preventDefault(e);var a=f["default"].inputValueGetter.call(i);if(a||o.getValue(i)){var s=f["default"].inputFilesGetter.call(i),c=l["default"].getFileNames(s,a);n.emit(n.START_FILE_UPLOADING_EVENT,c,i),o.loadFileListData(i,s).then(function(e){return o.setUploadInfo(i,e,a),n.infoManager.sendFilesInfoToServer(e,c)}).then(function(e){n._riseChangeEvent(i),n.emit(n.END_FILE_UPLOADING_EVENT,e)})}}}),h["default"].get().isRecordMode||!c.isIE&&!c.isFirefox||this._listeners.addInternalEventBeforeListener(r,["click"],function(e,t){t&&u.isFileInput(e.target)&&d.preventDefault(e,!0)})},t.getFiles=function(e){var r=f["default"].inputFilesGetter.call(e);return void 0!==r?t._getCurrentInfoManager(e).getFiles(e):void 0},t.getUploadElementValue=function(e){return t._getCurrentInfoManager(e).getValue(e)},r.setUploadElementValue=function(e,r){""===r&&t._getCurrentInfoManager(e).clearUploadInfo(e)&&c.isIE11&&this._riseChangeEvent(e)},t._shouldRaiseChangeEvent=function(e,t){if(!t)return!0;var r=t.files;if(e.length!==r.length||c.isFirefox||c.isMacPlatform&&c.isChrome||c.isSafari)return!0;for(var n=0;n<e.length;n++){for(var i=e[n],o=!1,a=0;a<r.length;a++){var s=r[a];if(i.name===s.name){o=!0;break}}if(o===!1)return!0}return!1},r.doUpload=function(e,r){var n=this,i=t._getCurrentInfoManager(e);return r=r||[],this.infoManager.loadFilesInfoFromServer(r).then(function(e){return l["default"].prepareFileListWrapper(e)}).then(function(o){if(!o.errs.length){var a=l["default"].formatValue(r),s=i.getUploadInfo(e),u=t._shouldRaiseChangeEvent(o.fileList,s);i.setUploadInfo(e,o.fileList,a),u&&n._riseChangeEvent(e)}return o.errs})},t}(s["default"]);e["default"]=m,t.exports=e["default"]},"info-manager.js":function(e,t,r){var n=function(e){return e&&e.__esModule?e:{"default":e}},i=function(e){if(e&&e.__esModule)return e;var t={};if(null!=e)for(var r in e)Object.hasOwnProperty.call(e,r)&&(t[r]=e[r]);return t["default"]=e,t};Object.defineProperty(e,"__esModule",{value:!0});var o=n(r("../../../session/command")),a=n(r("./file-list-wrapper")),s=i(r("../../utils/browser")),l=i(r("./hidden-info")),u=n(r("pinkie")),c="C:\\fakepath\\",d=function(){function e(e){this._transport=e,this.uploadInfo=[]}e._getFileListData=function(e){for(var t=[],r=0;r<e.length;r++){var n=e[r];t.push(n.base64)}return t},e.formatValue=function(e){var t="";if(e="string"==typeof e?[e]:e,e&&e.length){if(!s.isWebKit)return e[0].split("/").pop();t=c+e[0].split("/").pop()}return t},e.getFileNames=function(e,t){var r=[];if(e)for(var n=0;n<e.length;n++){var i=e[n];r.push(i.name)}else t.lastIndexOf("\\")!==-1&&r.push(t.substr(t.lastIndexOf("\\")+1));return r};var t=e.prototype;return t.loadFilesInfoFromServer=function(e){return this._transport.asyncServiceMsg({cmd:o["default"].getUploadedFiles,filePaths:"string"==typeof e?[e]:e})},e.prepareFileListWrapper=function(e){for(var t=[],r=[],n=0;n<e.length;n++){var i=e[n];i.err?t.push(i):r.push(i)}return{errs:t,fileList:new a["default"](r)}},t.sendFilesInfoToServer=function(t,r){return this._transport.asyncServiceMsg({cmd:o["default"].uploadFiles,data:e._getFileListData(t),fileNames:r})},t.clearUploadInfo=function(e){var t=this.getUploadInfo(e);return t?(t.files=new a["default"]([]),t.value="",l.removeInputInfo(e)):null},t.getFiles=function(e){var t=this.getUploadInfo(e);return t?t.files:new a["default"]([])},t.getUploadInfo=function(e){for(var t=0,r=this.uploadInfo;t<r.length;t++){var n=r[t];if(n.input===e)return n}return null},t.getValue=function(e){var t=this.getUploadInfo(e);return t?t.value:""},t.loadFileListData=function(e,t){return t.length?new u["default"](function(e){var r=new FileReader,n=[],i=0,o=t[i];r.addEventListener("load",function(s){var l={type:o.type,name:o.name};"number"==typeof o.lastModified&&(l.lastModified=o.lastModified),o.lastModifiedDate&&(l.lastModifiedDate=o.lastModifiedDate),n.push({data:s.target.result.substr(s.target.result.indexOf(",")+1),blob:o.slice(0,o.size),info:l}),t[++i]?(o=t[i],r.readAsDataURL(o)):e(new a["default"](n))}),r.readAsDataURL(o)}):u["default"].resolve(new a["default"]([]))},t.setUploadInfo=function(e,t,r){var n=this.getUploadInfo(e);n||(n={input:e},this.uploadInfo.push(n)),n.files=t,n.value=r,l.addInputInfo(e,t,r)},e}();e["default"]=d,t.exports=e["default"]}},"windows-storage.js":function(e,t,r){function n(){var e=l.getTopSameDomainWindow(window),t=e[c];return t||(t=[],u["default"].objectDefineProperty(e,c,{value:t})),t}function i(e){for(var t=n(),r=t.length-1;r>=0;r--)try{if(t[r]===e)return}catch(i){t.splice(r,1)}t.push(e)}function o(e){var t=n(),r=t.indexOf(e);r!==-1&&t.splice(r,1)}function a(e){for(var t=n(),r=0;r<t.length;r++)try{if(t[r].name===e)return t[r]}catch(i){t.splice(r,1),r--}return null}var s=function(e){return e&&e.__esModule?e:{"default":e}};Object.defineProperty(e,"__esModule",{value:!0});var l=r("../utils/dom"),u=s(r("./native-methods")),c="hammerhead|windows-storage";e.add=i,e.remove=o,e.findByName=a},"xhr.js":function(e,t,r){function n(e,t){e.prototype=Object.create(t.prototype),e.prototype.constructor=e,i(e,t)}function i(e,t){return(i=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e})(e,t)}var o=function(e){return e&&e.__esModule?e:{"default":e}};Object.defineProperty(e,"__esModule",{value:!0});var a=o(r("../worker/sandbox-base-with-delayed-settings")),s=o(r("./native-methods")),l=r("../utils/url"),u=o(r("../../request-pipeline/builtin-header-names")),c=r("../utils/overriding"),d=r("../../utils/url"),p=r("../../utils/headers"),f=["UNSENT","OPENED","HEADERS_RECEIVED","LOADING","DONE"],h=function(e){function t(t,r){var n;return n=e.call(this,r)||this,n._cookieSandbox=t,n.XHR_COMPLETED_EVENT="hammerhead|event|xhr-completed",n.XHR_ERROR_EVENT="hammerhead|event|xhr-error",n.BEFORE_XHR_SEND_EVENT="hammerhead|event|before-xhr-send",n}n(t,e),t.createNativeXHR=function(){var e=new s["default"].XMLHttpRequest;return e.open=s["default"].xhrOpen,e.abort=s["default"].xhrAbort,e.send=s["default"].xhrSend,e.addEventListener=s["default"].xhrAddEventListener||s["default"].addEventListener,e.removeEventListener=s["default"].xhrRemoveEventListener||s["default"].removeEventListener,e.setRequestHeader=s["default"].xhrSetRequestHeader,e.getResponseHeader=s["default"].xhrGetResponseHeader,e.getAllResponseHeaders=s["default"].xhrGetAllResponseHeaders,e.overrideMimeType=s["default"].xhrOverrideMimeType,e.dispatchEvent=s["default"].xhrDispatchEvent||s["default"].dispatchEvent,e},t.openNativeXhr=function(e,t,r){e.open("POST",t,r),e.setRequestHeader(u["default"].cacheControl,"no-cache, no-store, must-revalidate")},t._reopenXhr=function(e,t){var r=t.openArgs[1],n=e.withCredentials;t.withCredentials=n,t.openArgs[1]=l.getAjaxProxyUrl(r,n?d.Credentials.include:d.Credentials.sameOrigin),s["default"].xhrOpen.apply(e,t.openArgs),t.openArgs[1]=r;for(var i=0,o=t.headers;i<o.length;i++){var a=o[i];s["default"].xhrSetRequestHeader.apply(e,a)}};var r=t.prototype;return r.attach=function(r){e.prototype.attach.call(this,r);for(var n=this,i=r.XMLHttpRequest.prototype,o=function v(){var e=s["default"].xhrRemoveEventListener||s["default"].removeEventListener;n.emit(n.XHR_COMPLETED_EVENT,{xhr:this}),e.call(this,"loadend",v)},a=function g(){if(!(this.readyState<this.HEADERS_RECEIVED)){var e=s["default"].xhrRemoveEventListener||s["default"].removeEventListener;n._cookieSandbox.syncCookie(),e.call(this,"readystatechange",g)}},u=function(){var e=s["default"].xhrAddEventListener||s["default"].addEventListener,t=new s["default"].XMLHttpRequest;return e.call(t,"loadend",o),e.call(t,"readystatechange",a),t},h=0;h<f.length;h++){var m=f[h];s["default"].objectDefineProperty(u,m,s["default"].objectGetOwnPropertyDescriptor(s["default"].XMLHttpRequest,m))}c.overrideConstructor(r,"XMLHttpRequest",u),s["default"].objectDefineProperty(i,"constructor",{value:u}),c.overrideFunction(i,"abort",function(){for(var e=this,t=arguments.length,r=new Array(t),i=0;i<t;i++)r[i]=arguments[i];return n.gettingSettingInProgress()?void n.delayUntilGetSettings(function(){return e.abort.apply(e,r)}):(s["default"].xhrAbort.apply(this,r),void n.emit(n.XHR_ERROR_EVENT,{err:new Error("XHR aborted"),xhr:this}))}),c.overrideFunction(i,"open",function(){for(var e=this,r=arguments.length,i=new Array(r),o=0;o<r;o++)i[o]=arguments[o];var a=i[1];return l.getProxyUrl(a)===a?void s["default"].xhrOpen.apply(this,i):n.gettingSettingInProgress()?void n.delayUntilGetSettings(function(){return e.open.apply(e,i)}):(a="string"==typeof a?a:String(a),i[1]=l.getAjaxProxyUrl(a,this.withCredentials?d.Credentials.include:d.Credentials.sameOrigin),s["default"].xhrOpen.apply(this,i),i[1]=a,void t.REQUESTS_OPTIONS.set(this,{withCredentials:this.withCredentials,openArgs:i,headers:[]}))}),c.overrideFunction(i,"send",function(){for(var e=this,r=arguments.length,i=new Array(r),l=0;l<r;l++)i[l]=arguments[l];if(n.gettingSettingInProgress())return void n.delayUntilGetSettings(function(){return e.send.apply(e,i)});var u=t.REQUESTS_OPTIONS.get(this);u.withCredentials!==this.withCredentials&&t._reopenXhr(this,u),n.emit(n.BEFORE_XHR_SEND_EVENT,{xhr:this}),s["default"].xhrSend.apply(this,i),this.readyState===this.DONE&&o.call(this),a.call(this)}),c.overrideFunction(i,"setRequestHeader",function(){for(var e=arguments.length,r=new Array(e),n=0;n<e;n++)r[n]=arguments[n];p.isAuthorizationHeader(r[0])&&(r[1]=p.addAuthorizationPrefix(r[1])),s["default"].xhrSetRequestHeader.apply(this,r);var i=t.REQUESTS_OPTIONS.get(this);i&&i.headers.push([String(r[0]),String(r[1])])}),s["default"].xhrResponseURLGetter&&c.overrideDescriptor(r.XMLHttpRequest.prototype,"responseURL",{getter:function(){return l.getDestinationUrl(s["default"].xhrResponseURLGetter.call(this))}}),c.overrideFunction(i,"getResponseHeader",function(){for(var e=arguments.length,t=new Array(e),r=0;r<e;r++)t[r]=arguments[r];var n=s["default"].xhrGetResponseHeader.apply(this,t);return n&&p.isAuthenticateHeader(t[0])&&(n=p.removeAuthenticatePrefix(n)),n}),c.overrideFunction(i,"getAllResponseHeaders",function(){for(var e=arguments.length,t=new Array(e),r=0;r<e;r++)t[r]=arguments[r];for(var n=s["default"].xhrGetAllResponseHeaders.apply(this,t);p.hasAuthenticatePrefix(n);)n=p.removeAuthenticatePrefix(n);return n})},t}(a["default"]);e["default"]=h,h.REQUESTS_OPTIONS=new WeakMap,t.exports=e["default"]}},"settings.js":function(e,t,r){Object.defineProperty(e,"__esModule",{value:!0});var n=function(){function e(){this._settings={isFirstPageLoad:!0,sessionId:"",forceProxySrcForImage:!1,crossDomainProxyPort:"",referer:"",serviceMsgUrl:"",transportWorkerUrl:"",iframeTaskScriptTemplate:"",cookie:"",allowMultipleWindows:!1,isRecordMode:!1,windowId:""}}var t=e.prototype;return t.set=function(e){this._settings=e},t.get=function(){return this._settings},e}(),i=new n;e["default"]=i,t.exports=e["default"]},transport:{"consts.js":function(e,t,r){Object.defineProperty(e,"__esModule",{value:!0}),e.SET_INITIAL_WORKER_SETTINGS_CMD="hammerhead|transport|set-initial-worker-settings",e.HANDLE_PORT_CMD="hammerhead|transport|handle-port"},"index.js":function(e,t,r){function n(e,t){e.prototype=Object.create(t.prototype),e.prototype.constructor=e,i(e,t)}function i(e,t){return(i=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e})(e,t)}var o=function(e){return e&&e.__esModule?e:{"default":e}};Object.defineProperty(e,"__esModule",{value:!0});var a=o(r("../sandbox/native-methods")),s=o(r("../settings")),l=r("../utils/browser"),u=o(r("pinkie")),c=r("../utils/dom"),d=o(r("../utils/integer-id-generator")),p=o(r("./transport-legacy")),f=r("./consts"),h="hammerhead|command|get-message-port",m="hammerhead|command|set-message-port",v=function(e){function t(){var r;return r=e.apply(this,arguments)||this,r._transportWorker=null,r._idGenerator=new d["default"],r._messageCallbacks=new Map,r._queue=[],r._shouldAddReferer=t._shouldAddReferer(),r}n(t,e);var r=t.prototype;return r.start=function(e){var t=this;window===window.top?(this._transportWorker=new a["default"].Worker(s["default"].get().transportWorkerUrl,{name:"Transport"}),this._transportWorker.postMessage({cmd:f.SET_INITIAL_WORKER_SETTINGS_CMD,sessionId:s["default"].get().sessionId,serviceMsgUrl:s["default"].get().serviceMsgUrl}),this._transportWorker.addEventListener("message",function(e){return t._onWorkerMessage(e)}),this._processQueue()):e.sendServiceMsg({cmd:h},window.top),e.on(e.SERVICE_MSG_RECEIVED_EVENT,function(r){var n=r.message,i=r.source,o=r.ports;if(n.cmd===h){var s=new a["default"].MessageChannel;e.sendServiceMsg({cmd:m},i,[s.port1]),t._transportWorker.postMessage({cmd:f.HANDLE_PORT_CMD},[s.port2])}else n.cmd===m&&(t._transportWorker=o[0],t._transportWorker.onmessage=function(e){return t._onWorkerMessage(e)},t._processQueue())})},r._processQueue=function(){for(var e=0,t=this._queue;e<t.length;e++){var r=t[e];this._transportWorker.postMessage(r)}this._queue.length=0},t._shouldAddReferer=function(){var e=c.getFrameElement(window);return e&&c.isIframeWithoutSrc(e)},r._onWorkerMessage=function(e){var t=e.data,r=t.id,n=t.result;this._messageCallbacks.has(r)&&(this._messageCallbacks.get(r)(n.err,n.data),this._messageCallbacks["delete"](r))},r.asyncServiceMsg=function(e,t){var r=this;return void 0===t&&(t=!1),new u["default"](function(n,i){var o=r._idGenerator.increment();++r._activeServiceMsgCount,r._shouldAddReferer&&(e.referer=s["default"].get().referer),r._messageCallbacks.set(o,function(t,o){--r._activeServiceMsgCount,t?(e.disableResending||!l.isWebKit&&!l.isFirefox||(p["default"]._removeMessageFromStore(e.cmd),p["default"]._storeMessage(e),n()),e.allowRejecting&&i(new Error(t))):n(o)}),r._transportWorker?r._transportWorker.postMessage({id:o,queued:t,msg:e}):r._queue.push({id:o,queued:t,msg:e})})},r.queuedAsyncServiceMsg=function(e){return this.asyncServiceMsg(e,!0)},t}(p["default"]);e["default"]=v,t.exports=e["default"]},"transport-legacy.js":function(e,t,r){var n=function(e){return e&&e.__esModule?e:{"default":e}};Object.defineProperty(e,"__esModule",{value:!0});var i=n(r("pinkie")),o=n(r("../sandbox/native-methods")),a=n(r("../settings")),s=r("json-hammerhead"),l=50,u=function(){function e(){this._activeServiceMsgCount=0}e._getStoredMessages=function(){var e=o["default"].winLocalStorageGetter.call(window),t=o["default"].storageGetItem.call(e,a["default"].get().sessionId);return t?s.parse(t):[]},e._storeMessage=function(t){var r=e._getStoredMessages(),n=o["default"].winLocalStorageGetter.call(window);r.push(t),o["default"].storageSetItem.call(n,a["default"].get().sessionId,s.stringify(r))},e._removeMessageFromStore=function(t){for(var r=e._getStoredMessages(),n=o["default"].winLocalStorageGetter.call(window),i=0;i<r.length;i++)if(r[i].cmd===t){r.splice(i,1);break}o["default"].storageSetItem.call(n,a["default"].get().sessionId,s.stringify(r))};var t=e.prototype;return t.batchUpdate=function(){var t=e._getStoredMessages();if(!t.length)return i["default"].resolve();var r=[],n=o["default"].winLocalStorageGetter.call(window);o["default"].storageRemoveItem.call(n,a["default"].get().sessionId);for(var s=0;s<t.length;s++){var l=t[s];r.push(this.queuedAsyncServiceMsg(l))}return i["default"].all(r)},t.waitForServiceMessagesCompleted=function(e){var t=this;return new i["default"](function(r){if(!t._activeServiceMsgCount)return void r();var n=null,i=o["default"].setTimeout.call(window,function(){o["default"].clearInterval.call(window,n),r()},e);n=o["default"].setInterval.call(window,function(){t._activeServiceMsgCount||(o["default"].clearInterval.call(window,n),o["default"].clearTimeout.call(window,i),r())},l)})},e}();e["default"]=u,t.exports=e["default"]}},utils:{"browser.js":function(e,t,r){var n=function(e){return e&&e.__esModule?e:{"default":e}};Object.defineProperty(e,"__esModule",{value:!0});var i=n(r("bowser")),o=navigator.userAgent.toLowerCase(),a=i["default"]._detect(o),s=o.match(/applewebkit\/(\d+(:?\.\d+)*)/);e.compareVersions=i["default"].compareVersions,e.isMacPlatform=!!a.mac,e.isAndroid=!!a.android,e.isIOS=!!a.ios,e.isMobile=!!a.mobile,e.isTablet=!!a.tablet,e.version=parseInt(a.version,10),e.fullVersion=a.version,e.webkitVersion=s&&s[1]||"",e.isIE=!(!a.msie&&!a.msedge),e.isIE11=e.isIE&&11===e.version,e.isIE10=e.isIE&&10===e.version,e.isIE9=e.isIE&&9===e.version,e.isFirefox=!!a.firefox,e.isMSEdge=!!a.msedge,e.isChrome=!!a.chrome,e.isSafari=!!a.safari,e.isWebKit=!(!a.webkit&&!a.blink),e.isElectron=/electron/g.test(o)},"constructor-is-called-without-new-keyword.js":function(e,t,r){function n(e,t){return e instanceof t==!1}Object.defineProperty(e,"__esModule",{value:!0}),e["default"]=n,t.exports=e["default"]},"cookie.js":function(e,t,r){function n(e){e=c["default"](e);var t=f.exec(e);t&&(e=e.slice(0,t.index));var r=e.indexOf(";"),n=r>-1?e.substr(0,r):e,i=p.exec(n);if(!i)return null;var o={key:i[1]?c["default"](i[2]):"",value:c["default"](i[3])};if(r===-1)return o;var a=c["default"](e.slice(r).replace(/^\s*;\s*/,""));if(0===a.length)return o;for(var s=a.split(/\s*;\s*/);s.length;){var u=s.shift(),d=u.indexOf("="),m=null,v=null,g=null;switch(d===-1?m=u:(m=u.substr(0,d),v=c["default"](u.substr(d+1))),m=c["default"](m.toLowerCase())){case"expires":v=v.replace(h,"$1 $2 $3"),g=l(Date.parse(v)),g&&(o.expires=g);break;case"max-age":o.maxAge=v;break;case"path":o.path=v;break;case"secure":o.secure=!0;break;case"httponly":o.httpOnly=!0;break;case"domain":o.domain=c["default"](v.replace(/^\./,""))}}return o}function i(e){var t=e.value||"";return""!==e.key&&(t=e.key+"="+t),t}function o(e,t){var r=t.hostname,n=t.pathname;if(e.domain||(e.domain=r),!e.path||"/"!==e.path.charAt(0)){var i=n,o=i.slice(0,i.lastIndexOf("/"));e.path=o||"/"}e.expires||(e.expires="Infinity")}function a(e,t){if(!t)return!0;if(e=e.toLowerCase(),t=t.toLowerCase(),e===t)return!0;var r=e.indexOf(t);return r>0&&e.length===t.length+r&&"."===e.charAt(r-1)}function s(e,t){return!t||"/"!==t.charAt(0)||e===t||e.length>t.length&&0===e.indexOf(t)&&("/"===t.charAt(t.length-1)||"/"===e.charAt(t.length))}function l(e){if(arguments.length){if(isNaN(e))return null}else e=d["default"].dateNow();return e=1e3*Math.floor(e/1e3),new d["default"].date(e)}var u=function(e){return e&&e.__esModule?e:{"default":e}};Object.defineProperty(e,"__esModule",{value:!0});var c=u(r("../../utils/string-trim")),d=u(r("../sandbox/native-methods")),p=/^((?:=)?([^=;]*)\s*=\s*)?([^\n\r\0]*)/,f=/;+$/,h=/((?:\s|,)[0-9]{1,2})(?:\s|-)([A-Za-z]{3})(?:\s|-)([0-9]{4}\s)/;e.parse=n,e.formatClientString=i,e.setDefaultValues=o,e.domainMatch=a,e.pathMatch=s,e.getUTCDate=l},"create-property-desc.js":function(e,t,r){function n(e){return e.configurable=!0,e.enumerable=!0,e}Object.defineProperty(e,"__esModule",{value:!0}),e["default"]=n,t.exports=e["default"]},"destination-location.js":function(e,t,r){function n(){if(S)return S;var e=v.getFrameElement(_["default"].global);return e&&v.isIframeWithoutSrc(e)?y["default"].get().referer:_["default"].global.location.toString()}function i(e){S=e}function o(e,t){return t&&(t=a(t)),m.sameOriginCheck(e,t)}function a(e,t){var r=m.getURLString(e);if(r&&0===r.indexOf("//")){var n=d().protocol;r=n+m.correctMultipleSlashes(r,n)}else r=m.correctMultipleSlashes(r);return _["default"].isInWorker?"blob:"!==self.location.protocol?new E["default"].URL(r,s()).href:e:g.resolve(r,t||document)}function s(){var e=n(),t=m.parseProxyUrl(e);return t?t.destUrl:e}function l(e){var t=s();return t=t.replace(/(#.*)$/,""),t+e}function u(e){var t=g.getResolverElement(document),r=m.parseUrl(e).port;E["default"].anchorHrefSetter.call(t,s());var n=E["default"].anchorHostnameGetter.call(t),i=E["default"].anchorPathnameGetter.call(t);return"/"!==i.charAt(0)&&(i="/"+i),{protocol:E["default"].anchorProtocolGetter.call(t),port:r?E["default"].anchorPortGetter.call(t):"",hostname:n,host:r?E["default"].anchorHostGetter.call(t):n,pathname:i,hash:t.hash,search:E["default"].anchorSearchGetter.call(t)}}function c(e){var t=new E["default"].URL(e);return{protocol:t.protocol,port:t.port,hostname:t.hostname,host:t.host,pathname:t.pathname,hash:t.hash,search:t.search}}function d(){var e=s();return _["default"].isInWorker?c(e):u(e)}function p(){return m.getDomain(d())}var f=function(e){if(e&&e.__esModule)return e;var t={};if(null!=e)for(var r in e)Object.hasOwnProperty.call(e,r)&&(t[r]=e[r]);return t["default"]=e,t},h=function(e){return e&&e.__esModule?e:{"default":e}};Object.defineProperty(e,"__esModule",{value:!0});var m=f(r("../../utils/url")),v=f(r("./dom")),g=f(r("./url-resolver")),y=h(r("../settings")),E=h(r("../sandbox/native-methods")),_=h(r("./global-context-info")),S=null;e.getLocation=n,e.forceLocation=i,e.sameOriginCheck=o,e.resolveUrl=a,e.get=s,e.withHash=l,e.getParsed=d,e.getOriginHeader=p},"dom.js":function(e,t,r){function n(e){return e.offsetWidth<=0&&e.offsetHeight<=0}function i(e){var t=P(e);return!!t&&(xt.test(t)||Tt.test(t))}function o(e){var t=null;try{t=e.__proto__}catch(r){var n=ut.isSafari||ut.isChrome;return e.replace&&(n||!!e.assign)}if(!t)return!1;var i=ot["default"].objectToString.call(t);return"[object LocationPrototype]"===i||"[object Location]"===i}function a(e,t){for(;e;){if(Fe(e,t))return e;e=ot["default"].nodeParentNodeGetter.call(e)}return null}function s(e){return dt.instanceAndPrototypeToStringAreEqual?e&&"object"==typeof e?ot["default"].objectToString.call(ot["default"].objectGetPrototypeOf(e)):"":ot["default"].objectToString.call(e)}function l(e){for(var t=e||document,r=ot["default"].documentActiveElementGetter.call(t),n=T(r)?r:t.body;n&&n.shadowRoot;){var i=n.shadowRoot.activeElement;if(!i)break;n=i}return n}function u(e,t){var r=g(e);return r.indexOf(t)}function c(e){var t=e[nt["default"].processedContext];return p(t)}function d(e){var t=null;try{t=ot["default"].contentDocumentGetter.call(e).location.href}catch(r){t=null}var n=ot["default"].getAttribute.call(e,"src"+rt["default"].storedAttrPostfix)||ot["default"].getAttribute.call(e,"src")||ot["default"].iframeSrcGetter.call(e),i=t&&at.isSupportedProtocol(t)&&at.parseProxyUrl(t),o=n&&at.isSupportedProtocol(n)&&at.parseProxyUrl(n);return{documentLocation:i?i.destUrl:t,srcLocation:o?o.destUrl:n}}function p(e){try{return e.frameElement}catch(t){return null}}function f(e){var t=He(e,"map"),r=ot["default"].getAttribute.call(t,"name"),n='[usemap="#'+r+'"]';return ot["default"].querySelector.call(_(e),n)}function h(e){var t=e.parent,r=null;if(e===e.top)return e;if(t===e.top||w(e,t))return t;try{r=t.frameElement}catch(n){r=null}return null!==r&&L(r)?h(t):t}function m(){if(!pt){var e=ot["default"].createElement.call(document,"div");e.style.height="100px",e.style.overflow="scroll",e.style.position="absolute",e.style.top="-9999px",e.style.width="100px",ot["default"].appendChild.call(document.body,e);var t=e.offsetWidth-e.clientWidth;pt=t;var r=ot["default"].nodeParentNodeGetter.call(e);r.removeChild(e)}return pt}function v(e){var t=ot["default"].nodeParentNodeGetter.call(e);return He(t,"select")}function g(e){for(var t=ot["default"].elementQuerySelectorAll.call(e,"optgroup, option"),r=[],n=ot["default"].nodeListLengthGetter.call(t),i=0;i<n;i++){var o=t[i],a=!ut.isFirefox||("optgroup"!==P(o)||o.label);a&&r.push(o)}return r}function y(e){var t=e,r=e.parent;if(t===e.top)return t;for(;r;){if(!w(e,r)){var n=p(r);n&&L(n)||(t=r)}r=r!==e.top?r.parent:null}return t}function E(e,t,r){var n=ct.getNativeQuerySelectorAll(e).call(e,t);if(r)for(var i=ot["default"].nodeListLengthGetter.call(n),o=0;o<i;o++)r(n[o]);return n}function _(e){if(e.documentElement)return e;if(e.ownerDocument&&e.ownerDocument.defaultView)return e.ownerDocument;var t=xe(e)&&ot["default"].nodeParentNodeGetter.call(e);return t?_(t):document}function S(e){var t=!1,r=null;return r=Te(e)?e.parentElement||ot["default"].nodeParentNodeGetter.call(e):e,
!!r&&(t=r.isContentEditable&&!i(r),le(r)&&(t||"on"===_(e).designMode))}function b(e,t){var r=d(e);if(!t&&null===r.documentLocation)return!0;var n=t?r.srcLocation:r.documentLocation;return!(!n||!at.isSupportedProtocol(n))&&!lt.sameOriginCheck(location.toString(),n)}function w(e,t){try{if(e===t)return!1;var r=e.location.toString(),n=t.location.toString();return!(!at.isSupportedProtocol(r)||!at.isSupportedProtocol(n))&&!lt.sameOriginCheck(r,n)}catch(i){return!0}}function x(e){return e!==e.top}function T(e){return e instanceof ot["default"].elementClass||e&&Et.test(s(e))&&xe(e)&&e.tagName}function P(e){return e&&"string"==typeof e.tagName?e.tagName.toLowerCase():""}function A(t){for(var r=ot["default"].nodeParentNodeGetter.call(t);r&&r.nodeType!==Node.DOCUMENT_FRAGMENT_NODE;)r=ot["default"].nodeParentNodeGetter.call(r);return r&&r[e.SHADOW_ROOT_PARENT_ELEMENT]}function C(t){var r=ot["default"].nodeParentNodeGetter.call(t);return r&&r.nodeType===Node.DOCUMENT_FRAGMENT_NODE&&r[e.SHADOW_ROOT_PARENT_ELEMENT]?r[e.SHADOW_ROOT_PARENT_ELEMENT]:r}function I(e,t){var r=t||document;if(!r.documentElement)return!1;if(r.documentElement.contains(e))return!0;var n=A(e);return!!n&&I(n)}function O(e,t){var r=t||_(e);return window.document!==r}function M(e){return e===rt["default"].focusPseudoClass||e===rt["default"].hoverPseudoClass||e.indexOf(rt["default"].storedAttrPostfix)!==-1}function N(e){return"[object HTMLIFrameElement]"===s(e)}function D(e){return"[object HTMLFrameElement]"===s(e)}function L(e){var t=d(e),r=t.srcLocation,n=t.documentLocation;if(null===n)return!1;if(ot["default"].contentWindowGetter.call(e)[nt["default"].documentWasCleaned])return!0;var i=at.isSupportedProtocol(n);return!i&&!ot["default"].getAttribute.call(e,"src")||(!r||!at.isSupportedProtocol(r))&&!i}function k(e){return ot["default"].iframeSrcdocGetter&&ot["default"].hasAttribute.call(e,"srcdoc")}function j(e){return"[object HTMLImageElement]"===s(e)}function R(e){return"[object HTMLInputElement]"===s(e)}function U(e){return"[object HTMLTitleElement]"===s(e)}function F(e){return"[object HTMLButtonElement]"===s(e)}function H(e){return"[object HTMLFieldSetElement]"===s(e)}function B(e){return"[object HTMLOptGroupElement]"===s(e)}function V(e){return"[object HTMLHtmlElement]"===s(e)}function W(e){return"[object HTMLBodyElement]"===s(e)}function G(e){return"[object HTMLHeadElement]"===s(e)}function q(e){var t=s(e);return"[object HTMLHeadElement]"===t||"[object HTMLBodyElement]"===t}function K(e){var t=s(e);return"[object HTMLHeadElement]"===t||"[object HTMLBodyElement]"===t||"[object HTMLHtmlElement]"===t}function z(e){return"[object HTMLBaseElement]"===s(e)}function X(e){return"[object HTMLScriptElement]"===s(e)}function Y(e){return"[object HTMLStyleElement]"===s(e)}function $(e){return"[object HTMLLabelElement]"===s(e)}function Q(e){return"[object HTMLTextAreaElement]"===s(e)}function J(e){return"[object HTMLOptionElement]"===s(e)}function Z(e){return R(e)&&"radio"===e.type.toLowerCase()}function ee(e){return R(e)&&"color"===e.type.toLowerCase()}function te(e){return R(e)&&"checkbox"===e.type.toLowerCase()}function re(e){return"[object HTMLSelectElement]"===s(e)}function ne(e){return"[object HTMLFormElement]"===s(e)}function ie(e){return R(e)&&"file"===e.type.toLowerCase()}function oe(e){return R(e)&&It.test(e.type.toLowerCase())}function ae(e){return W(e)&&ot["default"].htmlCollectionLengthGetter.call(e.children)}function se(e){return ft.indexOf(s(e))!==-1}function le(e){return!(Pe(e)||Ae(e)||Pt.test(e.nodeName))}function ue(e){var t=ot["default"].getAttribute.call(e,"tabIndex");return t=parseInt(t,10),isNaN(t)?null:t}function ce(e){if(!e)return!1;var t=ue(e),r=Fe(e,":disabled"),i="hidden"===st.get(e,"visibility"),o="none"===st.get(e,"display"),a=ut.isWebKit?n(e)&&!J(e):n(e);return!(r||i||o||a)&&((!J(e)||!ut.isIE)&&(Oe(e)?null!==t||Fe(e,"a[href]"):!(!Ne(e)||!ut.isIE)||(Fe(e,Ot)||null!==t)))}function de(e){return!!e[nt["default"].shadowUIElement]}function pe(e){if(e instanceof ot["default"].windowClass)return!0;try{return(ut.isIE||ut.isMSEdge)&&e&&e===e.window&&(e=e.window),e&&e.toString&&mt===s(e)}catch(t){try{return!!e.top}catch(r){return!1}}}function fe(e){if(e instanceof ot["default"].documentClass)return!0;try{return e&&vt.test(s(e))}catch(t){return!1}}function he(e){return e&&"[object Blob]"===s(e)}function me(e){return!!e&&(ut.isIE||ut.isSafari||ut.isChrome?o(e):e instanceof ot["default"].locationClass||"[object Location]"===ot["default"].objectToString.call(e))}function ve(e){return e instanceof ot["default"].svgElementClass||e&&yt.test(s(e))}function ge(e){return!!He(e,"svg")}function ye(e){return!!(ot["default"].Headers&&e instanceof ot["default"].Headers)||e&&"[object Headers]"===s(e)}function Ee(e){return!!(ot["default"].Request&&e instanceof ot["default"].Request)||e&&"[object Request]"===s(e)}function _e(e){return e.readOnly||"readonly"===e.getAttribute("readonly")}function Se(e){var t=e.getAttribute("type");return R(e)&&t?At.test(t):At.test(e.type)}function be(e){return Se(e)||Q(e)}function we(e){return be(e)&&!_e(e)}function xe(e){return e&&e.nodeType===wt}function Te(e){return"[object Text]"===s(e)}function Pe(e){return gt.test(s(e))}function Ae(e){return"[object Comment]"===s(e)}function Ce(e){return"[object DocumentFragment]"===s(e)}function Ie(e){return"[object ShadowRoot]"===s(e)}function Oe(e){return"[object HTMLAnchorElement]"===s(e)}function Me(e){return"[object HTMLTableElement]"===s(e)}function Ne(e){return s(e)===bt}function De(e){return"[object WebSocket]"===s(e)}function Le(e){return"[object MessageEvent]"===s(e)}function ke(e){return"[object PerformanceNavigationTiming]"===s(e)}function je(e){return e instanceof ot["default"].ArrayBuffer||e&&_t.test(s(e))}function Re(e){return e&&ot["default"].arrayBufferIsView(e)}function Ue(e){return e instanceof ot["default"].DataView||e&&St.test(s(e))}function Fe(e,t){return!!xe(e)&&ot["default"].matches.call(e,t)}function He(e,t){return xe(e)?ot["default"].closest?ot["default"].closest.call(e,t):a(e,t):null}function Be(e,t){if(e)for(var r=t.split(/\s+/),n=0;n<r.length;n++){var i=r[n];ot["default"].tokenListAdd.call(ot["default"].elementClassListGetter.call(e),i)}}function Ve(e,t){if(e)for(var r=t.split(/\s+/),n=0;n<r.length;n++){var i=r[n];ot["default"].tokenListRemove.call(ot["default"].elementClassListGetter.call(e),i)}}function We(e,t){return!!e&&ot["default"].tokenListContains.call(ot["default"].elementClassListGetter.call(e),t)}function Ge(){var e=ot["default"].querySelector.call(document,"."+it["default"].charset);return e&&e.getAttribute("charset")}function qe(e,t){for(var r=[],n=Ke(e);n;)(!t&&xe(n)||t&&Fe(n,t))&&r.push(n),n=Ke(n);return r}function Ke(e){return e=e.assignedSlot||e,ot["default"].nodeParentNodeGetter.call(e)||e.host}function ze(e,t,r){for(void 0===t&&(t=!1),t||(e=ot["default"].nodeParentNodeGetter.call(e));e;){if("function"!=typeof r||r(e))return e;e=ot["default"].nodeParentNodeGetter.call(e)}return null}function Xe(e){for(var t=[],r=ot["default"].nodeListLengthGetter.call(e),n=0;n<r;n++)t.push(e[n]);return t}function Ye(e){return ie(e)?[e]:Xe(ct.getNativeQuerySelectorAll(e).call(e,"input[type=file]"))}function $e(e){return N(e)?[e]:Xe(ct.getNativeQuerySelectorAll(e).call(e,"iframe,frame"))}function Qe(e){return X(e)?[e]:Xe(ct.getNativeQuerySelectorAll(e).call(e,"script"))}function Je(e){return R(e)&&Ct.test(e.type)}function Ze(e){if(!Je(e))return!1;var t="number"==typeof e.selectionStart&&"number"==typeof e.selectionEnd;return!t}var et=function(e){return e&&e.__esModule?e:{"default":e}},tt=function(e){if(e&&e.__esModule)return e;var t={};if(null!=e)for(var r in e)Object.hasOwnProperty.call(e,r)&&(t[r]=e[r]);return t["default"]=e,t};Object.defineProperty(e,"__esModule",{value:!0});var rt=et(r("../../processing/dom/internal-attributes")),nt=et(r("../../processing/dom/internal-properties")),it=et(r("../../shadow-ui/class-name")),ot=et(r("../sandbox/native-methods")),at=tt(r("./url")),st=r("./style"),lt=r("./destination-location"),ut=r("./browser"),ct=r("./query-selector"),dt=r("./feature-detection"),pt=0,ft=["[object HTMLMapElement]","[object HTMLAreaElement]"],ht="undefined"==typeof window,mt=ht?"":s(window),vt=/^\[object .*?Document]$/i,gt=/^\[object .*?ProcessingInstruction]$/i,yt=/^\[object SVG\w+?Element]$/i,Et=/^\[object HTML.*?Element]$/i,_t=/^\[object ArrayBuffer]$/i,St=/^\[object DataView]$/i,bt=ht?"":s(ot["default"].createElement.call(document,"td")),wt=ht?-1:Node.ELEMENT_NODE,xt=/^(select|option|applet|area|audio|canvas|datalist|keygen|map|meter|object|progress|source|track|video|img)$/,Tt=/^(input|textarea|button)$/,Pt=/^(script|style)$/i,At=/^(email|number|password|search|tel|text|url)$/,Ct=/^(number|email)$/,It=/^(color|date|datetime-local|month|week)$/,Ot='input, select, textarea, button, body, iframe, [contenteditable="true"], [contenteditable=""], [tabIndex]';e.instanceToString=s,e.getActiveElement=l,e.getChildVisibleIndex=u,e.getIframeByElement=c,e.getIframeLocation=d,e.getFrameElement=p,e.getMapContainer=f,e.getParentWindowWithSrc=h,e.getScrollbarSize=m,e.getSelectParent=v,e.getSelectVisibleChildren=g,e.getTopSameDomainWindow=y,e.find=E,e.findDocument=_,e.isContentEditableElement=S,e.isCrossDomainIframe=b,e.isCrossDomainWindows=w,e.isIframeWindow=x,e.isDomElement=T,e.getTagName=P,e.SHADOW_ROOT_PARENT_ELEMENT="hammerhead|element|shadow-root-parent",e.getNodeShadowRootParent=A,e.getParentExceptShadowRoot=C,e.isElementInDocument=I,e.isElementInIframe=O,e.isHammerheadAttr=M,e.isIframeElement=N,e.isFrameElement=D,e.isIframeWithoutSrc=L,e.isIframeWithSrcdoc=k,e.isImgElement=j,e.isInputElement=R,e.isTitleElement=U,e.isButtonElement=F,e.isFieldSetElement=H,e.isOptGroupElement=B,e.isHtmlElement=V,e.isBodyElement=W,e.isHeadElement=G,e.isHeadOrBodyElement=q,e.isHeadOrBodyOrHtmlElement=K,e.isBaseElement=z,e.isScriptElement=X,e.isStyleElement=Y,e.isLabelElement=$,e.isTextAreaElement=Q,e.isOptionElement=J,e.isRadioButtonElement=Z,e.isColorInputElement=ee,e.isCheckboxElement=te,e.isSelectElement=re,e.isFormElement=ne,e.isFileInput=ie,e.isInputWithNativeDialog=oe,e.isBodyElementWithChildren=ae,e.isMapElement=se,e.isRenderedNode=le,e.getTabIndex=ue,e.isElementFocusable=ce,e.isShadowUIElement=de,e.isWindow=pe,e.isDocument=fe,e.isBlob=he,e.isLocation=me,e.isSVGElement=ve,e.isSVGElementOrChild=ge,e.isFetchHeaders=ye,e.isFetchRequest=Ee,e.isElementReadOnly=_e,e.isTextEditableInput=Se,e.isTextEditableElement=be,e.isTextEditableElementAndEditingAllowed=we,e.isElementNode=xe,e.isTextNode=Te,e.isProcessingInstructionNode=Pe,e.isCommentNode=Ae,e.isDocumentFragmentNode=Ce,e.isShadowRoot=Ie,e.isAnchorElement=Oe,e.isTableElement=Me,e.isTableDataCellElement=Ne,e.isWebSocket=De,e.isMessageEvent=Le,e.isPerformanceNavigationTiming=ke,e.isArrayBuffer=je,e.isArrayBufferView=Re,e.isDataView=Ue,e.matches=Fe,e.closest=He,e.addClass=Be,e.removeClass=Ve,e.hasClass=We,e.parseDocumentCharset=Ge,e.getParents=qe,e.findParent=ze,e.nodeListToArray=Xe,e.getFileInputs=Ye,e.getIframes=$e,e.getScripts=Qe,e.isNumberOrEmailInput=Je,e.isInputWithoutSelectionProperties=Ze},"event-emitter.js":function(e,t,r){var n=function(e){return e&&e.__esModule?e:{"default":e}};Object.defineProperty(e,"__esModule",{value:!0});var i=n(r("../sandbox/native-methods")),o=r("./browser"),a=function(){function e(){this.eventsListeners=i["default"].objectCreate(null)}var t=e.prototype;return t.emit=function(e){var t=this.eventsListeners[e];if(t){for(var r=0,n=arguments.length,a=new Array(n>1?n-1:0),s=1;s<n;s++)a[s-1]=arguments[s];for(;t[r];){if(o.isIE)try{t[r].toString()}catch(l){i["default"].arraySplice.call(t,r,1);continue}t[r++].apply(this,a)}}},t.off=function(e,t){var r=this.eventsListeners[e];r&&(this.eventsListeners[e]=i["default"].arrayFilter.call(r,function(e){return e!==t}))},t.on=function(e,t){return this.eventsListeners[e]=this.eventsListeners[e]||[],this.eventsListeners[e].indexOf(t)===-1&&this.eventsListeners[e].push(t),t},e}();e["default"]=a,t.exports=e["default"]},"event.js":function(e,t,r){function n(e,t){e.preventDefault?e.preventDefault():e.returnValue=!1,t||i(e)}function i(e){e.stopImmediatePropagation?e.stopImmediatePropagation():e.stopPropagation&&e.stopPropagation(),e.cancelBubble=!0}function o(e){return"object"==typeof e&&e&&"function"==typeof e.handleEvent}function a(e){return"function"==typeof e||o(e)}function s(e,t,r){return o(t)?t.handleEvent.call(t,r):t.call(e,r)}function l(e){return d.indexOf(e)!==-1}var u=function(e){return e&&e.__esModule?e:{"default":e}};Object.defineProperty(e,"__esModule",{value:!0});var c=u(r("../sandbox/native-methods")),d=["blur","focus","focusin","focusout","click","dblclick","mousedown","mousemove","mouseout","mouseover","mouseup","beforeinput","input","keydown","keyup"];e.BUTTON={left:0,middle:1,right:2},e.BUTTONS_PARAMETER={noButton:0,leftButton:1,rightButton:2},e.WHICH_PARAMETER={noButton:0,leftButton:1,middleButton:2,rightButton:3},e.KEYBOARD_MODIFIERS_PARAMETER={altKey:"Alt",ctrlKey:"Control",shiftKey:"Shift",metaKey:"Meta"},e.DOM_EVENTS=["click","dblclick","contextmenu","mousedown","mouseup","mousemove","mouseover","mouseout","mouseenter","mouseleave","touchstart","touchmove","touchend","keydown","keypress","keyup","textInput","textinput","input","change","focus","blur","MSPointerDown","MSPointerMove","MSPointerOver","MSPointerOut","MSPointerUp","pointerdown","pointermove","pointerover","pointerout","pointerup","pointerenter","pointerleave","dragstart","drop","focusin","focusout"],e.preventDefault=n,e.stopPropagation=i,e.isObjectEventListener=o,e.isValidEventListener=a,e.callEventListener=s,e.isComposedEvent=l,e.hasPointerEvents=!(!c["default"].WindowPointerEvent&&!c["default"].WindowMSPointerEvent)},"extend.js":function(e,t,r){function n(e){e=e||{};var t=null,r=null;"object"!=typeof e&&"[object Function]"!==e.toString()&&(e={});for(var n=0;n<(arguments.length<=1?0:arguments.length-1);n++)if(t=n+1<1||arguments.length<=n+1?void 0:arguments[n+1],null!==t)for(var i in t)r=t[i],e!==r&&void 0!==r&&(e[i]=r);return e}Object.defineProperty(e,"__esModule",{value:!0}),e["default"]=n,t.exports=e["default"]},"fast-apply.js":function(e,t,r){function n(e,t,r){var n=e[t];switch(r.length){case 1:return n.call(e,r[0]);case 2:return n.call(e,r[0],r[1]);case 3:return n.call(e,r[0],r[1],r[2]);case 4:return n.call(e,r[0],r[1],r[2],r[3]);case 5:return n.call(e,r[0],r[1],r[2],r[3],r[4]);default:return n.apply(e,r)}}Object.defineProperty(e,"__esModule",{value:!0}),e["default"]=n,t.exports=e["default"]},"feature-detection.js":function(e,t,r){var n=function(e){return e&&e.__esModule?e:{"default":e}},i=function(e){if(e&&e.__esModule)return e;var t={};if(null!=e)for(var r in e)Object.hasOwnProperty.call(e,r)&&(t[r]=e[r]);return t["default"]=e,t};Object.defineProperty(e,"__esModule",{value:!0});var o=n(r("../sandbox/native-methods")),a=i(r("./browser"));if(e.emptyActionAttrFallbacksToTheLocation=!1,e.instanceAndPrototypeToStringAreEqual=!1,e.hasTouchEvents=!1,e.hasTouchPoints=!1,e.isTouchDevice=!1,e.hasDataTransfer=!1,e.attrGetNamedItemIsNotEnumerable=!1,e.getElementsByNameReturnsHTMLCollection=!1,o["default"].createElement){var s=o["default"].createElement.call(document,"form"),l=o["default"].getElementsByName.call(document,"");e.emptyActionAttrFallbacksToTheLocation=o["default"].formActionGetter.call(s)===window.location.toString(),e.instanceAndPrototypeToStringAreEqual=o["default"].objectToString.call(window)===o["default"].objectToString.call(Window.prototype),e.hasTouchEvents="ontouchstart"in window,e.hasTouchPoints=a.isIE&&(navigator.maxTouchPoints>0||navigator.msMaxTouchPoints>0),e.isTouchDevice=(a.isMobile||a.isTablet)&&e.hasTouchEvents,e.hasDataTransfer=!!window.DataTransfer,e.attrGetNamedItemIsNotEnumerable=!!o["default"].objectGetOwnPropertyDescriptor.call(window.Object,NamedNodeMap.prototype,"getNamedItem"),e.getElementsByNameReturnsHTMLCollection=o["default"].objectGetPrototypeOf.call(window.Object,l)===o["default"].HTMLCollection.prototype}},"fn-bind.js":function(e,t,r){function n(e,t){return function(){return e.apply(t,arguments)}}Object.defineProperty(e,"__esModule",{value:!0}),e["default"]=n,t.exports=e["default"]},"get-mime-type.js":function(e,t,r){function n(e,t){if(t.length<e.pattern.length)return!1;for(var r=0,n=0,i=null;r<e.pattern.length;){if(i=t[n]&e.mask[r],i!==e.pattern[r])return!1;n++,r++}return!0}function i(e,t){s.isArrayBuffer(t[0])?t=t[0]:s.isArrayBufferView(t[0])&&(t=s.isDataView(t[0])?t[0].buffer:t[0]);for(var r=new l["default"].Uint8Array(t),i=0;i<e.length;i++){var o=e[i];if(n(o,r))return o.mime}return r=null,""}function o(e){return i(u,e)||i(c,e)||i(d,e)||i(p,e)}var a=function(e){return e&&e.__esModule?e:{"default":e}};Object.defineProperty(e,"__esModule",{value:!0});var s=r("./dom"),l=a(r("../sandbox/native-methods")),u=[{mime:"image/x-icon",pattern:[0,0,1,0],mask:[255,255,255,255]},{mime:"image/x-icon",pattern:[0,0,2,0],mask:[255,255,255,255]},{mime:"image/bmp",pattern:[66,77],mask:[255,255]},{mime:"image/gif",pattern:[71,73,70,56,55,97],mask:[255,255,255,255,255,255]},{mime:"image/gif",pattern:[71,73,70,56,57,97],mask:[255,255,255,255,255,255]},{mime:"image/webp",pattern:[82,73,70,70,0,0,0,0,87,69,66,80,86,80],mask:[255,255,255,255,0,0,0,0,255,255,255,255,255,255]},{mime:"image/png",pattern:[137,80,78,71,13,10,26,10],mask:[255,255,255,255,255,255,255,255]},{mime:"image/jpeg",pattern:[255,216,255],mask:[255,255,255]}],c=[{mime:"audio/basic",pattern:[46,115,110,100],mask:[255,255,255,255]},{mime:"audio/aiff",pattern:[70,79,82,77,0,0,0,0,65,73,70,70],mask:[255,255,255,255,0,0,0,0,255,255,255,255]},{mime:"audio/mpeg",pattern:[73,68,51],mask:[255,255,255]},{mime:"application/ogg",pattern:[79,103,103,83,0],mask:[255,255,255,255,255]},{mime:"audio/midi",pattern:[77,84,104,100,0,0,0,6],mask:[255,255,255,255,255,255,255,255]},{mime:"video/avi",pattern:[82,73,70,70,0,0,0,0,65,86,73,32],mask:[255,255,255,255,0,0,0,0,255,255,255,255]},{mime:"audio/wave",pattern:[82,73,70,70,0,0,0,0,87,65,86,69],mask:[255,255,255,255,0,0,0,0,255,255,255,255]}],d=[{mime:"application/vnd.ms-fontobject",pattern:[0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,76,80],mask:[0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,255,255]},{mime:"application/octet-stream",pattern:[0,1,0,0],mask:[255,255,255,255]},{mime:"application/octet-stream",pattern:[79,84,84,79],mask:[255,255,255,255]},{mime:"application/octet-stream",pattern:[116,116,99,102],mask:[255,255,255,255]},{mime:"application/font-woff",pattern:[119,79,70,70],mask:[255,255,255,255]}],p=[{mime:"application/x-gzip",pattern:[31,139,8],mask:[255,255,255]},{mime:"application/zip",pattern:[80,75,3,4],mask:[255,255,255,255]},{mime:"application/x-rar-compressed",pattern:[82,97,114,32,26,7,0],mask:[255,255,255,255,255,255,255]}];e["default"]=o,t.exports=e["default"]},"get-random-int-16-value.js":function(e,t,r){function n(){var e=new o["default"].Uint16Array(1);return o["default"].cryptoGetRandomValues.call(o["default"].crypto,e),e[0]}var i=function(e){return e&&e.__esModule?e:{"default":e}};Object.defineProperty(e,"__esModule",{value:!0});var o=i(r("../sandbox/native-methods"));e["default"]=n,t.exports=e["default"]},"get-top-opener-window.js":function(e,t,r){function n(){if(!i)for(i=window.top;i.opener&&i!==i.opener;)i=i.opener.top;return i}Object.defineProperty(e,"__esModule",{value:!0});var i=null;e["default"]=n,t.exports=e["default"]},"global-context-info.js":function(e,t,r){Object.defineProperty(e,"__esModule",{value:!0});var n="undefined"==typeof window&&"object"==typeof self,i=n?self:window;e["default"]={isInWorker:n,global:i,isServiceWorker:n&&!i.XMLHttpRequest},t.exports=e["default"]},"html.js":function(e,t,r){function n(){try{ie.location&&ie.location.toString()}catch(e){ie=b["default"].createHTMLDocument.call(document.implementation,"title"),oe=b["default"].createDocumentFragment.call(ie),oe[re]=!0}return ie}function i(e){return e.replace(z,X).replace(G,q).replace(V,W)}function o(e){return e.replace(Y,"<!doctype$1>").replace(K,"<$2$1$4$3").replace(B,"$1")}function a(e){return/^\s*(<\s*(!doctype|html|head|body)[^>]*>)/i.test(e)}function s(e,t){var r=b["default"].createElement.call(n(),"div");e=i(e),b["default"].appendChild.call(oe,r),b["default"].elementInnerHTMLSetter.call(r,e);var a=t(r)?b["default"].elementInnerHTMLGetter.call(r):e;return k["default"](r),a=o(a),I.isIE&&!I.isMSEdge&&e!==a&&(a=g(e,a)),a}function l(e){var t=x["default"].getUrlAttr(e);if(t&&b["default"].hasAttribute.call(e,t)){var r=w["default"].getStoredAttrName(t);b["default"].hasAttribute.call(e,r)&&(b["default"].setAttribute.call(e,t,b["default"].getAttribute.call(e,r)),b["default"].removeAttribute.call(e,r))}}function u(e){if(b["default"].hasAttribute.call(e,"autocomplete")){var t=w["default"].getStoredAttrName("autocomplete");if(b["default"].hasAttribute.call(e,t)){var r=b["default"].getAttribute.call(e,t);w["default"].isAddedAutocompleteAttr("autocomplete",r)?b["default"].removeAttribute.call(e,"autocomplete"):b["default"].setAttribute.call(e,"autocomplete",r),b["default"].removeAttribute.call(e,t)}}}function c(e){var t=x["default"].getTargetAttr(e);if(t&&b["default"].hasAttribute.call(e,t)){var r=w["default"].getStoredAttrName(t);b["default"].hasAttribute.call(e,r)&&(b["default"].setAttribute.call(e,t,b["default"].getAttribute.call(e,r)),b["default"].removeAttribute.call(e,r))}}function d(e){if("iframe"===x["default"].adapter.getTagName(e)&&b["default"].hasAttribute.call(e,"sandbox")){var t=w["default"].getStoredAttrName("sandbox");b["default"].hasAttribute.call(e,t)&&(b["default"].setAttribute.call(e,"sandbox",b["default"].getAttribute.call(e,t)),b["default"].removeAttribute.call(e,t))}}function p(e){if(b["default"].hasAttribute.call(e,"style")){var t=w["default"].getStoredAttrName("style");b["default"].hasAttribute.call(e,t)&&(b["default"].setAttribute.call(e,"style",b["default"].getAttribute.call(e,t)),b["default"].removeAttribute.call(e,t))}}function f(e){return s(e,function(e){var t=!1;return A.find(e,J,function(e){l(e),u(e),c(e),d(e),p(e),t=!0}),A.find(e,Z,function(e){var r=b["default"].nodeParentNodeGetter.call(e);r&&(b["default"].removeChild.call(r,e),t=!0)}),A.find(e,"script",function(e){var r=b["default"].nodeTextContentGetter.call(e),n=T.remove(r);r!==n&&(b["default"].nodeTextContentSetter.call(e,n),t=!0)}),A.find(e,"style",function(e){var r=b["default"].nodeTextContentGetter.call(e),n=P["default"].cleanUp(r,C.parseProxyUrl);r!==n&&(b["default"].nodeTextContentSetter.call(e,n),t=!0)}),A.find(e,ee,function(e){b["default"].removeAttribute.call(e,_["default"].hoverPseudoClass),b["default"].removeAttribute.call(e,_["default"].focusPseudoClass),t=!0}),A.find(e,te,function(e){var r=b["default"].elementInnerHTMLGetter.call(e);r.indexOf(D["default"].iframeInit)!==-1&&(b["default"].elementInnerHTMLSetter.call(e,r.replace(D["default"].iframeInit,"")),t=!0)}),t})}function h(e,t){void 0===t&&(t={});var r=t,n=r.parentTag,i=r.prepareDom,a=r.processedContext,l=r.isPage;return s(e,function(e){var t=null,r=[],s=[],u=0,c=O.getBaseUrl(document);i&&i(e),b["default"].htmlCollectionLengthGetter.call(e.children)&&(s=b["default"].elementQuerySelectorAll.call(e,"*"),u=b["default"].nodeListLengthGetter.call(s));var d=b["default"].elementQuerySelector.call(e,"base");d&&O.updateBase(b["default"].getAttribute.call(d,"href"),document);for(var p=0;p<u;p++){var f=s[p];if(A.isScriptElement(f)){var h=b["default"].nodeTextContentGetter.call(f);b["default"].nodeTextContentSetter.call(f,o(h))}f[M["default"].processedContext]=a,x["default"].processElement(f,C.convertToProxyUrl);var m=A.getTagName(f);m===U||m===F?r.push(f):m===R&&(t=f)}if(!n)if(r.length)for(var v=0;v<r.length;v++){var g=r[v],y=b["default"].elementQuerySelector.call(g,ne);y?b["default"].insertAdjacentHTML.call(y,L["default"].beforeBegin,D["default"].iframeInit):b["default"].insertAdjacentHTML.call(g,L["default"].beforeEnd,D["default"].iframeInit)}else t&&I.isIE?b["default"].insertAdjacentHTML.call(t,L["default"].afterEnd,D["default"].iframeInit):l&&b["default"].insertAdjacentHTML.call(e,L["default"].afterBegin,D["default"].iframeInit);return O.updateBase(c,document),!0})}function m(){oe=null,ie=null}function v(e){for(;b["default"].nodeParentNodeGetter.call(e);)e=b["default"].nodeParentNodeGetter.call(e);return!!e[re]}function g(e,t){var r=e.match($),n=0;return r?t.replace($,function(e){var t=r[n],i=t?t.match(Q):null;return t&&n++,t?e.replace(Q,function(){var e=i?i.join(""):"";return i&&(i=null),e}):e}):t}var y=function(e){return e&&e.__esModule?e:{"default":e}},E=function(e){if(e&&e.__esModule)return e;var t={};if(null!=e)for(var r in e)Object.hasOwnProperty.call(e,r)&&(t[r]=e[r]);return t["default"]=e,t};Object.defineProperty(e,"__esModule",{value:!0});var _=y(r("../../processing/dom/internal-attributes")),S=y(r("../../shadow-ui/class-name")),b=y(r("../sandbox/native-methods")),w=y(r("../../processing/dom")),x=y(r("../dom-processor")),T=r("../../processing/script/header"),P=y(r("../../processing/style")),A=r("./dom"),C=r("./url"),I=r("./browser"),O=E(r("./url-resolver")),M=y(r("../../processing/dom/internal-properties")),N=r("../../processing/dom/attributes"),D=y(r("../../utils/self-removing-scripts")),L=y(r("./insert-position")),k=y(r("../utils/remove-element")),j="hh_fake_tag_name_",R="hh_fake_doctype",U=j+"head",F=j+"body",H="hh_fake_attr",B=new RegExp("(<\\/?)"+j,"ig"),V=/(<\/?)(html|head|body|table|tbody|tfoot|thead|tr|td|th|caption|colgroup)((?:\s[^>]*)?>)/gi,W="$1"+j+"$2$3",G=/<(\/?(?:col|noscript))(\s[^>]*?)?(\s?\/)?>/gi,q="<br "+H+'="$1|$3"$2>',K=new RegExp("<br([^>]*?) "+H+'="([^|]+)\\|([^"]*)"([^>]*)',"ig"),z=/<!doctype([^>]*)>/gi,X="<"+R+">$1</"+R+">",Y=new RegExp("<"+R+">([\\S\\s]*?)</"+R+">","ig"),$=/<svg\s?[^>]*>/gi,Q=/\s(?:NS[0-9]+:[^"']+('|")[\S\s]*?\1|[^:]+:NS[0-9]+=(?:""|''))/g,J=function(){for(var e=[],t=0,r=N.URL_ATTRS;t<r.length;t++){var n=r[t];e.push(w["default"].getStoredAttrName(n))}for(var i=0,o=N.ATTRS_WITH_SPECIAL_PROXYING_LOGIC;i<o.length;i++){var a=o[i];e.push(w["default"].getStoredAttrName(a))}return"["+e.join("],[")+"]"}(),Z='[class*="'+S["default"].postfix+'"]',ee="["+_["default"].hoverPseudoClass+"],["+_["default"].focusPseudoClass+"]",te=U+", "+F,re="hammerhead|html-parser-element-flag",ne='script,link[rel="stylesheet"]',ie=b["default"].createHTMLDocument.call(document.implementation,"title"),oe=b["default"].createDocumentFragment.call(ie);oe[re]=!0,e.isPageHtml=a,e.cleanUpHtml=f,e.processHtml=h,e.dispose=m,e.isInternalHtmlParserElement=v},"insert-position.js":function(e,t,r){Object.defineProperty(e,"__esModule",{value:!0});var n;!function(e){e.beforeBegin="beforebegin",e.afterBegin="afterbegin",e.beforeEnd="beforeend",e.afterEnd="afterend"}(n||(n={})),e["default"]=n,t.exports=e["default"]},"integer-id-generator.js":function(e,t,r){function n(e,t){for(var r=0;r<t.length;r++){var n=t[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,n.key,n)}}function i(e,t,r){return t&&n(e.prototype,t),r&&n(e,r),e}Object.defineProperty(e,"__esModule",{value:!0});var o=Number.MAX_SAFE_INTEGER||9007199254740991,a=Number.MIN_SAFE_INTEGER||-9007199254740991,s=function(){function e(){this._id=a}var t=e.prototype;return t.increment=function(){return this._id=this._id===o?a:this._id+1,this._id},i(e,[{key:"value",get:function(){return this._id}}]),e}();e["default"]=s,t.exports=e["default"]},"next-tick.js":function(e,t,r){function n(){return new o["default"](function(e){return a["default"].setTimeout.call(window,e,0)})}var i=function(e){return e&&e.__esModule?e:{"default":e}};Object.defineProperty(e,"__esModule",{value:!0});var o=i(r("pinkie")),a=i(r("../sandbox/native-methods"));e["default"]=n,t.exports=e["default"]},"noop.js":function(e,t,r){function n(){}Object.defineProperty(e,"__esModule",{value:!0}),e["default"]=n,t.exports=e["default"]},"overriding.js":function(e,t,r){function n(e,t,r){if(r&&e[t]){var n=e[t].toString();r.toString=function(){return n}}e[t]=r}function i(e,t,r){var i=r.getter,o=r.setter,a=r.value,s=f["default"].objectGetOwnPropertyDescriptor(e,t);if((i||o)&&a)throw new Error("Cannot both specify accessors and a value or writable attribute.");return a?(f["default"].objectHasOwnProperty.call(s,"writable")||(s.writable=!!s.set,delete s.get,delete s.set),s.value=a):(f["default"].objectHasOwnProperty.call(s,"writable")&&(delete s.value,delete s.writable),null!==i&&n(s,"get",i),null!==o&&n(s,"set",o)),s}function o(e,t,r){var n=i(e,t,r);f["default"].objectDefineProperty(e,t,n)}function a(e,t){var r=f["default"].objectGetOwnPropertyDescriptor(e,"name");r&&(r.value=t,f["default"].objectDefineProperty(e,"name",r))}function s(e,t){f["default"].objectDefineProperty(e,h["default"].nativeStrRepresentation,{value:f["default"].Function.prototype.toString.call(t),configurable:!0})}function l(e,t){a(e,t.name),s(e,t)}function u(e){return!f["default"].objectHasOwnProperty.call(e,h["default"].nativeStrRepresentation)}function c(e,t,r){var n=e[t];u(n)&&(l(r,n),e[t]=r)}function d(e,t,r,n){void 0===n&&(n=!1);var i=e[t].prototype;c(e,t,r),e[t].prototype=i,n&&(e[t].prototype.constructor=r)}var p=function(e){return e&&e.__esModule?e:{"default":e}};Object.defineProperty(e,"__esModule",{value:!0});var f=p(r("../sandbox/native-methods")),h=p(r("../../processing/dom/internal-properties"));e.createOverriddenDescriptor=i,e.overrideDescriptor=o,e.overrideStringRepresentation=l,e.isNativeFunction=u,e.overrideFunction=c,e.overrideConstructor=d},"position.js":function(e,t,r){function n(e,t){var r=m["default"].getAttribute.call(e,"shape"),n=m["default"].getAttribute.call(e,"coords"),i=0;if("default"===r)return s(t);if(!r||!n)return null;if(n=n.split(","),!n.length)return null;for(i=0;i<n.length;i++)if(n[i]=parseInt(n[i],10),"number"!=typeof n[i])return null;var o=null;switch(r){case"rect":4===n.length&&(o={height:n[3]-n[1],left:n[0],top:n[1],width:n[2]-n[0]});break;case"circle":3===n.length&&(o={height:2*n[2],left:n[0]-n[2],top:n[1]-n[2],width:2*n[2]});break;case"poly":if(n.length>=6&&n.length%2===0){for(o={},o.left=o.right=n[0],o.top=o.bottom=n[1],i=2;i<n.length;i+=2)o.left=n[i]<o.left?n[i]:o.left,o.right=n[i]>o.right?n[i]:o.right;for(i=3;i<n.length;i+=2)o.top=n[i]<o.top?n[i]:o.top,o.bottom=n[i]>o.bottom?n[i]:o.bottom;o.height=o.bottom-o.top,o.width=o.right-o.left}}if(o){var a=d(t);o.left+=a.left,o.top+=a.top}return o}function i(e){var t=v.getMapContainer(e);if(t){if(/^map$/i.test(e.tagName))return s(t);if(/^area$/i.test(e.tagName)){var r=n(e,t);if(r)return r}}return{height:0,left:0,top:0,width:0}}function o(e){var t=v.getSelectParent(e);if(t){var r=s(t),n=g.getBordersWidth(t),i=g.getInnerWidth(t)===t.clientWidth?0:v.getScrollbarSize(),o=g.getOptionHeight(t),a=v.getChildVisibleIndex(t,e),l=Math.max(a-g.getScrollTop(t)/o,0);return{height:o,left:r.left+n.left,top:r.top+n.top+g.getElementPadding(t).top+l*o,width:r.width-(n.left+n.right)-i}}return s(e)}function a(e){var t=v.matches(e,"tspan")||v.matches(e,"tref")||"textpath"===v.getTagName(e),r=e.getBoundingClientRect(),n={height:t?e.offsetHeight:r.height,left:r.left+(document.body.scrollLeft||document.documentElement.scrollLeft),top:r.top+(document.body.scrollTop||document.documentElement.scrollTop),width:t?e.offsetWidth:r.width};if(t){var i=g.getOffsetParent(e),o=g.getOffset(e),a=g.getOffset(i),s=v.matches(i,"body");return{height:n.height||r.height,left:s?e.offsetLeft||o.left:a.left+e.offsetLeft,top:s?e.offsetTop||o.top:a.top+e.offsetTop,width:n.width||r.width}}if(y.isFirefox||y.isIE)return n;var l=m["default"].getAttribute.call(e,"stroke-width")||g.get(e,"stroke-width");return l=l?+l.replace(/px|em|ex|pt|pc|cm|mm|in/,""):1,l&&+l%2!==0&&(l=+l+1),!(v.matches(e,"line")||v.matches(e,"polyline")||v.matches(e,"polygon")||v.matches(e,"path"))||n.width&&n.height?(v.matches(e,"polygon")&&(n.height+=2*l,n.left-=l,n.top-=l,n.width+=2*l),n.height+=l,n.left-=l/2,n.top-=l/2,n.width+=l):!n.width&&n.height?(n.left-=l/2,n.width=l):n.width&&!n.height&&(n.height=l,n.top-=l/2),
n}function s(e){var t={};if(v.isMapElement(e))t=i(e);else if(g.isVisibleChild(e))t=o(e);else{var r=d(e),n=v.isSVGElementOrChild(e)?a(e):e.getBoundingClientRect();t={height:n.height,left:r.left,top:r.top,width:n.width}}return t.height=Math.round(t.height),t.left=Math.round(t.left),t.top=Math.round(t.top),t.width=Math.round(t.width),t}function l(e,t,r){if("iframe"!==v.getTagName(e))return!1;var n=s(e),i=g.getBordersWidth(e),o=g.getElementPadding(e),a=n.left+i.left+o.left,l=n.top+i.top+o.top,u=n.left+n.width-i.right-o.right,c=n.top+n.height-i.bottom-o.bottom;return t>=a&&t<=u&&r>=l&&r<=c}function u(e,t,r){var n=v.isSVGElementOrChild(e),i=n?a(e):null;return{left:n?i.left+t.left:r.left+t.left,top:n?i.top+t.top:r.top+t.top}}function c(e,t,r,n,i){var o=g.getBordersWidth(i);t.left+=o.left,t.top+=o.top;var s=d(i),l=g.getElementPadding(i),u=null;if(v.isSVGElementOrChild(e)){var c=a(e);u={x:c.left-(document.body.scrollLeft||document.documentElement.scrollLeft)+t.left,y:c.top-(document.body.scrollTop||document.documentElement.scrollTop)+t.top}}else u=p({x:r.left+t.left,y:r.top+t.top},n);return{left:s.left+u.x+l.left,top:s.top+u.y+l.top}}function d(e,t){if(void 0===t&&(t=Math.round),v.isMapElement(e)){var r=i(e);return{left:r.left,top:r.top}}var n=v.findDocument(e),o=v.isElementInIframe(e,n),a=o?v.getIframeByElement(n):null,s=n===e?g.getOffset(n.documentElement):g.getOffset(e),l=n.body?g.getBordersWidth(n.body):{left:0,top:0},d=o&&a?c:u,p=d(e,l,s,n,a),f=p.left,h=p.top;return"function"==typeof t&&(f=t(f),h=t(h)),{left:f,top:h}}function p(e,t){var r=t||document,n=g.getScrollLeft(r),i=g.getScrollTop(r),o=g.getScrollLeft(r.body),a=g.getScrollTop(r.body),s=0===n&&0!==o?o:n,l=0===i&&0!==a?a:i;return{x:e.x-s,y:e.y-l}}var f=function(e){return e&&e.__esModule?e:{"default":e}},h=function(e){if(e&&e.__esModule)return e;var t={};if(null!=e)for(var r in e)Object.hasOwnProperty.call(e,r)&&(t[r]=e[r]);return t["default"]=e,t};Object.defineProperty(e,"__esModule",{value:!0});var m=f(r("../sandbox/native-methods")),v=h(r("./dom")),g=h(r("./style")),y=r("./browser");e.getElementRectangle=s,e.shouldIgnoreMouseEventInsideIframe=l,e.getOffsetPosition=d,e.offsetToClientCoords=p},"query-selector.js":function(e,t,r){function n(e){return s.isDomElement(e)?a["default"].elementQuerySelector:s.isDocumentFragmentNode(e)||s.isShadowRoot(e)?a["default"].documentFragmentQuerySelector:a["default"].querySelector}function i(e){return s.isDomElement(e)?a["default"].elementQuerySelectorAll:s.isDocumentFragmentNode(e)||s.isShadowRoot(e)?a["default"].documentFragmentQuerySelectorAll:a["default"].querySelectorAll}var o=function(e){return e&&e.__esModule?e:{"default":e}};Object.defineProperty(e,"__esModule",{value:!0});var a=o(r("../sandbox/native-methods")),s=r("./dom");e.getNativeQuerySelector=n,e.getNativeQuerySelectorAll=i},"remove-element.js":function(e,t,r){function n(e){var t=o["default"].nodeParentNodeGetter.call(e);return t&&o["default"].removeChild.call(t,e),e}var i=function(e){return e&&e.__esModule?e:{"default":e}};Object.defineProperty(e,"__esModule",{value:!0});var o=i(r("../sandbox/native-methods"));e["default"]=n,t.exports=e["default"]},"style.js":function(e,t,r){function n(e){e=e||"";var t=parseInt(e.replace("px",""),10);return isNaN(t)?0:t}function i(e,t,r,n){e=e.documentElement||e;var i=s(e,r,n);return i&&i[t]}function o(e,t,r){e=e.documentElement||e,e.style[t]=r}function a(e){return{bottom:n(i(e,"borderBottomWidth")),left:n(i(e,"borderLeftWidth")),right:n(i(e,"borderRightWidth")),top:n(i(e,"borderTopWidth"))}}function s(e,t,r){t=t||document,r=r||window;var n=t.defaultView||r;return n.getComputedStyle(e,null)}function l(e){return{bottom:n(i(e,"marginBottom")),left:n(i(e,"marginLeft")),right:n(i(e,"marginRight")),top:n(i(e,"marginTop"))}}function u(e){return{bottom:n(i(e,"paddingBottom")),left:n(i(e,"paddingLeft")),right:n(i(e,"paddingRight")),top:n(i(e,"paddingTop"))}}function c(e){var t=C.isHtmlElement(e),r=window;if(t&&C.isElementInIframe(e)){var n=C.getIframeByElement(e);n&&(r=M["default"].contentWindowGetter.call(n))}var i=t?r:e;return{left:y(i),top:E(i)}}function d(e){if(!e)return null;if(C.isWindow(e))return e.document.documentElement.clientWidth;if(C.isDocument(e)){var t=e.documentElement,r="clientWidth",o="scrollWidth",a="offsetWidth";return t[r]>=t[o]?t[r]:Math.max(e.body[o],t[o],e.body[a],t[a])}var s=e.offsetWidth;return s-=n(i(e,"paddingLeft")),s-=n(i(e,"paddingRight")),s-=n(i(e,"borderLeftWidth")),s-=n(i(e,"borderRightWidth"))}function p(e){if(!e)return null;if(C.isWindow(e))return e.document.documentElement.clientHeight;if(C.isDocument(e)){var t=e.documentElement,r="clientHeight",o="scrollHeight",a="offsetHeight";return t[r]>=t[o]?t[r]:Math.max(e.body[o],t[o],e.body[a],t[a])}var s=e.offsetHeight;return s-=n(i(e,"paddingTop")),s-=n(i(e,"paddingBottom")),s-=n(i(e,"borderTopWidth")),s-=n(i(e,"borderBottomWidth"))}function f(e){if(!e)return null;if(C.isWindow(e))return e.document.documentElement.clientWidth;if(C.isDocument(e))return e.documentElement.clientWidth;var t=e.offsetWidth;return t-=n(i(e,"borderLeftWidth")),t-=n(i(e,"borderRightWidth"))}function h(e){if(!e)return null;if(C.isWindow(e))return e.document.documentElement.clientHeight;if(C.isDocument(e))return e.documentElement.clientHeight;var t=e.offsetHeight;return t-=n(i(e,"borderTopWidth")),t-=n(i(e,"borderBottomWidth"))}function m(e){var t=v(e),r=u(e),n=e.scrollHeight-(r.top+r.bottom),i=C.getSelectVisibleChildren(e).length;return 1===t?p(e):I.isIE&&t>i?Math.round(n/i):Math.round(n/Math.max(i,t))}function v(e){if(I.isSafari&&O.hasTouchEvents||I.isAndroid)return 1;var t=M["default"].getAttribute.call(e,"size"),r=M["default"].getAttribute.call(e,"multiple"),n=t?parseInt(t,10):1;return r&&(!t||n<1)&&(n=N),n}function g(e){var t=C.getSelectParent(e),r=C.getTagName(e);return C.isSelectElement(t)&&v(t)>1&&("option"===r||"optgroup"===r)&&(!I.isFirefox||e.label)}function y(e){return e?C.isWindow(e)?e.pageXOffset:C.isDocument(e)?e.defaultView.pageXOffset:e.scrollLeft:null}function E(e){return e?C.isWindow(e)?e.pageYOffset:C.isDocument(e)?e.defaultView.pageYOffset:e.scrollTop:null}function _(e,t){if(e)if(C.isWindow(e)||C.isDocument(e)){var r=C.findDocument(e).defaultView,n=E(e);M["default"].scrollTo.call(r,t,n)}else e.scrollLeft=t}function S(e,t){if(e)if(C.isWindow(e)||C.isDocument(e)){var r=C.findDocument(e).defaultView,n=y(e);M["default"].scrollTo.call(r,n,t)}else e.scrollTop=t}function b(e){if(e){for(var t=e.offsetParent||document.body;t&&!/^(?:body|html)$/i.test(t.nodeName)&&"static"===i(t,"position");)t=t.offsetParent;return t}}function w(e){if(!e||C.isWindow(e)||C.isDocument(e))return null;var t=e.getBoundingClientRect(),r=e.ownerDocument,n=r.documentElement;if(!n.contains(e)||e===n)return{top:t.top,left:t.left};var i=r.defaultView,o=n.clientTop||r.body.clientTop||0,a=n.clientLeft||r.body.clientLeft||0,s=i.pageYOffset||n.scrollTop||r.body.scrollTop,l=i.pageXOffset||n.scrollLeft||r.body.scrollLeft;return t=e.getBoundingClientRect(),{top:t.top+s-o,left:t.left+l-a}}function x(e,t){if(!C.isElementInDocument(e,t))return!1;for(;e;){if("none"===i(e,"display",t)||"hidden"===i(e,"visibility",t))return!1;e=C.getParentExceptShadowRoot(e)}return!0}function T(e){var t=C.getIframeByElement(e);return t&&!x(t,C.findDocument(t))}var P=function(e){if(e&&e.__esModule)return e;var t={};if(null!=e)for(var r in e)Object.hasOwnProperty.call(e,r)&&(t[r]=e[r]);return t["default"]=e,t},A=function(e){return e&&e.__esModule?e:{"default":e}};Object.defineProperty(e,"__esModule",{value:!0});var C=P(r("./dom")),I=P(r("./browser")),O=P(r("./feature-detection")),M=A(r("../sandbox/native-methods")),N=4;e.get=i,e.set=o,e.getBordersWidth=a,e.getComputedStyle=s,e.getElementMargin=l,e.getElementPadding=u,e.getElementScroll=c,e.getWidth=d,e.getHeight=p,e.getInnerWidth=f,e.getInnerHeight=h,e.getOptionHeight=m,e.getSelectElementSize=v,e.isVisibleChild=g,e.getScrollLeft=y,e.getScrollTop=E,e.setScrollLeft=_,e.setScrollTop=S,e.getOffsetParent=b,e.getOffset=w,e.isElementVisible=x,e.isElementInInvisibleIframe=T},"types.js":function(e,t,r){function n(e){return null===e?"null":"undefined"}function i(e){return null===e||void 0===e}function o(e){var t=typeof e;return"object"!==t&&"function"!==t}Object.defineProperty(e,"__esModule",{value:!0}),e.inaccessibleTypeToStr=n,e.isNullOrUndefined=i,e.isPrimitiveType=o},"url-resolver.js":function(e,t,r){var n=function(e){return e&&e.__esModule?e:{"default":e}},i=function(e){if(e&&e.__esModule)return e;var t={};if(null!=e)for(var r in e)Object.hasOwnProperty.call(e,r)&&(t[r]=e[r]);return t["default"]=e,t};Object.defineProperty(e,"__esModule",{value:!0});var o=n(r("../sandbox/native-methods")),a=i(r("../utils/destination-location")),s=r("../../utils/url"),l=r("./dom"),u="hammerhead|document-url-resolver";e["default"]={_createResolver:function(e){var t=o["default"].createHTMLDocument.call(e.implementation,"title"),r=o["default"].createElement.call(t,"a"),n=o["default"].createElement.call(t,"base");return o["default"].appendChild.call(t.body,r),o["default"].appendChild.call(t.head,n),t},_getResolver:function(e){return e[u]||o["default"].objectDefineProperty(e,u,{value:this._createResolver(e),writable:!0}),e[u]},_isNestedIframeWithoutSrc:function(e){if(!e||!e.parent||e.parent===e||e.parent.parent===e.parent)return!1;var t=l.getFrameElement(window);return!!t&&l.isIframeWithoutSrc(t)},init:function(e){this.updateBase(a.get(),e)},getResolverElement:function(e){return o["default"].nodeFirstChildGetter.call(this._getResolver(e).body)},resolve:function(e,t){var r=this.getResolverElement(t),n=null;if(null===e)o["default"].removeAttribute.call(r,"href");else{o["default"].anchorHrefSetter.call(r,e),n=o["default"].anchorHrefGetter.call(r);var i=e&&(!n||"/"===n.charAt(0))&&this._isNestedIframeWithoutSrc(t.defaultView);if(i)return this.resolve(e,window.parent.document)}return s.ensureTrailingSlash(e,n)},updateBase:function(e,t){var r=this._getResolver(t),n=o["default"].elementGetElementsByTagName.call(r.head,"base")[0];e=e||a.get();var i=s.parseUrl(e),l="file:"!==i.protocol&&!i.host,u=/^\/\//.test(e)&&!!i.host;if(l||u){var c=a.get();this.updateBase(c,t),e=this.resolve(e,t)}o["default"].setAttribute.call(n,"href",e)},getBaseUrl:function(e){var t=o["default"].elementGetElementsByTagName.call(this._getResolver(e).head,"base")[0];return o["default"].getAttribute.call(t,"href")},changeUrlPart:function(e,t,r,n){var i=this.getResolverElement(n);return o["default"].anchorHrefSetter.call(i,e),t.call(i,r),o["default"].anchorHrefGetter.call(i)},dispose:function(e){e[u]=null}},t.exports=e["default"]},"url.js":function(e,t,r){function n(t,r){t=A.getURLString(t);var i=r&&r.resourceType,o=A.parseResourceType(i);if(!o.isWebSocket&&!v(t)&&!g(t))return t;var a=C.resolveUrl(t,r&&r.doc);if(o.isWebSocket&&!h(a)||!A.isValidUrl(a))return t;var l=r&&r.proxyHostname||e.DEFAULT_PROXY_SETTINGS.hostname,u=r&&r.proxyPort||e.DEFAULT_PROXY_SETTINGS.port,c=r&&r.proxyProtocol||e.DEFAULT_PROXY_SETTINGS.protocol,d=o.isWebSocket?c.replace("http","ws"):c,p=r&&r.sessionId||O["default"].get().sessionId,f=r&&r.windowId||O["default"].get().windowId,m=r&&r.credentials,y=r&&r.charset,E=r&&r.reqOrigin,_=s(u),S=A.parseProxyUrl(a),b=!!S&&S.proxy.hostname===l&&(S.proxy.port===u||S.proxy.port===_);if(b){if(i&&S.resourceType===i)return a;var w=A.formatUrl(S.destResourceInfo);return n(w,{proxyProtocol:d,proxyHostname:l,proxyPort:u,sessionId:p,resourceType:i,charset:y,reqOrigin:E,credentials:m})}var x=A.parseUrl(a);if(!x.protocol)return t;if(y=y||(o.isScript||o.isServiceWorker)&&document[P["default"].documentCharset],x.protocol===c&&x.hostname===l&&x.port===u){var T=C.getParsed();x.protocol=T.protocol,x.host=T.host,x.hostname=T.hostname,x.port=T.port||"",a=A.formatUrl(x)}return o.isWebSocket&&(x.protocol=x.protocol.replace("ws","http"),a=A.formatUrl(x),E=E||C.getOriginHeader()),A.getProxyUrl(a,{proxyProtocol:d,proxyHostname:l,proxyPort:u,sessionId:p,resourceType:i,charset:y,reqOrigin:E,windowId:f,credentials:m})}function i(e,t){var r=null,i=t.top!==t,o=t.location.toString();if(i)r=o;else{var a=c(o);r=a&&a.destUrl}return g(r)&&A.isRelativeUrl(e)?"":(e=A.prepareUrl(e),n(e))}function o(e){return n(e,{proxyPort:O["default"].get().crossDomainProxyPort,resourceType:A.getResourceTypeString({isIframe:!0})})}function a(e,t){var r=c(e),i=null;if(r&&(e=r.destUrl,i=r.resourceType),i){var o=y(i);o.isIframe=!1,i=E(o)}var a=!C.sameOriginCheck(C.getLocation(),e),s=a?O["default"].get().crossDomainProxyPort:location.port.toString();return n(e,{windowId:t,proxyPort:s,resourceType:i})}function s(e){return O["default"].get().crossDomainProxyPort===e?location.port.toString():O["default"].get().crossDomainProxyPort}function l(e){return A.resolveUrlAsDest(e,n)}function u(e){return A.formatUrl(e)}function c(e){return A.parseProxyUrl(e)}function d(e){return A.parseUrl(e)}function p(t,r,i,o){return void 0===o&&(o=!1),n(t,{resourceType:r,charset:i,proxyPort:o?O["default"].get().crossDomainProxyPort:e.DEFAULT_PROXY_SETTINGS.port})}function f(e,t,r,i){var o=A.parseProxyUrl(e);if(o){var a=o.sessionId,s=o.proxy,l=I.changeUrlPart(o.destUrl,t,r,document);return n(l,{proxyHostname:s.hostname,proxyPort:s.port,sessionId:a,resourceType:i})}return e}function h(e){var t=l(e);return L.test(t)}function m(e,t){return A.isSubDomain(e,t)}function v(e){return A.isSupportedProtocol(e)}function g(e){return A.isSpecialPage(e)}function y(e){return A.parseResourceType(e)}function E(e){return A.getResourceTypeString(e)}function _(e,t){return n(e).replace(D,"")===n(t).replace(D,"")}function S(e){var t=c(e);return t?t.destUrl:e}function b(e){if(!v(e))return null;var t=d(l(e));return t?t.partAfterHost.replace(k,"/")||"/":null}function w(e,t){var r=!N.sameOriginCheck(N.getLocation(),e),i={resourceType:E({isAjax:!0}),credentials:t};return r&&(i.proxyPort=O["default"].get().crossDomainProxyPort,i.reqOrigin=C.getOriginHeader()),n(e,i)}var x=function(e){return e&&e.__esModule?e:{"default":e}},T=function(e){if(e&&e.__esModule)return e;var t={};if(null!=e)for(var r in e)Object.hasOwnProperty.call(e,r)&&(t[r]=e[r]);return t["default"]=e,t};Object.defineProperty(e,"__esModule",{value:!0});var P=x(r("../../processing/dom/internal-properties")),A=T(r("../../utils/url")),C=T(r("./destination-location")),I=T(r("./url-resolver")),O=x(r("../settings")),M=x(r("./global-context-info")),N=r("./destination-location"),D=/#[\S\s]*$/,L=/^wss?:/i,k=/\/[^/]*$/;e.DEFAULT_PROXY_SETTINGS=function(){for(var e=M["default"].isInWorker?{location:d(self.location.origin),parent:null}:window,t=e.location;!t.hostname;)e=e.parent,t=e.location;return{hostname:t.hostname,port:t.port.toString(),protocol:t.protocol}}(),e.REQUEST_DESCRIPTOR_VALUES_SEPARATOR=A.REQUEST_DESCRIPTOR_VALUES_SEPARATOR,e.getProxyUrl=n,e.getNavigationUrl=i,e.getCrossDomainIframeProxyUrl=o,e.getPageProxyUrl=a,e.getCrossDomainProxyPort=s,e.resolveUrlAsDest=l,e.formatUrl=u,e.parseProxyUrl=c,e.parseUrl=d,e.convertToProxyUrl=p,e.changeDestUrlPart=f,e.isValidWebSocketUrl=h,e.isSubDomain=m,e.isSupportedProtocol=v,e.isSpecialPage=g,e.parseResourceType=y,e.stringifyResourceType=E,e.isChangedOnlyHash=_,e.getDestinationUrl=S,e.getScope=b,e.getAjaxProxyUrl=w}},worker:{"sandbox-base-with-delayed-settings.js":function(e,t,r){function n(e,t){e.prototype=Object.create(t.prototype),e.prototype.constructor=e,i(e,t)}function i(e,t){return(i=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e})(e,t)}var o=function(e){return e&&e.__esModule?e:{"default":e}};Object.defineProperty(e,"__esModule",{value:!0});var a=o(r("../sandbox/base")),s=function(e){function t(t){var r;return r=e.call(this)||this,r._waitHammerheadSettings=t,t&&t.then(function(){r._waitHammerheadSettings=null}),r}n(t,e);var r=t.prototype;return r.gettingSettingInProgress=function(){return!!this._waitHammerheadSettings},r.delayUntilGetSettings=function(e){return this._waitHammerheadSettings.then(e)},t}(a["default"]);e["default"]=s,t.exports=e["default"]},"set-settings-command.js":function(e,t,r){Object.defineProperty(e,"__esModule",{value:!0}),e.SET_SERVICE_WORKER_SETTINGS="hammerhead|set-service-worker-settings",e.SET_BLOB_WORKER_SETTINGS="hammerhead|set-blob-worker-settings"}}},processing:{dom:{"attributes.js":function(e,t,r){Object.defineProperty(e,"__esModule",{value:!0}),e.URL_ATTR_TAGS={href:["a","link","image","area","base"],src:["img","embed","script","source","video","audio","input","frame","iframe"],action:["form"],formaction:["button","input"],manifest:["html"],data:["object"]},e.URL_ATTRS=["href","src","action","formaction","manifest","data"],e.TARGET_ATTR_TAGS={target:["a","form","area","base"],formtarget:["input","button"]},e.TARGET_ATTRS=["target","formtarget"],e.ATTRS_WITH_SPECIAL_PROXYING_LOGIC=["sandbox","autocomplete","target","formtarget","style"]},"base-dom-adapter.js":function(e,t,r){Object.defineProperty(e,"__esModule",{value:!0});var n=function(){this.EVENTS=["onblur","onchange","onclick","oncontextmenu","oncopy","oncut","ondblclick","onerror","onfocus","onfocusin","onfocusout","onhashchange","onkeydown","onkeypress","onkeyup","onload","onmousedown","onmouseenter","onmouseleave","onmousemove","onmouseout","onmouseover","onmouseup","onmousewheel","onpaste","onreset","onresize","onscroll","onselect","onsubmit","ontextinput","onunload","onwheel","onpointerdown","onpointerup","onpointercancel","onpointermove","onpointerover","onpointerout","onpointerenter","onpointerleave","ongotpointercapture","onlostpointercapture","onmspointerdown","onmspointerup","onmspointercancel","onmspointermove","onmspointerover","onmspointerout","onmspointerenter","onmspointerleave","onmsgotpointercapture","onmslostpointercapture"]};e["default"]=n,t.exports=e["default"]},"index.js":function(e,t,r){var n=function(e){return e&&e.__esModule?e:{"default":e}};Object.defineProperty(e,"__esModule",{value:!0});var i=n(r("../../processing/dom/internal-attributes")),o=n(r("../../shadow-ui/class-name")),a=r("../script"),s=n(r("../../processing/style")),l=r("../../utils/url"),u=n(r("../../utils/string-trim")),c=n(r("../../request-pipeline/builtin-header-names")),d=r("./namespaces"),p=r("./attributes"),f=/^(\s)*\/\/<!\[CDATA\[([\s\S]*)\/\/\]\]>(\s)*$/,h=/(\/\/[^\n]*|\n\s*)-->[^\n]*([\n\s]*)?$/,m=/^(\s)*<!--[^\n]*\n/,v=/-->\s*$/,g=/^\s*javascript\s*:/i,y=/^\s*(application\/(x-)?(ecma|java)script|text\/(javascript(1\.[0-5])?|((x-)?ecma|x-java|js|live)script)|module)\s*$/i,E=["animate","animateColor","animateMotion","animateTransform","mpath","set","linearGradient","radialGradient","stop","a","altglyph","color-profile","cursor","feimage","filter","font-face-uri","glyphref","image","mpath","pattern","script","textpath","use","tref"],_=["script","link"],S=["a","form","area","input","button"],b="script",w="modulepreload",x="hammerhead|element-processed",T="hammerhead|autocomplete-attribute-absence-marker",P=function(){function e(e){this.adapter=e,this.HTML_PROCESSING_REQUIRED_EVENT="hammerhead|event|html-processing-required",this.SVG_XLINK_HREF_TAGS=E,this.AUTOCOMPLETE_ATTRIBUTE_ABSENCE_MARKER=T,this.PROCESSED_PRELOAD_LINK_CONTENT_TYPE=b,this.MODULE_PRELOAD_LINK_REL=w,this.forceProxySrcForImage=!1,this.allowMultipleWindows=!1,this.EVENTS=this.adapter.EVENTS,this.elementProcessorPatterns=this._createProcessorPatterns(this.adapter)}e.isTagWithTargetAttr=function(e){return!!e&&p.TARGET_ATTR_TAGS.target.indexOf(e)>-1},e.isTagWithFormTargetAttr=function(e){return!!e&&p.TARGET_ATTR_TAGS.formtarget.indexOf(e)>-1},e.isTagWithIntegrityAttr=function(e){return!!e&&_.indexOf(e)!==-1},e.isIframeFlagTag=function(e){return!!e&&S.indexOf(e)!==-1},e.isAddedAutocompleteAttr=function(e,t){return"autocomplete"===e&&t===T},e.processJsAttrValue=function(e,t){var r=t.isJsProtocol,n=t.isEventAttr;return r&&(e=e.replace(g,"")),e=a.processScript(e,!1,r&&!n,void 0),r&&(e="javascript:"+e),e},e.getStoredAttrName=function(e){return e+i["default"].storedAttrPostfix},e.isJsProtocol=function(e){return g.test(e)},e._isHtmlImportLink=function(e,t){return!!e&&!!t&&"link"===e&&"import"===t};var t=e.prototype;return t._getRelAttribute=function(e){return String(this.adapter.getAttr(e,"rel")).toLowerCase()},t._getAsAttribute=function(e){return String(this.adapter.getAttr(e,"as")).toLowerCase()},t._createProcessorPatterns=function(t){var r=this,n={HAS_HREF_ATTR:function(e){return r.isUrlAttr(e,"href")},HAS_SRC_ATTR:function(e){return r.isUrlAttr(e,"src")},HAS_ACTION_ATTR:function(e){return r.isUrlAttr(e,"action")},HAS_FORMACTION_ATTR:function(e){return r.isUrlAttr(e,"formaction")},HAS_FORMTARGET_ATTR:function(r){return e.isTagWithFormTargetAttr(t.getTagName(r))&&t.hasAttr(r,"formtarget")},HAS_MANIFEST_ATTR:function(e){return r.isUrlAttr(e,"manifest")},HAS_DATA_ATTR:function(e){return r.isUrlAttr(e,"data")},HAS_SRCDOC_ATTR:function(e){var n=r.adapter.getTagName(e);return("iframe"===n||"frame"===n)&&t.hasAttr(e,"srcdoc")},HTTP_EQUIV_META:function(e){var r=t.getTagName(e);return"meta"===r&&t.hasAttr(e,"http-equiv")},ALL:function(){return!0},IS_SCRIPT:function(e){return"script"===t.getTagName(e)},IS_LINK:function(e){return"link"===t.getTagName(e)},IS_INPUT:function(e){return"input"===t.getTagName(e)},IS_FILE_INPUT:function(e){return"input"===t.getTagName(e)&&t.hasAttr(e,"type")&&"file"===t.getAttr(e,"type").toLowerCase()},IS_STYLE:function(e){return"style"===t.getTagName(e)},HAS_EVENT_HANDLER:function(e){return t.hasEventHandler(e)},IS_SANDBOXED_IFRAME:function(e){var r=t.getTagName(e);return("iframe"===r||"frame"===r)&&t.hasAttr(e,"sandbox")},IS_SVG_ELEMENT_WITH_XLINK_HREF_ATTR:function(e){return t.isSVGElement(e)&&t.hasAttr(e,"xlink:href")&&E.indexOf(t.getTagName(e))!==-1},IS_SVG_ELEMENT_WITH_XML_BASE_ATTR:function(e){return t.isSVGElement(e)&&t.hasAttr(e,"xml:base")}};return[{selector:n.HAS_FORMTARGET_ATTR,targetAttr:"formtarget",elementProcessors:[this._processTargetBlank]},{selector:n.HAS_HREF_ATTR,urlAttr:"href",targetAttr:"target",elementProcessors:[this._processTargetBlank,this._processUrlAttrs,this._processUrlJsAttr]},{selector:n.HAS_SRC_ATTR,urlAttr:"src",targetAttr:"target",elementProcessors:[this._processTargetBlank,this._processUrlAttrs,this._processUrlJsAttr]},{selector:n.HAS_ACTION_ATTR,urlAttr:"action",targetAttr:"target",elementProcessors:[this._processTargetBlank,this._processUrlAttrs,this._processUrlJsAttr]},{selector:n.HAS_FORMACTION_ATTR,urlAttr:"formaction",targetAttr:"formtarget",elementProcessors:[this._processUrlAttrs,this._processUrlJsAttr]},{selector:n.HAS_MANIFEST_ATTR,urlAttr:"manifest",elementProcessors:[this._processUrlAttrs,this._processUrlJsAttr]},{selector:n.HAS_DATA_ATTR,urlAttr:"data",elementProcessors:[this._processUrlAttrs,this._processUrlJsAttr]},{selector:n.HAS_SRCDOC_ATTR,elementProcessors:[this._processSrcdocAttr]},{selector:n.HTTP_EQUIV_META,urlAttr:"content",elementProcessors:[this._processMetaElement]},{selector:n.IS_SCRIPT,elementProcessors:[this._processScriptElement,this._processIntegrityAttr]},{selector:n.ALL,elementProcessors:[this._processStyleAttr]},{selector:n.IS_LINK,relAttr:"rel",elementProcessors:[this._processIntegrityAttr,this._processRelPrefetch]},{selector:n.IS_STYLE,elementProcessors:[this._processStylesheetElement]},{selector:n.IS_INPUT,elementProcessors:[this._processAutoComplete]},{selector:n.IS_FILE_INPUT,elementProcessors:[this._processRequired]},{selector:n.HAS_EVENT_HANDLER,elementProcessors:[this._processEvtAttr]},{selector:n.IS_SANDBOXED_IFRAME,elementProcessors:[this._processSandboxedIframe]},{selector:n.IS_SVG_ELEMENT_WITH_XLINK_HREF_ATTR,urlAttr:"xlink:href",elementProcessors:[this._processSVGXLinkHrefAttr,this._processUrlAttrs]},{selector:n.IS_SVG_ELEMENT_WITH_XML_BASE_ATTR,urlAttr:"xml:base",elementProcessors:[this._processUrlAttrs]}]},t.processElement=function(e,t){if(!e[x])for(var r=0,n=this.elementProcessorPatterns;r<n.length;r++){var i=n[r];if(i.selector(e)&&!this._isShadowElement(e)){for(var o=0,a=i.elementProcessors;o<a.length;o++){var s=a[o];s.call(this,e,t,i)}e[x]=!0}}},t.getElementResourceType=function(e){var t=this.adapter.getTagName(e);return"link"!==t||this._getAsAttribute(e)!==b&&this._getRelAttribute(e)!==w?l.getResourceTypeString({isIframe:"iframe"===t||"frame"===t||this._isOpenLinkInIframe(e),isForm:"form"===t||"input"===t||"button"===t,isScript:"script"===t,isHtmlImport:"link"===t&&"import"===this._getRelAttribute(e)}):l.getResourceTypeString({isScript:!0})},t.isUrlAttr=function(e,t,r){var n=this.adapter.getTagName(e);return t=t?t.toLowerCase():t,!(!p.URL_ATTR_TAGS[t]||p.URL_ATTR_TAGS[t].indexOf(n)===-1)||this.adapter.isSVGElement(e)&&("xml:base"===t||"base"===t&&r===d.XML_NAMESPACE)},t.getUrlAttr=function(e){for(var t=this.adapter.getTagName(e),r=0,n=p.URL_ATTRS;r<n.length;r++){var i=n[r];if(p.URL_ATTR_TAGS[i].indexOf(t)!==-1)return i}return null},t.getTargetAttr=function(e){for(var t=this.adapter.getTagName(e),r=0,n=p.TARGET_ATTRS;r<n.length;r++){var i=n[r];if(p.TARGET_ATTR_TAGS[i].indexOf(t)>-1)return i}return null},t._isOpenLinkInIframe=function(t){var r=this.adapter.getTagName(t),n=this.getTargetAttr(t),i=this.adapter.getAttr(t,n),o=this._getRelAttribute(t);if("_top"!==i){var a="input"===r&&"image"===this.adapter.getAttr(t,"type"),s=!a&&e.isIframeFlagTag(r)||e._isHtmlImportLink(r,o),l=!!i&&"_"!==i[0];if("_parent"===i)return s&&!this.adapter.isTopParentIframe(t);if(s&&(this.adapter.hasIframeParent(t)||l&&this.adapter.isExistingTarget(i,t)))return!0}return!1},t._isShadowElement=function(e){var t=this.adapter.getClassName(e);return"string"==typeof t&&t.indexOf(o["default"].postfix)>-1},t._processAutoComplete=function(t){var r=e.getStoredAttrName("autocomplete"),n=this.adapter.hasAttr(t,r),i=this.adapter.getAttr(t,n?r:"autocomplete");n||this.adapter.setAttr(t,r,i||""===i?i:T),this.adapter.setAttr(t,"autocomplete","off")},t._processRequired=function(t){var r=e.getStoredAttrName("required"),n=this.adapter.hasAttr(t,"required"),i=this.adapter.hasAttr(t,r)&&!n;if(!i&&n){var o=this.adapter.getAttr(t,"required");this.adapter.setAttr(t,r,o),this.adapter.removeAttr(t,"required")}},t._processIntegrityAttr=function(t){var r=e.getStoredAttrName("integrity"),n=this.adapter.hasAttr(t,r)&&!this.adapter.hasAttr(t,"integrity"),i=this.adapter.getAttr(t,n?r:"integrity");i&&this.adapter.setAttr(t,r,i),n||this.adapter.removeAttr(t,"integrity")},t._processRelPrefetch=function(t,r,n){var i=e.getStoredAttrName(n.relAttr),o=this.adapter.hasAttr(t,i)&&!this.adapter.hasAttr(t,n.relAttr),a=this.adapter.getAttr(t,o?i:n.relAttr);if(a){var s=u["default"](a.toLowerCase());"prefetch"===s&&(this.adapter.setAttr(t,i,a),o||this.adapter.removeAttr(t,n.relAttr))}},t._processJsAttr=function(t,r,n){var i=n.isJsProtocol,o=n.isEventAttr,a=e.getStoredAttrName(r),s=this.adapter.hasAttr(t,a),l=this.adapter.getAttr(t,s?a:r),u=e.processJsAttrValue(l,{isJsProtocol:i,isEventAttr:o});l!==u&&(this.adapter.setAttr(t,a,l),this.adapter.setAttr(t,r,u))},t._processEvtAttr=function(t){for(var r=this.adapter.EVENTS,n=0;n<r.length;n++){var i=this.adapter.getAttr(t,r[n]);i&&this._processJsAttr(t,r[n],{isJsProtocol:e.isJsProtocol(i),isEventAttr:!0})}},t._processMetaElement=function(e,t,r){var n=this.adapter.getAttr(e,"http-equiv").toLowerCase();if(n===c["default"].refresh){var i=this.adapter.getAttr(e,r.urlAttr);i=i.replace(/(url=)(.*)$/i,function(e,r,n){return r+t(n)}),this.adapter.setAttr(e,r.urlAttr,i)}else n===c["default"].contentSecurityPolicy&&(this.adapter.removeAttr(e,"http-equiv"),this.adapter.removeAttr(e,"content"))},t._processSandboxedIframe=function(t){var r=this.adapter.getAttr(t,"sandbox"),n=r.indexOf("allow-same-origin")!==-1,i=r.indexOf("allow-scripts")!==-1,o=e.getStoredAttrName("sandbox");this.adapter.setAttr(t,o,r),n&&i||(r+=n?"":" allow-same-origin",r+=i?"":" allow-scripts"),this.adapter.setAttr(t,"sandbox",r)},t._processScriptElement=function(e,t){var r=this.adapter.getScriptContent(e);if(r&&this.adapter.needToProcessContent(e)){var n=a.isScriptProcessed(r);if(!n){var i=this.adapter.getAttr(e,"type"),o=!i||y.test(i);if(o){var s=r,l="",u=s.match(m),c="",d=null,p=f.test(s);u&&(l=u[0],d=s.match(h),d?c=d[0]:v.test(l)||(c="//-->"),s=s.replace(l,"").replace(c,"")),p&&(s=s.replace(f,"$2")),s=l+a.processScript(s,!0,!1,t)+c,p&&(s="\n//<![CDATA[\n"+s+"//]]>"),this.adapter.setScriptContent(e,s)}}}},t._processStyleAttr=function(e,t){var r=this.adapter.getAttr(e,"style");r&&this.adapter.setAttr(e,"style",s["default"].process(r,t,!1))},t._processStylesheetElement=function(e,t){var r=this.adapter.getStyleContent(e);r&&t&&this.adapter.needToProcessContent(e)&&(r=s["default"].process(r,t,!0),this.adapter.setStyleContent(e,r))},t._processTargetBlank=function(t,r,n){if(!this.allowMultipleWindows){var i=e.getStoredAttrName(n.targetAttr),o=this.adapter.hasAttr(t,i);if(!o){var a=this.adapter.getAttr(t,n.targetAttr);a=a&&a.replace(/\s/g,""),"_blank"===a&&(this.adapter.setAttr(t,n.targetAttr,"_top"),this.adapter.setAttr(t,i,a))}}},t._processUrlAttrs=function(t,r,n){var i=e.getStoredAttrName(n.urlAttr),o=this.adapter.getAttr(t,n.urlAttr),a=l.isSpecialPage(o),s=this.adapter.hasAttr(t,i);if((o||""===o)&&!s&&(l.isSupportedProtocol(o)||a)){var u=this.adapter.getTagName(t),c="iframe"===u||"frame"===u,d="script"===u,p="a"===u,f=this.adapter.getAttr(t,n.targetAttr);if(this.adapter.needToProcessUrl(u,f)){var h=this.getElementResourceType(t),m=l.parseUrl(o),v="file:"!==m.protocol&&!m.host,g=d&&this.adapter.getAttr(t,"charset"),y="img"===u&&""===o,E=c&&""===o,_=!1,S=o;!c||a||v||(_=!this.adapter.sameOriginCheck(l.parseProxyUrl(r("/")).destUrl,o)),a&&!p||y||E||(S="img"!==u||this.forceProxySrcForImage?r(o,h,g,_):l.resolveUrlAsDest(o,r)),this.adapter.setAttr(t,i,o),this.adapter.setAttr(t,n.urlAttr,S)}}},t._processSrcdocAttr=function(t){var r=e.getStoredAttrName("srcdoc"),n=this.adapter.getAttr(t,"srcdoc"),i=this.adapter.processSrcdocAttr(n);this.adapter.setAttr(t,r,n),this.adapter.setAttr(t,"srcdoc",i)},t._processUrlJsAttr=function(t,r,n){e.isJsProtocol(this.adapter.getAttr(t,n.urlAttr))&&this._processJsAttr(t,n.urlAttr,{isJsProtocol:!0,isEventAttr:!1})},t._processSVGXLinkHrefAttr=function(t,r,n){var i=this.adapter.getAttr(t,n.urlAttr);if(l.HASH_RE.test(i)){var o=e.getStoredAttrName(n.urlAttr);this.adapter.setAttr(t,o,i)}},e}();e["default"]=P,t.exports=e["default"]},"internal-attributes.js":function(e,t,r){Object.defineProperty(e,"__esModule",{value:!0}),e["default"]={storedAttrPostfix:"-hammerhead-stored-value",hoverPseudoClass:"data-hammerhead-hovered",focusPseudoClass:"data-hammerhead-focused",uploadInfoHiddenInputName:"hammerhead|upload-info-hidden-input-name"},t.exports=e["default"]},"internal-properties.js":function(e,t,r){Object.defineProperty(e,"__esModule",{value:!0}),e["default"]={processDomMethodName:"hammerhead|process-dom-method",processedContext:"hammerhead|processed-context",documentWasCleaned:"hammerhead|document-was-cleaned",documentCharset:"hammerhead|document-charset",iframeNativeMethods:"hammerhead|iframe-native-methods",hammerhead:"%hammerhead%",selection:"hammerhead|selection",shadowUIElement:"hammerhead|shadow-ui-element",forceProxySrcForImage:"hammerhead|image|force-proxy-src-flag",skipNextLoadEventForImage:"hammerhead|image|skip-next-load-event-flag",cachedImage:"hammerhead|image|cached-image",sandboxIsReattached:"hammerhead|sandbox-is-reattached",nativeStrRepresentation:"hammerhead|native-string-representation"},t.exports=e["default"]},"namespaces.js":function(e,t,r){Object.defineProperty(e,"__esModule",{value:!0}),e.SVG_NAMESPACE="http://www.w3.org/2000/svg",e.XML_NAMESPACE="http://www.w3.org/XML/1998/namespace",e.XMLNS_NAMESPACE="http://www.w3.org/2000/xmlns/",e.XLINK_NAMESPACE="http://www.w3.org/1999/xlink",e.NAMESPACE_PREFIX_MAP={xml:e.XML_NAMESPACE,xlink:e.XLINK_NAMESPACE,xmlns:e.XMLNS_NAMESPACE}}},script:{"destructuring.js":function(e,t,r){function n(e,t,r,n){var i=e.value,o=e.computed||e.key.type===p.Syntax.Literal,a=f.createMemberExpression(t,e.key,o);c(i,a,r,n)}function i(e,t){var r=f.createIdentifier(m["default"].restObject);return f.createSimpleCallExpression(r,[e,f.createArrayExpression(t)])}function o(e,t){
var r=f.createIdentifier(m["default"].restArray);return f.createSimpleCallExpression(r,[e,f.createSimpleLiteral(t)])}function a(e,t,r){if(e.type===p.Syntax.Identifier&&h["default"].isHHTempVariable(e.name))return e;var n=f.createIdentifier(r||h["default"].generateName(r));return t(n,e,!0),n}function s(e,t,r,o){var s=e.properties,l=s.length&&s[s.length-1].type===p.Syntax.RestElement,u=a(t,r,o),c=[],d=[];if(o||(o=u.name),l)for(var m=0;m<s.length-1;m++){var v=s[m],g=v.key;if(g.type===p.Syntax.Identifier)c.push(v.computed?g:f.createSimpleLiteral(g.name));else if(g.type===p.Syntax.Literal)c.push(g);else{var y=f.createIdentifier(h["default"].generateName());r(y,g,!0),c.push(y),v.key=y}}for(var E=0;E<s.length;E++){var _=s[E];if(_.type===p.Syntax.RestElement)r(_.argument,i(u,c));else{var S=h["default"].generateName(o,_.key,E);d.indexOf(S)>-1&&(S=h["default"].generateName(S,void 0,E)),d.push(S),n(_,u,r,S)}}}function l(e,t,r,n){var i=a(t,r,n);n||(n=i.name);for(var s=0;s<e.elements.length;s++){var l=e.elements[s];l&&(l.type===p.Syntax.RestElement?(t=o(i,s),l=l.argument):t=f.createMemberExpression(i,f.createSimpleLiteral(s),!0),c(l,t,r,h["default"].generateName(n,null,s)))}}function u(e,t,r,n){var i=e.left,o=e.right,s=a(t,r,n),l=f.createBinaryExpression(s,"===",f.createUndefined()),u=f.createConditionalExpression(l,o,s);n||(n=s.name),n+="$assign",c(i,u,r,n)}function c(e,t,r,n){e.type===p.Syntax.ObjectPattern?s(e,t,r,n):e.type===p.Syntax.ArrayPattern?l(e,t,r,n):e.type===p.Syntax.AssignmentPattern?u(e,t,r,n):r(e,t)}var d=function(e){return e&&e.__esModule?e:{"default":e}};Object.defineProperty(e,"__esModule",{value:!0});var p=r("esotope-hammerhead"),f=r("./node-builder"),h=d(r("./transformers/temp-variables")),m=d(r("./instruction"));e["default"]=c,t.exports=e["default"]},"header.js":function(e,t,r){function n(e){return e.replace(f,"").replace(h,"")}function i(t,r,n){var i=p.replace(c,r?'"use strict";':"").replace(d,n?"var "+l["default"].swScopeHeaderValue+" = "+JSON.stringify(n)+";":"");return i+t+"\n"+e.SCRIPT_PROCESSING_END_COMMENT}var o=function(e){return e&&e.__esModule?e:{"default":e}};Object.defineProperty(e,"__esModule",{value:!0});var a=o(r("../../utils/regexp-escape")),s=o(r("../../processing/dom/internal-properties")),l=o(r("./instruction")),u=o(r("../../proxy/service-routes"));e.SCRIPT_PROCESSING_START_COMMENT="/*hammerhead|script|start*/",e.SCRIPT_PROCESSING_END_COMMENT="/*hammerhead|script|end*/",e.SCRIPT_PROCESSING_END_HEADER_COMMENT="/*hammerhead|script|processing-header-end*/";var c="{strict-placeholder}",d="{sw-scope-header-value}",p=("\n    "+e.SCRIPT_PROCESSING_START_COMMENT+"\n    "+c+"\n    "+d+"\n\n    if (typeof window !== 'undefined' && window){\n        window['"+s["default"].processDomMethodName+"'] && window['"+s["default"].processDomMethodName+"']();\n\n        if (window."+l["default"].getProperty+" && typeof "+l["default"].getProperty+" === 'undefined')\n            var "+l["default"].getLocation+" = window."+l["default"].getLocation+",\n                "+l["default"].setLocation+" = window."+l["default"].setLocation+",\n                "+l["default"].setProperty+" = window."+l["default"].setProperty+",\n                "+l["default"].getProperty+" = window."+l["default"].getProperty+",\n                "+l["default"].callMethod+" = window."+l["default"].callMethod+",\n                "+l["default"].getEval+" = window."+l["default"].getEval+",\n                "+l["default"].processScript+" = window."+l["default"].processScript+",\n                "+l["default"].processHtml+" = window."+l["default"].processHtml+",\n                "+l["default"].getPostMessage+" = window."+l["default"].getPostMessage+",\n                "+l["default"].getProxyUrl+" = window."+l["default"].getProxyUrl+",\n                "+l["default"].restArray+" = window."+l["default"].restArray+",\n                "+l["default"].restObject+" = window."+l["default"].restObject+";\n    } else {\n        if (typeof "+l["default"].getProperty+" === 'undefined')\n            var "+l["default"].getLocation+" = function(l){return l},\n                "+l["default"].setLocation+" = function(l,v){return l = v},\n                "+l["default"].setProperty+" = function(o,p,v){return o[p] = v},\n                "+l["default"].getProperty+" = function(o,p){return o[p]},\n                "+l["default"].callMethod+" = function(o,p,a){return o[p].apply(o,a)},\n                "+l["default"].getEval+" = function(e){return e},\n                "+l["default"].processScript+" = function(s){return s},\n                "+l["default"].processHtml+" = function(h){return h},\n                "+l["default"].getPostMessage+" = function(w,p){return arguments.length===1?w.postMessage:p},\n                "+l["default"].getProxyUrl+" = function(u,d){return u},\n                "+l["default"].restArray+" = function(a,i){return Array.prototype.slice.call(a, i)},\n                "+l["default"].restObject+' = function(o,p){var k=Object.keys(o),n={};for(var i=0;i<k.length;++i)if(p.indexOf(k[i])<0)n[k[i]]=o[k[i]];return n};\n        \n        if (typeof importScripts !== "undefined" && /\\[native code]/g.test(importScripts.toString()))\n            importScripts((location.origin || (location.protocol + "//" + location.host)) + "'+u["default"].workerHammerhead+'");\n    }\n    '+e.SCRIPT_PROCESSING_END_HEADER_COMMENT+"\n").replace(/\n(?!$)\s*/g,""),f=new RegExp(a["default"](e.SCRIPT_PROCESSING_START_COMMENT)+"[\\S\\s]+?"+a["default"](e.SCRIPT_PROCESSING_END_HEADER_COMMENT)+"\n?","gi"),h=new RegExp("\n?"+a["default"](e.SCRIPT_PROCESSING_END_COMMENT)+"\\s*","gi");e.remove=n,e.add=i},"index.js":function(e,t,r){function n(e){do e=e.replace(x,"\n");while(x.test(e));return e}function i(e){var t=w["default"](e),r=t?e.substring(t.length):e;return r=E.remove(r),r=o(r),{bom:t,preprocessed:r}}function o(e){return e.replace(C,"")}function a(e,t,r,n,i){return t&&(e=E.add(e,n,i)),r?r+e:e}function s(e,t){return P.test(t)?e:e.replace(P,"")}function l(e,t){e=t?"("+e+")":e;try{return _.parse(e,O)}catch(r){return null}}function u(e,t){var r=S.generate(e,{format:{quotes:"double",escapeless:!0,compact:!0}});return t?s(r,t):r}function c(e){var t=T.test(e),r=l(e,t);return!r&&t&&(r=l(e,!1),t=!1),{ast:r,isObject:t}}function d(e){var t=e.body[0];return 1===e.body.length&&t.type===S.Syntax.ExpressionStatement&&t.expression.type===S.Syntax.ArrayExpression}function p(e){if(e.body.length){var t=e.body[0];if(t.type===S.Syntax.ExpressionStatement&&t.expression.type===S.Syntax.Literal)return"use strict"===t.expression.value}return!1}function f(e,t,r){var n=r?-1:0,i=[],o=0;if(!t.length)return e;t.sort(function(e,t){return e.start-t.start||e.end-t.end});for(var a=0;a<t.length;a++){var s=t[a],l=s.start+n,c=s.end+n,d=s.node.type===S.Syntax.SequenceExpression&&s.parentType!==S.Syntax.ExpressionStatement&&s.parentType!==S.Syntax.SequenceExpression;i.push(e.substring(o,l)),i.push(d?"(":" "),i.push(u(s.node,e.substring(l,c))),i.push(d?")":" "),o+=c-o}return i.push(e.substring(o)),i.join("")}function h(e){return I.test(e)}function m(e,t,r,o,s){void 0===t&&(t=!1),void 0===r&&(r=!1);var l=i(e),u=l.bom,h=l.preprocessed,m=n(h),v=c(m),y=v.ast,E=v.isObject;if(!y)return e;t=t&&!E&&!d(y);var _=g["default"](y,r,o),S=_.length?f(m,_,E):h;return S=a(S,t,u,p(y),s),E&&(S=S.replace(A,"$1")),S}var v=function(e){return e&&e.__esModule?e:{"default":e}};Object.defineProperty(e,"__esModule",{value:!0});var g=v(r("./transform")),y=v(r("./instruction")),E=r("./header"),_=r("acorn-hammerhead"),S=r("esotope-hammerhead"),b=v(r("../../utils/regexp-escape")),w=v(r("../../utils/get-bom")),x=/(^|\n)\s*<!--[^\n]*(\n|$)/g,T=/^\s*\{.*\}\s*$/,P=/;\s*$/,A=/^\s*\((.*)\);\s*$/,C=/(?:\/\/[@#][ \t]+sourceMappingURL=([^\s'"]+?)[ \t]*$)/gm,I=new RegExp([b["default"](y["default"].getLocation),b["default"](y["default"].setLocation),b["default"](y["default"].getProperty),b["default"](y["default"].setProperty),b["default"](y["default"].callMethod),b["default"](y["default"].processScript),b["default"](y["default"].processHtml),b["default"](y["default"].getPostMessage),b["default"](y["default"].getProxyUrl)].join("|")),O={allowReturnOutsideFunction:!0,allowImportExportEverywhere:!0,ecmaVersion:11};e.isScriptProcessed=h,e.processScript=m},"instruction.js":function(e,t,r){Object.defineProperty(e,"__esModule",{value:!0}),e["default"]={getLocation:"__get$Loc",setLocation:"__set$Loc",getProperty:"__get$",setProperty:"__set$",callMethod:"__call$",processScript:"__proc$Script",processHtml:"__proc$Html",getEval:"__get$Eval",getPostMessage:"__get$PostMessage",getProxyUrl:"__get$ProxyUrl",restArray:"__rest$Array",restObject:"__rest$Object",swScopeHeaderValue:"__swScopeHeaderValue"},t.exports=e["default"]},"instrumented.js":function(e,t,r){function n(e){return l(o,String(e))}function i(e){return l(a,String(e))}Object.defineProperty(e,"__esModule",{value:!0}),e.METHODS=["postMessage","replace","assign"],e.PROPERTIES=["href","location"];var o=new RegExp("^("+e.METHODS.join("|")+")$"),a=new RegExp("^("+e.PROPERTIES.join("|")+")$"),s=RegExp.prototype.test,l=function(e,t){return e.test?e.test(t):s.call(e,t)};e.shouldInstrumentMethod=n,e.shouldInstrumentProperty=i},"node-builder.js":function(e,t,r){function n(e){return{type:F.Syntax.Identifier,name:e}}function i(e){return{type:F.Syntax.ExpressionStatement,expression:e}}function o(e,t,r){return{type:F.Syntax.AssignmentExpression,operator:t,left:e,right:r}}function a(e,t){return{type:F.Syntax.CallExpression,callee:e,arguments:t}}function s(e){return{type:F.Syntax.ArrayExpression,elements:e}}function l(e,t,r){return{type:F.Syntax.MemberExpression,object:e,property:t,computed:r}}function u(e,t,r){return{type:F.Syntax.BinaryExpression,left:e,right:r,operator:t}}function c(e){return{type:F.Syntax.SequenceExpression,expressions:e}}function d(){return{type:F.Syntax.ThisExpression}}function p(e,t,r){return{type:F.Syntax.LogicalExpression,left:e,right:r,operator:t}}function f(e){return void 0===e&&(e=null),{type:F.Syntax.ReturnStatement,argument:e}}function h(e,t,r,n,i){return void 0===n&&(n=!1),void 0===i&&(i=!1),{type:F.Syntax.FunctionExpression,id:e,params:t,body:r,async:n,generator:i}}function m(e,t){return{type:F.Syntax.UnaryExpression,operator:e,prefix:!0,argument:t}}function v(){return m("void",y(0))}function g(e,t,r){return{type:F.Syntax.ConditionalExpression,test:e,consequent:t,alternate:r}}function y(e){return{type:F.Syntax.Literal,value:e}}function E(e,t){return i(o(e,"=",t))}function _(e){return{type:F.Syntax.BlockStatement,body:e}}function S(e,t){return void 0===t&&(t=null),{type:F.Syntax.VariableDeclarator,id:e,init:t}}function b(e,t){return{type:F.Syntax.VariableDeclaration,declarations:t,kind:e}}function w(e,t){var r=[e],i=n(H["default"].processScript);return t&&r.push(y(!0)),a(i,r)}function x(e){var t=n(H["default"].getLocation);return a(t,[e])}function T(e,t,r){var i=n(V["default"].generateName()),s=n(H["default"].setLocation),u=a(s,[e,i]),m=o(e,"=",i),v=n("call"),g=h(null,[],_([b("var",[S(i,t)]),f(p(u,"||",m))])),E=l(g,v,!1),w=a(E,[d()]);return r?c([y(0),w]):w}function P(e,t,r){var i=n(H["default"].setProperty);return a(i,[t,y(e),r])}function A(e,t,r){var i=n(H["default"].callMethod),o=s(r);return a(i,[e,t,o])}function C(e,t){var r=n(H["default"].getProperty);return a(r,[t,y(e)])}function I(e,t){var r=n(H["default"].getProperty);return a(r,[t,e])}function O(e,t,r){var i=n(H["default"].setProperty);return a(i,[t,e,r])}function M(e){var t=n(H["default"].getEval);return a(t,[e])}function N(e,t){var r=t(String(e.value),B.getResourceTypeString({isScript:!0}));return y(r)}function D(e,t){var r=n(H["default"].getProxyUrl),i=[e];return t&&i.push(y(t)),a(r,i)}function L(e){var t=n(H["default"].getPostMessage),r=e.type===F.Syntax.MemberExpression?[e.object]:[y(null),e];return a(t,r)}function k(e,t){return o(e,"=",u(e,"+",t))}function j(e){var t=n(H["default"].processHtml),r=n("parent"),o=n("window"),s=l(r,t,!1),u=a(s,[o,e.expression]);return i(u)}function R(e){for(var t=[],r=0;r<e.length;r++){var i=e[r];t.push(S(n(i)))}return b("var",t)}var U=function(e){return e&&e.__esModule?e:{"default":e}};Object.defineProperty(e,"__esModule",{value:!0});var F=r("esotope-hammerhead"),H=U(r("./instruction")),B=r("../../utils/url"),V=U(r("./transformers/temp-variables"));e.createIdentifier=n,e.createExpressionStatement=i,e.createAssignmentExpression=o,e.createSimpleCallExpression=a,e.createArrayExpression=s,e.createMemberExpression=l,e.createBinaryExpression=u,e.createSequenceExpression=c,e.createReturnStatement=f,e.createUndefined=v,e.createConditionalExpression=g,e.createSimpleLiteral=y,e.createAssignmentExprStmt=E,e.createBlockStatement=_,e.createVariableDeclarator=S,e.createVariableDeclaration=b,e.createProcessScriptMethodCall=w,e.createLocationGetWrapper=x,e.createLocationSetWrapper=T,e.createPropertySetWrapper=P,e.createMethodCallWrapper=A,e.createPropertyGetWrapper=C,e.createComputedPropertyGetWrapper=I,e.createComputedPropertySetWrapper=O,e.createGetEvalMethodCall=M,e.getProxyUrlLiteral=N,e.createGetProxyUrlMethodCall=D,e.createGetPostMessageMethodCall=L,e.createExpandedConcatOperation=k,e.createHtmlProcessorWrapper=j,e.createTempVarsDeclaration=R},"transform.js":function(e,t,r){function n(e,t){var r=e.originStart,n=e.originEnd;return{start:r,end:n,node:e,parentType:t}}function i(e,t,r,n){for(var i=P(e),o=0;o<i.length;o++){var a=i[o],s=e[a],l=T.call(s);if("[object Array]"===l)for(var u=s,c=0;c<u.length;c++){var p=u[c];p&&d(p,t,r,e,a,n)}else"[object Object]"===l&&d(s,t,r,e,a,n)}}function o(e){return void 0!==e.originStart&&void 0!==e.originEnd}function a(e,t,r,i){var a=e.hasTransformedAncestor||e.newExpressionAncestor&&o(e.newExpressionAncestor);a||(e.newExpressionAncestor?(y["default"](e.newExpressionAncestor,e.newExpressionAncestor,e.newExpressionAncestorParent,e.newExpressionAncestorKey),t.push(n(e.newExpressionAncestor,e.newExpressionAncestorParent.type))):t.push(n(r,i)))}function s(e,t,r,n){var i=n.get();if(i.length){var o=b.createTempVarsDeclaration(i);y["default"](null,o,e,"body"),a(r,t,o,e.type)}}function l(e,t){void 0===e&&(e=!1),m["default"].wrapLastExpr=e,v["default"].resolver=t;var r="undefined"==typeof window;if(r)g["default"].baseUrl=t?_.parseProxyUrl(t("./")).destUrl:"";else{var n=(new Error).stack;g["default"].baseUrl=n&&S.getFirstDestUrl(n)||""}}function u(){m["default"].wrapLastExpr=!1,v["default"].resolver=void 0,g["default"].baseUrl=void 0}function c(e,t){var r=h["default"].get(e.type);if(r)for(var n=0;n<r.length;n++){var i=r[n];if(i.condition(e,t))return i}return null}function d(e,t,r,n,l,u){var d=e.type===E.Syntax.BlockStatement,p=!1;if(d&&(u=new w["default"]),!e.reTransform&&o(e))a(r,t,e,n.type),p=!0;else{for(var f=e,h=c(e,n),m=null;h&&(m=h.run(m||e,n,l,u))&&(p=!0,h.nodeReplacementRequireTransform);)h=c(m,n),e=m;p&&(y["default"](f,m,n,l),a(r,t,m,n.type))}r=x.create(r,e,n,l,p),i(e,t,r,u),d&&s(e,t,r,u)}function p(e,t,r){void 0===t&&(t=!1);var n=[],o=new x,a=new w["default"];return w["default"].resetCounter(),l(t,r),i(e,n,o,a),s(e,n,o,a),u(),n}var f=function(e){return e&&e.__esModule?e:{"default":e}};Object.defineProperty(e,"__esModule",{value:!0});var h=f(r("./transformers")),m=f(r("./transformers/js-protocol-last-expression")),v=f(r("./transformers/static-import")),g=f(r("./transformers/dynamic-import")),y=f(r("./transformers/replace-node")),E=r("esotope-hammerhead"),_=r("../../utils/url"),S=r("../../utils/stack-processing"),b=r("./node-builder"),w=f(r("./transformers/temp-variables")),x=function(){function e(){this.hasTransformedAncestor=!1}return e.create=function(t,r,n,i,o){void 0===o&&(o=!1);var a=r.type===E.Syntax.NewExpression,s=a&&!t.newExpressionAncestor,l=new e;return l.hasTransformedAncestor=t.hasTransformedAncestor||o,l.newExpressionAncestor=s?r:t.newExpressionAncestor,l.newExpressionAncestorParent=s?n:t.newExpressionAncestorParent,l.newExpressionAncestorKey=s?i:t.newExpressionAncestorKey,l},e}(),T=Object.prototype.toString,P=Object.keys;e["default"]=p,t.exports=e["default"]},transformers:{"assignment-destructuring.js":function(e,t,r){var n=function(e){return e&&e.__esModule?e:{"default":e}};Object.defineProperty(e,"__esModule",{value:!0});var i=r("../node-builder"),o=r("esotope-hammerhead"),a=n(r("../destructuring")),s={nodeReplacementRequireTransform:!0,nodeTypes:o.Syntax.AssignmentExpression,condition:function(e){return"="===e.operator&&(e.left.type===o.Syntax.ObjectPattern||e.left.type===o.Syntax.ArrayPattern)},run:function(e,t,r,n){var o=[];return a["default"](e.left,e.right,function(e,t,r){o.push(i.createAssignmentExpression(e,"=",t)),r&&n.append(e.name)}),i.createSequenceExpression(o)}};e["default"]=s,t.exports=e["default"]},"computed-property-get.js":function(e,t,r){Object.defineProperty(e,"__esModule",{value:!0});var n=r("../node-builder"),i=r("esotope-hammerhead"),o=r("../instrumented"),a={nodeReplacementRequireTransform:!0,nodeTypes:i.Syntax.MemberExpression,condition:function(e,t){return!(!e.computed||!t)&&(!(e.property.type===i.Syntax.Literal&&!o.shouldInstrumentProperty(e.property.value))&&(e.object.type!==i.Syntax.Super&&((t.type!==i.Syntax.AssignmentExpression||t.left!==e)&&((t.type!==i.Syntax.UnaryExpression||"delete"!==t.operator)&&((t.type!==i.Syntax.UpdateExpression||"++"!==t.operator&&"--"!==t.operator)&&((t.type!==i.Syntax.CallExpression||t.callee!==e)&&((t.type!==i.Syntax.NewExpression||t.callee!==e)&&(t.type!==i.Syntax.ForInStatement||t.left!==e))))))))},run:function(e){return n.createComputedPropertyGetWrapper(e.property,e.object)}};e["default"]=a,t.exports=e["default"]},"computed-property-set.js":function(e,t,r){Object.defineProperty(e,"__esModule",{value:!0});var n=r("../node-builder"),i=r("esotope-hammerhead"),o=r("../instrumented"),a={nodeReplacementRequireTransform:!0,nodeTypes:i.Syntax.AssignmentExpression,condition:function(e){var t=e.left;return(t.type!==i.Syntax.MemberExpression||t.object.type!==i.Syntax.Super)&&(!("="!==e.operator||t.type!==i.Syntax.MemberExpression||!t.computed)&&(t.property.type!==i.Syntax.Literal||o.shouldInstrumentProperty(t.property.value)))},run:function(e){var t=e.left;return n.createComputedPropertySetWrapper(t.property,t.object,e.right)}};e["default"]=a,t.exports=e["default"]},"concat-operator.js":function(e,t,r){Object.defineProperty(e,"__esModule",{value:!0});var n=r("../node-builder"),i=r("esotope-hammerhead"),o=r("../instrumented"),a={nodeReplacementRequireTransform:!0,nodeTypes:i.Syntax.AssignmentExpression,condition:function(e){if("+="!==e.operator)return!1;var t=e.left;if(t.type===i.Syntax.Identifier)return o.shouldInstrumentProperty(t.name);if(t.type===i.Syntax.MemberExpression){if(t.computed)return t.property.type===i.Syntax.Literal?o.shouldInstrumentProperty(t.property.value):t.property.type!==i.Syntax.UpdateExpression;if(t.property.type===i.Syntax.Identifier)return o.shouldInstrumentProperty(t.property.name)}return!1},run:function(e){return n.createExpandedConcatOperation(e.left,e.right)}};e["default"]=a,t.exports=e["default"]},"declaration-destructuring.js":function(e,t,r){var n=function(e){return e&&e.__esModule?e:{"default":e}};Object.defineProperty(e,"__esModule",{value:!0});var i=r("../node-builder"),o=r("esotope-hammerhead"),a=n(r("../destructuring")),s={nodeReplacementRequireTransform:!0,nodeTypes:o.Syntax.VariableDeclaration,condition:function(e,t){if(t.type===o.Syntax.ForInStatement)return!1;for(var r=0,n=e.declarations;r<n.length;r++){var i=n[r];if(i.id.type===o.Syntax.ObjectPattern||i.id.type===o.Syntax.ArrayPattern)return!0}return!1},run:function(e){for(var t=[],r=0,n=e.declarations;r<n.length;r++){var o=n[r];a["default"](o.id,o.init,function(e,r){return t.push(i.createVariableDeclarator(e,r))})}return i.createVariableDeclaration(e.kind,t)}};e["default"]=s,t.exports=e["default"]},"dynamic-import.js":function(e,t,r){var n=function(e){return e&&e.__esModule?e:{"default":e}};Object.defineProperty(e,"__esModule",{value:!0});var i=r("../node-builder"),o=r("esotope-hammerhead"),a=n(r("./replace-node")),s={nodeReplacementRequireTransform:!0,nodeTypes:o.Syntax.CallExpression,condition:function(e){return e.callee.type===o.Syntax.Import},run:function(e){var t=i.createGetProxyUrlMethodCall(e.arguments[0],s.baseUrl);return a["default"](e.arguments[0],t,e,"arguments"),null}};e["default"]=s,t.exports=e["default"]},"eval-bind.js":function(e,t,r){var n=function(e){return e&&e.__esModule?e:{"default":e}};Object.defineProperty(e,"__esModule",{value:!0});var i=r("../node-builder"),o=r("esotope-hammerhead"),a=n(r("./replace-node")),s={nodeReplacementRequireTransform:!1,nodeTypes:o.Syntax.CallExpression,condition:function(e){if(e.callee.type===o.Syntax.MemberExpression&&e.callee.property.type===o.Syntax.Identifier&&"bind"===e.callee.property.name){var t=e.callee.object;if(t.type===o.Syntax.MemberExpression&&"eval"===(t.property.type===o.Syntax.Identifier&&t.property.name||t.property.type===o.Syntax.Literal&&t.property.value))return!0;if(t.type===o.Syntax.Identifier&&"eval"===t.name)return!0}return!1},run:function(e){var t=e.callee,r=i.createGetEvalMethodCall(t.object);return a["default"](t.object,r,t,"object"),null}};e["default"]=s,t.exports=e["default"]},"eval-call-apply.js":function(e,t,r){var n=function(e){return e&&e.__esModule?e:{"default":e}};Object.defineProperty(e,"__esModule",{value:!0});var i=r("../node-builder"),o=r("esotope-hammerhead"),a=n(r("./replace-node")),s=/^(call|apply)$/,l={nodeReplacementRequireTransform:!1,nodeTypes:o.Syntax.CallExpression,condition:function(e){if(e.arguments.length<2)return!1;if(e.callee.type===o.Syntax.MemberExpression&&e.callee.property.type===o.Syntax.Identifier&&s.test(e.callee.property.name)){var t=e.callee.object;if(t.type===o.Syntax.Identifier&&"eval"===t.name)return!0;if(t.type===o.Syntax.MemberExpression&&"eval"===(t.property.type===o.Syntax.Identifier&&t.property.name||t.property.type===o.Syntax.Literal&&t.property.value))return!0}return!1},run:function(e){var t=e.callee,r=t.property,n=i.createProcessScriptMethodCall(e.arguments[1],"apply"===r.name);return a["default"](e.arguments[1],n,e,"arguments"),null}};e["default"]=l,t.exports=e["default"]},"eval-get.js":function(e,t,r){var n=function(e){return e&&e.__esModule?e:{"default":e}};Object.defineProperty(e,"__esModule",{value:!0});var i=n(r("../instruction")),o=r("../node-builder"),a=r("esotope-hammerhead"),s={nodeReplacementRequireTransform:!1,nodeTypes:a.Syntax.Identifier,condition:function(e,t){return!("eval"!==e.name||!t)&&((t.type!==a.Syntax.CallExpression||t.callee!==e)&&(t.type!==a.Syntax.MethodDefinition&&(t.type!==a.Syntax.ClassDeclaration&&(t.type!==a.Syntax.MemberExpression&&((t.type!==a.Syntax.FunctionExpression&&t.type!==a.Syntax.FunctionDeclaration||t.id!==e)&&((t.type!==a.Syntax.FunctionExpression&&t.type!==a.Syntax.FunctionDeclaration&&t.type!==a.Syntax.ArrowFunctionExpression||t.params.indexOf(e)===-1)&&((t.type!==a.Syntax.Property||t.key!==e)&&((t.type!==a.Syntax.AssignmentExpression&&t.type!==a.Syntax.AssignmentPattern||t.left!==e)&&((t.type!==a.Syntax.VariableDeclarator||t.id!==e)&&((t.type!==a.Syntax.UpdateExpression||"++"!==t.operator&&"--"!==t.operator)&&((t.type!==a.Syntax.CallExpression||t.callee.type!==a.Syntax.Identifier||t.callee.name!==i["default"].getEval)&&(t.type!==a.Syntax.RestElement&&(t.type!==a.Syntax.ExportSpecifier&&t.type!==a.Syntax.ImportSpecifier)))))))))))))},run:o.createGetEvalMethodCall};e["default"]=s,t.exports=e["default"]},"eval.js":function(e,t,r){var n=function(e){return e&&e.__esModule?e:{"default":e}};Object.defineProperty(e,"__esModule",{value:!0});var i=r("../node-builder"),o=n(r("./replace-node")),a=r("esotope-hammerhead"),s={nodeReplacementRequireTransform:!1,nodeTypes:a.Syntax.CallExpression,condition:function(e){if(!e.arguments.length)return!1;var t=e.callee;return t.type===a.Syntax.Identifier&&"eval"===t.name||t.type===a.Syntax.MemberExpression&&"eval"===(t.property.type===a.Syntax.Identifier&&t.property.name||t.property.type===a.Syntax.Literal&&t.property.value)},run:function(e){var t=i.createProcessScriptMethodCall(e.arguments[0]);return o["default"](e.arguments[0],t,e,"arguments"),null}};e["default"]=s,t.exports=e["default"]},"for-in.js":function(e,t,r){var n=function(e){return e&&e.__esModule?e:{"default":e}};Object.defineProperty(e,"__esModule",{value:!0});var i=r("esotope-hammerhead"),o=r("../node-builder"),a=n(r("./replace-node")),s=n(r("./temp-variables")),l={nodeReplacementRequireTransform:!1,nodeTypes:i.Syntax.ForInStatement,condition:function(e){return e.left.type===i.Syntax.MemberExpression},run:function(e){var t=o.createIdentifier(s["default"].generateName()),r=o.createVariableDeclaration("var",[o.createVariableDeclarator(t)]),n=o.createAssignmentExprStmt(e.left,t);return e.body.type!==i.Syntax.BlockStatement?a["default"](e.body,o.createBlockStatement([n,e.body]),e,"body"):a["default"](null,n,e.body,"body"),a["default"](e.left,r,e,"left"),null}};e["default"]=l,t.exports=e["default"]},"for-of.js":function(e,t,r){var n=function(e){return e&&e.__esModule?e:{"default":e}};Object.defineProperty(e,"__esModule",{value:!0});var i=r("esotope-hammerhead"),o=r("../node-builder"),a=n(r("./replace-node")),s=n(r("./temp-variables")),l={nodeReplacementRequireTransform:!1,nodeTypes:i.Syntax.ForOfStatement,condition:function(e){var t=e.left;return t.type===i.Syntax.VariableDeclaration&&(t=t.declarations[0].id),t.type===i.Syntax.ObjectPattern||t.type===i.Syntax.ArrayPattern},run:function(e){var t,r=o.createIdentifier(s["default"].generateName()),n=e.left;if(n.type===i.Syntax.VariableDeclaration)t=o.createVariableDeclaration(n.kind,[o.createVariableDeclarator(n.declarations[0].id,r)]),t.reTransform=!0,a["default"](n.declarations[0].id,r,n.declarations[0],"id");else{var l=o.createVariableDeclaration("var",[o.createVariableDeclarator(r)]);t=o.createAssignmentExprStmt(n,r),a["default"](n,l,e,"left")}return e.body.type===i.Syntax.BlockStatement?a["default"](null,t,e.body,"body"):a["default"](e.body,o.createBlockStatement([t,e.body]),e,"body"),null}};e["default"]=l,t.exports=e["default"]},"func-args-destructing.js":function(e,t,r){function n(e){return{nodeReplacementRequireTransform:!1,nodeTypes:e,condition:function(e){for(var t=0,r=e.params;t<r.length;t++){var n=r[t];if(n.type===a.Syntax.AssignmentPattern&&(n=n.left),n.type===a.Syntax.ObjectPattern||n.type===a.Syntax.ArrayPattern)return!0}return!1},run:function(e){for(var t=[],r=0,n=e.params;r<n.length;r++){var i=n[r],u=e,c="params";if(i.type===a.Syntax.AssignmentPattern&&(u=i,i=i.left,c="left"),i.type===a.Syntax.ObjectPattern&&i.properties.length||i.type===a.Syntax.ArrayPattern&&i.elements.length){var d=o.createIdentifier(l["default"].generateName());s["default"](i,d,u,c),t.push(o.createVariableDeclarator(i,d))}}if(!t.length)return null;var p=o.createVariableDeclaration("var",t);if(e.body.type!==a.Syntax.BlockStatement){var f=o.createReturnStatement(e.body);return s["default"](e.body,o.createBlockStatement([p,f]),e,"body"),e.expression=!1,e}return s["default"](null,p,e.body,"body"),p.reTransform=!0,null}}}var i=function(e){return e&&e.__esModule?e:{"default":e}};Object.defineProperty(e,"__esModule",{value:!0});var o=r("../node-builder"),a=r("esotope-hammerhead"),s=i(r("./replace-node")),l=i(r("./temp-variables"));e["default"]=n,t.exports=e["default"]},"index.js":function(e,t,r){function n(){for(var e=new Map,t=0;t<O.length;t++){var r=O[t],n=r.nodeTypes,i=e.get(n);i||(i=[],e.set(n,i)),i.push(r)}return e}var i=function(e){return e&&e.__esModule?e:{"default":e}};Object.defineProperty(e,"__esModule",{value:!0});var o=i(r("./computed-property-get")),a=i(r("./computed-property-set")),s=i(r("./concat-operator")),l=i(r("./eval")),u=i(r("./eval-bind")),c=i(r("./eval-call-apply")),d=i(r("./eval-get")),p=i(r("./window-eval-get")),f=i(r("./post-message-get")),h=i(r("./window-post-message-get")),m=i(r("./post-message-call-apply-bind")),v=i(r("./for-in")),g=i(r("./for-of")),y=i(r("./location-get")),E=i(r("./location-set")),_=i(r("./property-get")),S=i(r("./property-set")),b=i(r("./method-call")),w=i(r("./js-protocol-last-expression")),x=i(r("./static-import")),T=i(r("./dynamic-import")),P=i(r("./declaration-destructuring")),A=i(r("./assignment-destructuring")),C=i(r("./func-args-destructing")),I=r("esotope-hammerhead"),O=[C["default"](I.Syntax.FunctionDeclaration),C["default"](I.Syntax.FunctionExpression),C["default"](I.Syntax.ArrowFunctionExpression),A["default"],o["default"],a["default"],s["default"],l["default"],u["default"],c["default"],d["default"],p["default"],f["default"],h["default"],m["default"],v["default"],g["default"],y["default"],E["default"],_["default"],S["default"],b["default"],w["default"],x["default"],T["default"],P["default"]];e["default"]=n(),t.exports=e["default"]},"js-protocol-last-expression.js":function(e,t,r){Object.defineProperty(e,"__esModule",{value:!0});var n=r("../node-builder"),i=r("esotope-hammerhead"),o={nodeReplacementRequireTransform:!0,nodeTypes:i.Syntax.ExpressionStatement,condition:function(e,t){return!!o.wrapLastExpr&&!!t&&t.type===i.Syntax.Program&&t.body[t.body.length-1]===e},run:function(e){return o.wrapLastExpr=!1,n.createHtmlProcessorWrapper(e)}};e["default"]=o,t.exports=e["default"]},"location-get.js":function(e,t,r){var n=function(e){return e&&e.__esModule?e:{"default":e}};Object.defineProperty(e,"__esModule",{value:!0});var i=r("../node-builder"),o=n(r("../instruction")),a=r("esotope-hammerhead"),s={nodeReplacementRequireTransform:!1,nodeTypes:a.Syntax.Identifier,condition:function(e,t){return!("location"!==e.name||!t)&&((t.type!==a.Syntax.VariableDeclarator||t.id!==e)&&((t.type!==a.Syntax.AssignmentExpression&&t.type!==a.Syntax.AssignmentPattern||t.left!==e)&&((t.type!==a.Syntax.FunctionExpression&&t.type!==a.Syntax.FunctionDeclaration||t.id!==e)&&((t.type!==a.Syntax.MemberExpression||t.property!==e)&&((t.type!==a.Syntax.Property||t.key!==e)&&((t.type!==a.Syntax.UpdateExpression||"++"!==t.operator&&"--"!==t.operator)&&((t.type!==a.Syntax.FunctionExpression&&t.type!==a.Syntax.FunctionDeclaration&&t.type!==a.Syntax.ArrowFunctionExpression||t.params.indexOf(e)===-1)&&((t.type!==a.Syntax.CallExpression||t.callee.type!==a.Syntax.Identifier||t.callee.name!==o["default"].getLocation)&&(t.type!==a.Syntax.MethodDefinition&&(t.type!==a.Syntax.ClassDeclaration&&(t.type!==a.Syntax.RestElement&&(t.type!==a.Syntax.ExportSpecifier&&t.type!==a.Syntax.ImportSpecifier))))))))))))},run:i.createLocationGetWrapper};e["default"]=s,t.exports=e["default"]},"location-set.js":function(e,t,r){Object.defineProperty(e,"__esModule",{value:!0});var n=r("../node-builder"),i=r("esotope-hammerhead"),o={nodeReplacementRequireTransform:!1,nodeTypes:i.Syntax.AssignmentExpression,condition:function(e){return"="===e.operator&&e.left.type===i.Syntax.Identifier&&"location"===e.left.name},run:function(e,t,r){if(!t)return null;var o="arguments"!==r&&"consequent"!==r&&"alternate"!==r&&(t.type!==i.Syntax.SequenceExpression||t.expressions[0]===e);return n.createLocationSetWrapper(e.left,e.right,o)}};e["default"]=o,t.exports=e["default"]},"method-call.js":function(e,t,r){Object.defineProperty(e,"__esModule",{value:!0});var n=r("../node-builder"),i=r("esotope-hammerhead"),o=r("../instrumented"),a={nodeReplacementRequireTransform:!0,nodeTypes:i.Syntax.CallExpression,condition:function(e){var t=e.callee;return t.type===i.Syntax.MemberExpression&&(t.object.type!==i.Syntax.Super&&(t.computed?t.property.type!==i.Syntax.Literal||o.shouldInstrumentMethod(t.property.value):t.property.type===i.Syntax.Identifier&&o.shouldInstrumentMethod(t.property.name)))},run:function(e){var t=e.callee,r=t.computed?t.property:n.createSimpleLiteral(t.property.name);return n.createMethodCallWrapper(t.object,r,e.arguments)}};e["default"]=a,t.exports=e["default"]},"post-message-call-apply-bind.js":function(e,t,r){var n=function(e){return e&&e.__esModule?e:{"default":e}};Object.defineProperty(e,"__esModule",{value:!0});var i=r("../node-builder"),o=r("esotope-hammerhead"),a=n(r("./replace-node")),s=/^(call|apply|bind)$/,l={nodeReplacementRequireTransform:!1,
nodeTypes:o.Syntax.CallExpression,condition:function(e){if(e.callee.type===o.Syntax.MemberExpression&&e.callee.property.type===o.Syntax.Identifier&&s.test(e.callee.property.name)){if(e.arguments.length<2&&"bind"!==e.callee.property.name)return!1;var t=e.callee.object;if(t.type===o.Syntax.MemberExpression&&"postMessage"===(t.property.type===o.Syntax.Identifier&&t.property.name||t.property.type===o.Syntax.Literal&&t.property.value))return!0;if(t.type===o.Syntax.Identifier&&"postMessage"===t.name)return!0}return!1},run:function(e){var t=e.callee,r=i.createGetPostMessageMethodCall(t.object);return a["default"](t.object,r,t,"object"),null}};e["default"]=l,t.exports=e["default"]},"post-message-get.js":function(e,t,r){var n=function(e){return e&&e.__esModule?e:{"default":e}};Object.defineProperty(e,"__esModule",{value:!0});var i=n(r("../instruction")),o=r("../node-builder"),a=r("esotope-hammerhead"),s={nodeReplacementRequireTransform:!1,nodeTypes:a.Syntax.Identifier,condition:function(e,t){return!("postMessage"!==e.name||!t)&&(t.type!==a.Syntax.MemberExpression&&(t.type!==a.Syntax.MethodDefinition&&(t.type!==a.Syntax.ClassDeclaration&&((t.type!==a.Syntax.FunctionExpression&&t.type!==a.Syntax.FunctionDeclaration||t.id!==e)&&((t.type!==a.Syntax.FunctionExpression&&t.type!==a.Syntax.FunctionDeclaration&&t.type!==a.Syntax.ArrowFunctionExpression||t.params.indexOf(e)===-1)&&((t.type!==a.Syntax.Property||t.key!==e)&&((t.type!==a.Syntax.AssignmentExpression&&t.type!==a.Syntax.AssignmentPattern||t.left!==e)&&((t.type!==a.Syntax.VariableDeclarator||t.id!==e)&&((t.type!==a.Syntax.UpdateExpression||"++"!==t.operator&&"--"!==t.operator)&&((t.type!==a.Syntax.CallExpression||t.callee.type!==a.Syntax.Identifier||t.callee.name!==i["default"].getPostMessage&&(t.callee.name!==i["default"].callMethod||t.arguments[1]!==e))&&(t.type!==a.Syntax.RestElement&&(t.type!==a.Syntax.ExportSpecifier&&t.type!==a.Syntax.ImportSpecifier))))))))))))},run:o.createGetPostMessageMethodCall};e["default"]=s,t.exports=e["default"]},"property-get.js":function(e,t,r){Object.defineProperty(e,"__esModule",{value:!0});var n=r("../node-builder"),i=r("esotope-hammerhead"),o=r("../instrumented"),a={nodeReplacementRequireTransform:!0,nodeTypes:i.Syntax.MemberExpression,condition:function(e,t){return!(e.computed||!t)&&(!(e.property.type===i.Syntax.Identifier&&!o.shouldInstrumentProperty(e.property.name))&&(e.object.type!==i.Syntax.Super&&((t.type!==i.Syntax.AssignmentExpression||t.left!==e)&&((t.type!==i.Syntax.UnaryExpression||"delete"!==t.operator)&&((t.type!==i.Syntax.CallExpression||t.callee!==e)&&((t.type!==i.Syntax.UpdateExpression||"++"!==t.operator&&"--"!==t.operator)&&((t.type!==i.Syntax.NewExpression||t.callee!==e)&&(t.type!==i.Syntax.ForInStatement||t.left!==e))))))))},run:function(e){return n.createPropertyGetWrapper(e.property.name,e.object)}};e["default"]=a,t.exports=e["default"]},"property-set.js":function(e,t,r){Object.defineProperty(e,"__esModule",{value:!0});var n=r("../node-builder"),i=r("esotope-hammerhead"),o=r("../instrumented"),a={nodeReplacementRequireTransform:!0,nodeTypes:i.Syntax.AssignmentExpression,condition:function(e){return(e.left.type!==i.Syntax.MemberExpression||e.left.object.type!==i.Syntax.Super)&&("="===e.operator&&e.left.type===i.Syntax.MemberExpression&&!e.left.computed&&e.left.property.type===i.Syntax.Identifier&&o.shouldInstrumentProperty(e.left.property.name))},run:function(e){var t=e.left,r=t.property;return n.createPropertySetWrapper(r.name,t.object,e.right)}};e["default"]=a,t.exports=e["default"]},"replace-node.js":function(e,t,r){function n(e,t,r,n){var i=r[n];i instanceof Array?e?i[i.indexOf(e)]=t:i.unshift(t):r[n]=t,e?(t.originStart=t.start=e.start,t.originEnd=t.end=e.end):t.start=t.end=t.originStart=t.originEnd=i[1]?i[1].start:r.start+1}Object.defineProperty(e,"__esModule",{value:!0}),e["default"]=n,t.exports=e["default"]},"static-import.js":function(e,t,r){Object.defineProperty(e,"__esModule",{value:!0});var n=r("../node-builder"),i=r("esotope-hammerhead"),o={nodeReplacementRequireTransform:!1,nodeTypes:i.Syntax.Literal,condition:function(e,t){return!!t&&(t.type===i.Syntax.ImportDeclaration||t.type===i.Syntax.ExportAllDeclaration||t.type===i.Syntax.ExportNamedDeclaration)&&t.source===e},run:function(e){return o.resolver?n.getProxyUrlLiteral(e,o.resolver):null}};e["default"]=o,t.exports=e["default"]},"temp-variables.js":function(e,t,r){Object.defineProperty(e,"__esModule",{value:!0});var n=r("esotope-hammerhead"),i="_hh$temp",o=function(){function e(){this._list=[]}e.resetCounter=function(){e._counter=0},e.generateName=function(t,r,o){if(!t)return i+e._counter++;if(r){if(r.type===n.Syntax.Identifier)return t+"$"+r.name;if(r.type===n.Syntax.Literal)return t+"$"+r.value.toString().replace(/[^a-zA-Z0-9]/g,"")}return t+"$i"+o},e.isHHTempVariable=function(e){return 0===e.indexOf(i)};var t=e.prototype;return t.append=function(e){this._list.push(e)},t.get=function(){return this._list},e}();e["default"]=o,o._counter=0,t.exports=e["default"]},"window-eval-get.js":function(e,t,r){var n=function(e){return e&&e.__esModule?e:{"default":e}};Object.defineProperty(e,"__esModule",{value:!0});var i=n(r("../instruction")),o=r("../node-builder"),a=r("esotope-hammerhead"),s={nodeReplacementRequireTransform:!1,nodeTypes:a.Syntax.MemberExpression,condition:function(e,t){return!!t&&((t.type!==a.Syntax.MemberExpression||t.property!==e&&t.object!==e)&&((t.type!==a.Syntax.CallExpression||t.callee!==e)&&((t.type!==a.Syntax.AssignmentExpression||t.left!==e)&&((t.type!==a.Syntax.CallExpression||t.callee.type!==a.Syntax.Identifier||t.callee.name!==i["default"].getEval)&&(e.property.type===a.Syntax.Identifier&&"eval"===e.property.name||e.property.type===a.Syntax.Literal&&"eval"===e.property.value)))))},run:o.createGetEvalMethodCall};e["default"]=s,t.exports=e["default"]},"window-post-message-get.js":function(e,t,r){var n=function(e){return e&&e.__esModule?e:{"default":e}};Object.defineProperty(e,"__esModule",{value:!0});var i=n(r("../instruction")),o=r("../node-builder"),a=r("esotope-hammerhead"),s={nodeReplacementRequireTransform:!1,nodeTypes:a.Syntax.MemberExpression,condition:function(e,t){return!!t&&((t.type!==a.Syntax.MemberExpression||t.property!==e&&t.object!==e)&&((t.type!==a.Syntax.CallExpression||t.callee!==e)&&((t.type!==a.Syntax.AssignmentExpression||t.left!==e)&&((t.type!==a.Syntax.CallExpression||t.callee.type!==a.Syntax.Identifier||t.callee.name!==i["default"].getPostMessage)&&(e.property.type===a.Syntax.Identifier&&"postMessage"===e.property.name||e.property.type===a.Syntax.Literal&&"postMessage"===e.property.value)))))},run:o.createGetPostMessageMethodCall};e["default"]=s,t.exports=e["default"]}}},"style.js":function(e,t,r){var n=function(e){return e&&e.__esModule?e:{"default":e}};Object.defineProperty(e,"__esModule",{value:!0});var i=n(r("../utils/regexp-escape")),o=n(r("../processing/dom/internal-attributes")),a=r("../utils/url"),s=/(?:\/\*\s*(?:#|@)\s*sourceMappingURL\s*=[\s\S]*?\*\/)|(?:\/\/[\t ]*(?:#|@)[\t ]*sourceMappingURL[\t ]*=.*)/gi,l=/(url\s*\(\s*)(?:(')([^\s']*)(')|(")([^\s"]*)(")|([^\s)]*))(\s*\))|(@import\s+)(?:(')([^\s']*)(')|(")([^\s"]*)("))/g,u="/*hammerhead|stylesheet|start*/",c="/*hammerhead|stylesheet|end*/",d=/:\s*hover(\W)/gi,p=new RegExp("\\["+o["default"].hoverPseudoClass+"\\](\\W)","ig"),f=new RegExp("\\s*"+i["default"](u),"gi"),h=new RegExp("\\s*"+i["default"](u)+"\n?|"+("\n?"+i["default"](c)+"\\s*"),"gi"),m=function(){function e(){this.STYLESHEET_PROCESSING_START_COMMENT=u,this.STYLESHEET_PROCESSING_END_COMMENT=c}var t=e.prototype;return t.process=function(e,t,r){return!e||"string"!=typeof e||r&&f.test(e)?e:(e=e.replace(d,"["+o["default"].hoverPseudoClass+"]$1"),e=e.replace(s,""),e=this._replaceStylsheetUrls(e,t),r&&(e=u+"\n"+e+"\n"+c),e)},t.cleanUp=function(e,t){return"string"!=typeof e?e:(e=e.replace(p,":hover$1").replace(h,""),this._replaceStylsheetUrls(e,function(e){var r=t(e);return r?r.destUrl:e}))},t._replaceStylsheetUrls=function(e,t){return e.replace(l,function(e,r,n,i,o,s,l,u,c,d,p,f,h,m,v,g,y){var E=r||p,_=n||s||f||v||"",S=i||l||c||h||g,b=o||u||m||y||"";d=d||"";var w=a.isSpecialPage(S)?S:t(S);return S?E+_+w+b+d:e})},e}();e["default"]=new m,t.exports=e["default"]}},proxy:{"service-routes.js":function(e,t,r){Object.defineProperty(e,"__esModule",{value:!0}),e["default"]={hammerhead:"/hammerhead.js",task:"/task.js",iframeTask:"/iframe-task.js",messaging:"/messaging",transportWorker:"/transport-worker.js",workerHammerhead:"/worker-hammerhead.js"},t.exports=e["default"]}},"request-pipeline":{"builtin-header-names.js":function(e,t,r){Object.defineProperty(e,"__esModule",{value:!0}),e["default"]={authorization:"authorization",wwwAuthenticate:"www-authenticate",proxyAuthorization:"proxy-authorization",proxyAuthenticate:"proxy-authenticate",host:"host",referer:"referer",origin:"origin",contentLength:"content-length",cookie:"cookie",setCookie:"set-cookie",ifModifiedSince:"if-modified-since",ifNoneMatch:"if-none-match",contentType:"content-type",location:"location",xFrameOptions:"x-frame-options",sourceMap:"sourcemap",referrerPolicy:"referrer-policy",refresh:"refresh",link:"link",cacheControl:"cache-control",pragma:"pragma",eTag:"etag",contentDisposition:"content-disposition",accept:"accept",contentEncoding:"content-encoding",expires:"expires",serviceWorkerAllowed:"service-worker-allowed",accessControlAllowOrigin:"access-control-allow-origin",accessControlAllowCredentials:"access-control-allow-credentials",contentSecurityPolicy:"content-security-policy",contentSecurityPolicyReportOnly:"content-security-policy-report-only",xContentSecurityPolicy:"x-content-security-policy",xContentSecurityPolicyReportOnly:"x-content-security-policy-report-only",xWebkitCsp:"x-webkit-csp"},t.exports=e["default"]}},session:{"command.js":function(e,t,r){Object.defineProperty(e,"__esModule",{value:!0});var n={getUploadedFiles:"hammerhead|command|get-uploaded-files",setCookie:"hammerhead|command|set-cookie",uploadFiles:"hammerhead|command|upload-files"};e["default"]=n,t.exports=e["default"]},"cookie-limit.js":function(e,t,r){Object.defineProperty(e,"__esModule",{value:!0});var n=4096;e["default"]=n,t.exports=e["default"]}},"shadow-ui":{"class-name.js":function(e,t,r){Object.defineProperty(e,"__esModule",{value:!0});var n="-hammerhead-shadow-ui";e["default"]={postfix:n,charset:"charset"+n,script:"script"+n,selfRemovingScript:"self-removing-script"+n,uiStylesheet:"ui-stylesheet"+n},t.exports=e["default"]}},utils:{"cookie.js":function(e,t,r){function n(e,t){return e.sid===t.sid&&e.key===t.key&&e.domain===t.domain&&e.path===t.path}function i(e){for(var t=[],r=[],i=0;i<e.length;i++){for(var o=i+1;o<e.length;o++)if(n(e[i],e[o])){if(e[i].lastAccessed>e[o].lastAccessed){var a=e[i];e[i]=e[o],e[o]=a}t.push(e[i]);break}o===e.length&&r.push(e[i])}return{outdated:t,actual:r}}function o(t){return(t.isServerSync?e.SYNCHRONIZATION_TYPE.server:"")+(t.isClientSync?e.SYNCHRONIZATION_TYPE.client:"")+(t.isWindowSync?e.SYNCHRONIZATION_TYPE.window:"")}function a(e){var t=o(e),r=encodeURIComponent(e.key),n=encodeURIComponent(e.domain),i=encodeURIComponent(e.path),a="Infinity"!==e.expires?e.expires.getTime().toString(v):"",s=e.lastAccessed.getTime().toString(v);return t+"|"+e.sid+"|"+r+"|"+n+"|"+i+"|"+a+"|"+s}function s(e){for(var t=e?e.split(";"):"",r=[],n=0;n<t.length;n++){var o=t[n],a=c(m["default"](o));a&&r.push(a)}return i(r)}function l(e){e.syncKey=e.syncKey||a(e),e.cookieStr=e.cookieStr||e.syncKey+"="+e.value}function u(e){return e.cookieStr?e.cookieStr+";path=/":a(e)+"="+e.value+";path=/"}function c(t){var r=E.exec(t),n=r[1],i=r[2],o=void 0!==n&&void 0!==i&&n.split("|");return o&&o.length!==y?null:{isServerSync:o[0].indexOf(e.SYNCHRONIZATION_TYPE.server)>-1,isClientSync:o[0].indexOf(e.SYNCHRONIZATION_TYPE.client)>-1,isWindowSync:o[0].indexOf(e.SYNCHRONIZATION_TYPE.window)>-1,sid:o[1],key:decodeURIComponent(o[2]),domain:decodeURIComponent(o[3]),path:decodeURIComponent(o[4]),expires:o[5]?new Date(parseInt(o[5],v)):"Infinity",lastAccessed:new Date(parseInt(o[6],v)),syncKey:n,value:i,cookieStr:t}}function d(e,t){"server"in t&&(e.isServerSync=t.server),"client"in t&&(e.isClientSync=t.client),"window"in t&&(e.isWindowSync=t.window);var r=o(e);e.syncKey=e.syncKey.replace(_,r),e.cookieStr=e.cookieStr.replace(_,r)}function p(e,t){return t.isServerSync===e.isServerSync&&t.sid===e.sid&&t.key===e.key&&t.domain===e.domain&&t.path===e.path&&t.lastAccessed>e.lastAccessed}function f(e){return e.syncKey+g}var h=function(e){return e&&e.__esModule?e:{"default":e}};Object.defineProperty(e,"__esModule",{value:!0});var m=h(r("./string-trim")),v=36,g="=;path=/;expires=Thu, 01 Jan 1970 00:00:01 GMT",y=7,E=/(?:^([^=]+)=([\s\S]*))?/;e.SYNCHRONIZATION_TYPE={server:"s",client:"c",window:"w"};var _=new RegExp("^["+e.SYNCHRONIZATION_TYPE.server+e.SYNCHRONIZATION_TYPE.client+e.SYNCHRONIZATION_TYPE.window+"]+");e.parseClientSyncCookieStr=s,e.prepareSyncCookieProperties=l,e.formatSyncCookie=u,e.parseSyncCookie=c,e.changeSyncType=d,e.isOutdatedSyncCookie=p,e.generateDeleteSyncCookieStr=f},"get-bom.js":function(e,t,r){function n(e){var t=e.match(i);return t?t[0]:null}Object.defineProperty(e,"__esModule",{value:!0});var i=/^(\xEF\xBB\xBF|\xFE\xFF|\xFF\xFE|\x00\x00\xFE\xFF|\xFF\xFE\x00\x00|\x2B\x2F\x76\x38|\x2B\x2F\x76\x39|\x2B\x2F\x76\x2B|\x2B\x2F\x76\x2F|\xF7\x64\x4C|\xDD\x73\x66\x73|\x0E\xFE\xFF|\xFB\xEE\x28|\x84\x31\x95\x33)/;e["default"]=n,t.exports=e["default"]},"get-storage-key.js":function(e,t,r){function n(e,t){return i+e+"|"+t}Object.defineProperty(e,"__esModule",{value:!0});var i="hammerhead|storage-wrapper|";e["default"]=n,t.exports=e["default"]},"headers.js":function(e,t,r){function n(e){return f+e}function i(e){return e.indexOf(f)>-1}function o(e){return e.replace(f,"")}function a(e){var t=String(e).toLowerCase();return t===p["default"].wwwAuthenticate||t===p["default"].proxyAuthenticate}function s(e){return h+e}function l(e){return e.indexOf(h)>-1}function u(e){return e.replace(h,"")}function c(e){var t=String(e).toLowerCase();return t===p["default"].authorization||t===p["default"].proxyAuthorization}var d=function(e){return e&&e.__esModule?e:{"default":e}};Object.defineProperty(e,"__esModule",{value:!0});var p=d(r("../request-pipeline/builtin-header-names")),f="~~~TestCafe added this prefix to hide the authentication dialog box~~~",h="~~~TestCafe added this prefix to control the authorization flow~~~";e.addAuthenticatePrefix=n,e.hasAuthenticatePrefix=i,e.removeAuthenticatePrefix=o,e.isAuthenticateHeader=a,e.addAuthorizationPrefix=s,e.hasAuthorizationPrefix=l,e.removeAuthorizationPrefix=u,e.isAuthorizationHeader=c},"is-keyword-target.js":function(e,t,r){function n(e){return void 0===e&&(e=""),e=e.toLowerCase(),i.indexOf(e)!==-1}Object.defineProperty(e,"__esModule",{value:!0});var i=["_blank","_self","_parent","_top"];e["default"]=n,t.exports=e["default"]},"regexp-escape.js":function(e,t,r){function n(e){return e.replace(/[\\^$*+?.()|[\]{}]/g,"\\$&")}Object.defineProperty(e,"__esModule",{value:!0}),e["default"]=n,t.exports=e["default"]},"self-removing-scripts.js":function(e,t,r){function n(e){return('\n        <script class="'+o["default"].selfRemovingScript+'">\n            (function () {\n                '+e+"\n\n                var currentScript = document.currentScript;\n                var scriptsLength;\n                var scripts;\n\n                /* NOTE: IE11 doesn't support the 'currentScript' property */\n                if (!currentScript) {\n                    var hammerhead;\n\n                    try {\n                        hammerhead = parent[\""+a["default"].hammerhead+'"] || window["'+a["default"].hammerhead+'"];\n                    }\n                    catch (e) {\n                        hammerhead = window["'+a["default"].hammerhead+'"];\n                    }\n\n                    if (hammerhead) {\n                        try {\n                            scripts       = hammerhead.nativeMethods.documentScriptsGetter.call(document);\n                            scriptsLength = hammerhead.nativeMethods.htmlCollectionLengthGetter.call(scripts);\n                        }\n                        catch (e) {}\n                    }\n\n                    scripts       = scripts || document.scripts;\n                    scriptsLength = scriptsLength !== void 0 ? scriptsLength : scripts.length;\n                    currentScript = scripts[scriptsLength - 1];\n                }\n\n                currentScript.parentNode.removeChild(currentScript);\n            })();\n        </script>\n    ').replace(/\n\s*|\/\*[\S\s]*?\*\//g,"")}var i=function(e){return e&&e.__esModule?e:{"default":e}};Object.defineProperty(e,"__esModule",{value:!0});var o=i(r("../shadow-ui/class-name")),a=i(r("../processing/dom/internal-properties"));e["default"]={iframeInit:n('\n        var parentHammerhead = null;\n    \n        if (!window["'+a["default"].hammerhead+'"])\n            Object.defineProperty(window, "'+a["default"].documentWasCleaned+'", { value: true, configurable: true });\n    \n        try {\n            parentHammerhead = window.parent["'+a["default"].hammerhead+'"];\n        } catch(e) {}\n    \n        if (parentHammerhead)\n            parentHammerhead.sandbox.onIframeDocumentRecreated(window.frameElement);\n    '),onWindowRecreation:n('\n        var hammerhead = window["'+a["default"].hammerhead+'"];\n        var sandbox    = hammerhead && hammerhead.sandbox;\n    \n        if (!sandbox) {\n            try {\n                sandbox = window.parent["'+a["default"].hammerhead+"\"].get('./sandbox/backup').get(window);\n            } catch(e) {}\n        }\n    \n        if (sandbox) {\n            Object.defineProperty(window, \""+a["default"].documentWasCleaned+'", { value: true, configurable: true });\n            \n            sandbox.node.mutation.onDocumentCleaned(window, document);\n    \n            /* NOTE: B234357 */\n            sandbox.node.processNodes(null, document);\n        }\n    '),onBodyCreated:n('\n        if (window["'+a["default"].hammerhead+'"])\n            window["'+a["default"].hammerhead+'"].sandbox.node.raiseBodyCreatedEvent();\n    '),onOriginFirstTitleLoaded:n('\n        window["'+a["default"].hammerhead+'"].sandbox.node.onOriginFirstTitleElementInHeadLoaded();\n    '),restoreStorages:n('\n        window.localStorage.setItem("%s", %s);\n        window.sessionStorage.setItem("%s", %s);\n    ')},t.exports=e["default"]},"stack-processing.js":function(e,t,r){function n(e){var t=s.parseProxyUrl(e);return t&&t.destUrl}function i(e,t){t=t.replace(u,"");var r=n(t);return r?e.replace(t,r):e}function o(e){if(!e)return e;for(var t=e.split("\n"),r=0;r<t.length;r++)for(var n=t[r],o=0;o<l.length;o++){var a=l[o];if(a.test(n)){t[r]=n.replace(a,i);break}}return t.join("\n")}function a(e){if(!e)return null;for(var t=e.split("\n"),r=0;r<t.length;r++)for(var i=t[r],o=0;o<l.length;o++){var a=l[o];if(a.test(i)){var s=null;if(i.replace(a,function(e,t){return t=t.replace(u,""),s=n(t),e}),s)return s}}return null}Object.defineProperty(e,"__esModule",{value:!0});var s=r("./url"),l=[/^\s*at .*\((\S+)\)/,/^\s*at (\S+)/,/^.*@(\S+)/,/(.+)/],u=/:\d+:\d+$/;e.replaceProxiedUrlsInStack=o,e.getFirstDestUrl=a},"string-trim.js":function(e,t,r){function n(e){return"string"==typeof e?e.replace(/(^\s+)|(\s+$)/g,""):e}Object.defineProperty(e,"__esModule",{value:!0}),e["default"]=n,t.exports=e["default"]},"url.js":function(e,t,r){function n(e){var t={};if(!e)return t;for(var r=0;r<q.length;r++){var n=q[r],i=n.name,o=n.flag;e.indexOf(o)>-1&&(t[i]=!0)}return t}function i(e){if(!e)return null;for(var t="",r=0;r<q.length;r++){var n=q[r],i=n.name,o=n.flag;e[i]&&(t+=o)}return t||null}function o(e){return"null"===e?"":e.replace(B,function(e,t){return t?"s*":""})}function a(e){return e?V.test(e)?e.replace(V,"https://"):"http://"+e:"null"}function s(e,t){if(e=e.replace(/^www./i,""),t=t.replace(/^www./i,""),e===t)return!0;var r=t.lastIndexOf(e);return"."===t[r-1]&&t.length===r+e.length}function l(e,t){if(!t)return!0;var r=v(t),n=!r.host;if(n)return!0;var i=v(e),o=h(e);if(r.host===i.host&&r.protocol===i.protocol)return!0;var a=o?o.destResourceInfo:i;if(!a)return!1;var s=!r.protocol||r.protocol===a.protocol,l=!a.port&&!r.port||a.port&&a.port.toString()===r.port;return s&&!!l&&a.hostname===r.hostname}function u(e){var t=v(e);return t.protocol=t.protocol&&t.protocol.toLowerCase(),t.host=t.host&&t.host.toLowerCase(),E(t)}function c(e){return null===e&&/iPad|iPhone/i.test(window.navigator.userAgent)?"":String(e).replace(/\n|\t/g,"")}function d(t,r){var n=[r.sessionId];r.windowId&&n.push(r.windowId);var i=[n.join(e.REQUEST_DESCRIPTOR_SESSION_INFO_VALUES_SEPARATOR)];r.resourceType&&i.push(r.resourceType),r.charset&&i.push(r.charset.toLowerCase()),"number"==typeof r.credentials&&i.push(r.credentials.toString()),r.reqOrigin&&i.push(encodeURIComponent(o(r.reqOrigin)));var a=i.join(e.REQUEST_DESCRIPTOR_VALUES_SEPARATOR),s=r.proxyProtocol||"http:";return s+"//"+r.proxyHostname+":"+r.proxyPort+"/"+a+"/"+u(t)}function p(e){return"file:"===e.protocol?"null":E({protocol:e.protocol,host:e.host,hostname:e.hostname,port:String(e.port||"")})}function f(t){var r=t.split(e.REQUEST_DESCRIPTOR_VALUES_SEPARATOR),i=r[0],o=r[1],s=r.slice(2);if(!i)return null;var l=i.split(e.REQUEST_DESCRIPTOR_SESSION_INFO_VALUES_SEPARATOR),u=l[0],c=l[1],d={sessionId:u,resourceType:o||null};if(c&&(d.windowId=c),o&&s.length){var p=n(o);p.isScript||p.isServiceWorker?d.charset=s[0]:p.isWebSocket?d.reqOrigin=decodeURIComponent(a(s[0])):p.isAjax&&(d.credentials=parseInt(s[0]),2===s.length&&(d.reqOrigin=decodeURIComponent(a(s[1]))))}return d}function h(t){var r=v(t);if(!r.partAfterHost)return null;var n=r.partAfterHost.match(U);if(!n)return null;var i=f(n[1]);if(!i)return null;var o=n[2],a=o.replace(/#[\S\s]*$/,"");if(!w(a)&&!e.SUPPORTED_PROTOCOL_RE.test(o))return null;var s=null;return w(a)?s=G:(o=C(o),s=v(o)),{destUrl:o,destResourceInfo:s,partAfterHost:r.partAfterHost,proxy:{hostname:r.hostname,port:r.port},sessionId:i.sessionId,resourceType:i.resourceType,charset:i.charset,reqOrigin:i.reqOrigin,windowId:i.windowId,credentials:i.credentials}}function m(e){return e.replace(R,"")}function v(e){var t={};if(e=S(e),!e)return t;e=N["default"](e);var r=!1,n=e.replace(D,function(e,r,n){return t.protocol=r,n}).replace(L,function(){return r=!0,""});if(!t.protocol&&!r)return t.partAfterHost=e,t;if(t.partAfterHost=n.replace(k,function(e,r,n){return t.host=r,t.port="",n}),"string"==typeof t.host){var i=t.host.split("@");2===i.length&&(t.auth=i[0],t.host=i[1])}return t.hostname=t.host?t.host.replace(j,function(e,r){return t.port=r,""}):"",t}function g(t){t=N["default"](t||"");var r=e.HASH_RE.test(t);if(r)return!1;var n=t.match(D);return!n||e.SUPPORTED_PROTOCOL_RE.test(n[0])}function y(e,t){if(t=t||d,g(e)){var r=t(e),n=h(r);return n?E(n.destResourceInfo):e}return e}function E(e){if(!("file:"===e.protocol||e.host||e.hostname&&e.port))return e.partAfterHost;var t=e.protocol||"";return"about:"!==e.protocol&&(t+="//"),e.auth&&(t+=e.auth+"@"),e.host?t+=e.host:(t+=e.hostname,e.port&&(t+=":"+e.port)),e.partAfterHost&&(t+=e.partAfterHost),t}function _(e,t){return void 0===t&&(t=""),e.match(H)||t.match(H)?e.replace(/^(file:)?\/+(\/\/\/.*$)/i,"$1$2").replace(/^(file:)?\/*([A-Za-z]):/i,"$1///$2:"):e.replace(/^(https?:)?\/+(\/\/.*$)/i,"$1$2")}function S(e){return _(c(e))}function b(t,r){if(!P(r))return r;var n=e.TRAILING_SLASH_RE.test(t),i=e.TRAILING_SLASH_RE.test(r);return n&&!i?r+="/":t&&!n&&i&&(r=r.replace(e.TRAILING_SLASH_RE,"")),r}function w(t){return e.SPECIAL_PAGES.indexOf(t)!==-1}function x(e){var t=v(e);return"file:"!==t.protocol&&!t.host}function T(e){var t=parseInt(e,10);return t>0&&t<=65535}function P(e){var t=v(e);return"file:"===t.protocol||!!t.hostname&&(!t.port||T(t.port))}function A(e){var t=v(e);return!t.partAfterHost&&F.test(t.protocol)?e+"/":e}function C(t){var r=v(t),n="https:"===r.protocol&&r.port===e.HTTPS_DEFAULT_PORT||"http:"===r.protocol&&r.port===e.HTTP_DEFAULT_PORT;return n?(r.host=r.hostname,r.port="",E(r)):t}function I(e){return e=C(e),e=A(e)}function O(t,r,n,i){var o=new RegExp("("+r.protocol+"//"+r.hostname+":(?:"+r.port+"|"+r.crossDomainPort+")/)[^/"+e.REQUEST_DESCRIPTOR_VALUES_SEPARATOR+"]+","g"),a="$1"+n+(i?e.REQUEST_DESCRIPTOR_SESSION_INFO_VALUES_SEPARATOR+i:"");return t.replace(o,a)}var M=function(e){return e&&e.__esModule?e:{"default":e}};Object.defineProperty(e,"__esModule",{value:!0});var N=M(r("./string-trim")),D=/^([\w-]+?:)(\/\/|[^\\/]|$)/,L=/^(\/\/)/,k=/^(.*?)(\/|%|\?|;|#|$)/,j=/:([0-9]*)$/,R=/(\?.+|#[^#]*)$/,U=/^\/([^/]+?)\/([\S\s]+)$/,F=/^https?:/,H=/^file:/i,B=/^http(s)?:\/\//,V=/^s\*/;e.SUPPORTED_PROTOCOL_RE=/^(?:https?|file):/i,e.HASH_RE=/^#/,e.REQUEST_DESCRIPTOR_VALUES_SEPARATOR="!",e.REQUEST_DESCRIPTOR_SESSION_INFO_VALUES_SEPARATOR="*",e.TRAILING_SLASH_RE=/\/$/,e.SPECIAL_BLANK_PAGE="about:blank",e.SPECIAL_ERROR_PAGE="about:error",e.SPECIAL_PAGES=[e.SPECIAL_BLANK_PAGE,e.SPECIAL_ERROR_PAGE],e.HTTP_DEFAULT_PORT="80",e.HTTPS_DEFAULT_PORT="443";var W;!function(e){e[e.include=0]="include",e[e.sameOrigin=1]="sameOrigin",e[e.omit=2]="omit",e[e.unknown=3]="unknown"}(W=e.Credentials||(e.Credentials={}));var G={protocol:"about:",host:"",hostname:"",port:"",partAfterHost:""},q=[{name:"isIframe",flag:"i"},{name:"isForm",flag:"f"},{name:"isScript",flag:"s"},{name:"isEventSource",flag:"e"},{name:"isHtmlImport",flag:"h"},{name:"isWebSocket",flag:"w"},{name:"isServiceWorker",flag:"c"},{name:"isAjax",flag:"a"}];e.parseResourceType=n,e.getResourceTypeString=i,e.restoreShortOrigin=a,e.isSubDomain=s,e.sameOriginCheck=l,e.getURLString=c,e.getProxyUrl=d,e.getDomain=p,e.parseProxyUrl=h,e.getPathname=m,e.parseUrl=v,e.isSupportedProtocol=g,e.resolveUrlAsDest=y,e.formatUrl=E,e.correctMultipleSlashes=_,e.processSpecialChars=S,e.ensureTrailingSlash=b,e.isSpecialPage=w,e.isRelativeUrl=x,e.isValidUrl=P,e.ensureOriginTrailingSlash=A,e.omitDefaultPort=C,e.prepareUrl=I,e.updateScriptImportUrls=O}}}}})("testcafe-hammerhead/src/client/index")}();
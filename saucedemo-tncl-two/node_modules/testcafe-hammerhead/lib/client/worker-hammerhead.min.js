!function(e){"use strict";var t,r,o,n,i,s={".js":[],".json":[],".css":[],".html":[]},a="function"==typeof require?require:null;return n=function(e){var t=new Error("Could not find module '"+e+"'");return t.code="MODULE_NOT_FOUND",t},i=function(e,t,r){var o,n;if("function"==typeof e[t+r])return t+r;for(o=0;n=s[r][o];++o)if("function"==typeof e[t+n])return t+n;return null},t=function(e,o,s,a,l,c){var u,p,d,f,h,m;for(s=s.split(/[\\/]/),u=s.pop(),"."!==u&&".."!==u||(s.push(u),u="");null!=(p=s.shift());)if(p&&"."!==p&&(".."===p?(e=o.pop(),c=c.slice(0,c.lastIndexOf("/"))):(o.push(e),e=e[p],c+="/"+p),!e))throw n(a);if(u&&"function"!=typeof e[u]&&(m=i(e,u,".js"),m||(m=i(e,u,".json")),m||(m=i(e,u,".css")),m||(m=i(e,u,".html")),m?u=m:2!==l&&"object"==typeof e[u]&&(o.push(e),e=e[u],c+="/"+u,u="")),!u)return 1!==l&&e[":mainpath:"]?t(e,o,e[":mainpath:"],a,1,c):t(e,o,"index",a,2,c);if(h=e[u],!h)throw n(a);return h.hasOwnProperty("module")?h.module.exports:(d={},h.module=f={exports:d,id:c+"/"+u},h.call(d,d,f,r(e,o,c)),f.exports)},o=function(r,o,i,s){var l,c=i,u=i.charAt(0),p=0;if("/"===u){if(c=c.slice(1),r=e["/"],!r){if(a)return a(i);throw n(i)}s="/",o=[]}else if("."!==u){if(l=0===c.indexOf("@")?c.split("/",2).join("/"):c.split("/",1)[0],r=e[l],!r){if(a)return a(i);throw n(i)}s=l,o=[],c=c.slice(l.length+1),c||(c=r[":mainpath:"],c?p=1:(c="index",p=2))}return t(r,o,c,i,p,s)},(r=function(e,t,r){var n=function(n){return o(e,[].concat(t),n,r)};return a&&(n.fromParentEnvironment=a),n})(e,[],"")}({bowser:{":mainpath:":"./src/bowser.js",src:{"bowser.js":function(e,t,r){!function(e,r,o){"undefined"!=typeof t&&t.exports?t.exports=o():"function"==typeof define&&define.amd?define(r,o):e[r]=o()}(void 0,"bowser",function(){function e(e){function t(t){var r=e.match(t);return r&&r.length>1&&r[1]||""}function r(t){var r=e.match(t);return r&&r.length>1&&r[2]||""}var o,n=t(/(ipod|iphone|ipad)/i).toLowerCase(),i=/like android/i.test(e),a=!i&&/android/i.test(e),l=/nexus\s*[0-6]\s*/i.test(e),c=!l&&/nexus\s*[0-9]+/i.test(e),u=/CrOS/.test(e),p=/silk/i.test(e),d=/sailfish/i.test(e),f=/tizen/i.test(e),h=/(web|hpw)os/i.test(e),m=/windows phone/i.test(e),g=(/SamsungBrowser/i.test(e),!m&&/windows/i.test(e)),y=!n&&!p&&/macintosh/i.test(e),v=!a&&!d&&!f&&!h&&/linux/i.test(e),E=t(/edge\/(\d+(\.\d+)?)/i),b=t(/version\/(\d+(\.\d+)?)/i),S=/tablet/i.test(e),w=!S&&/[^-]mobi/i.test(e),O=/xbox/i.test(e);/opera/i.test(e)?o={name:"Opera",opera:s,version:b||t(/(?:opera|opr|opios)[\s\/](\d+(\.\d+)?)/i)}:/opr|opios/i.test(e)?o={name:"Opera",opera:s,version:t(/(?:opr|opios)[\s\/](\d+(\.\d+)?)/i)||b}:/SamsungBrowser/i.test(e)?o={name:"Samsung Internet for Android",samsungBrowser:s,version:b||t(/(?:SamsungBrowser)[\s\/](\d+(\.\d+)?)/i)}:/coast/i.test(e)?o={name:"Opera Coast",coast:s,version:b||t(/(?:coast)[\s\/](\d+(\.\d+)?)/i)}:/yabrowser/i.test(e)?o={name:"Yandex Browser",yandexbrowser:s,version:b||t(/(?:yabrowser)[\s\/](\d+(\.\d+)?)/i)}:/ucbrowser/i.test(e)?o={name:"UC Browser",ucbrowser:s,version:t(/(?:ucbrowser)[\s\/](\d+(?:\.\d+)+)/i)}:/mxios/i.test(e)?o={name:"Maxthon",maxthon:s,version:t(/(?:mxios)[\s\/](\d+(?:\.\d+)+)/i)}:/epiphany/i.test(e)?o={name:"Epiphany",epiphany:s,version:t(/(?:epiphany)[\s\/](\d+(?:\.\d+)+)/i)}:/puffin/i.test(e)?o={name:"Puffin",puffin:s,version:t(/(?:puffin)[\s\/](\d+(?:\.\d+)?)/i)}:/sleipnir/i.test(e)?o={name:"Sleipnir",sleipnir:s,version:t(/(?:sleipnir)[\s\/](\d+(?:\.\d+)+)/i)}:/k-meleon/i.test(e)?o={name:"K-Meleon",kMeleon:s,version:t(/(?:k-meleon)[\s\/](\d+(?:\.\d+)+)/i)}:m?(o={name:"Windows Phone",windowsphone:s},E?(o.msedge=s,o.version=E):(o.msie=s,o.version=t(/iemobile\/(\d+(\.\d+)?)/i))):/msie|trident/i.test(e)?o={name:"Internet Explorer",msie:s,version:t(/(?:msie |rv:)(\d+(\.\d+)?)/i)}:u?o={name:"Chrome",chromeos:s,chromeBook:s,chrome:s,version:t(/(?:chrome|crios|crmo)\/(\d+(\.\d+)?)/i)}:/chrome.+? edge/i.test(e)?o={name:"Microsoft Edge",msedge:s,version:E}:/vivaldi/i.test(e)?o={name:"Vivaldi",vivaldi:s,version:t(/vivaldi\/(\d+(\.\d+)?)/i)||b}:d?o={name:"Sailfish",sailfish:s,version:t(/sailfish\s?browser\/(\d+(\.\d+)?)/i)}:/seamonkey\//i.test(e)?o={name:"SeaMonkey",seamonkey:s,version:t(/seamonkey\/(\d+(\.\d+)?)/i)}:/firefox|iceweasel|fxios/i.test(e)?(o={name:"Firefox",firefox:s,version:t(/(?:firefox|iceweasel|fxios)[ \/](\d+(\.\d+)?)/i)},/\((mobile|tablet);[^\)]*rv:[\d\.]+\)/i.test(e)&&(o.firefoxos=s)):p?o={name:"Amazon Silk",silk:s,version:t(/silk\/(\d+(\.\d+)?)/i)}:/phantom/i.test(e)?o={name:"PhantomJS",phantom:s,version:t(/phantomjs\/(\d+(\.\d+)?)/i)}:/slimerjs/i.test(e)?o={name:"SlimerJS",slimer:s,version:t(/slimerjs\/(\d+(\.\d+)?)/i)}:/blackberry|\bbb\d+/i.test(e)||/rim\stablet/i.test(e)?o={name:"BlackBerry",blackberry:s,version:b||t(/blackberry[\d]+\/(\d+(\.\d+)?)/i)}:h?(o={name:"WebOS",webos:s,version:b||t(/w(?:eb)?osbrowser\/(\d+(\.\d+)?)/i)},/touchpad\//i.test(e)&&(o.touchpad=s)):/bada/i.test(e)?o={name:"Bada",bada:s,version:t(/dolfin\/(\d+(\.\d+)?)/i)}:f?o={name:"Tizen",tizen:s,version:t(/(?:tizen\s?)?browser\/(\d+(\.\d+)?)/i)||b}:/qupzilla/i.test(e)?o={name:"QupZilla",qupzilla:s,version:t(/(?:qupzilla)[\s\/](\d+(?:\.\d+)+)/i)||b}:/chromium/i.test(e)?o={name:"Chromium",chromium:s,version:t(/(?:chromium)[\s\/](\d+(?:\.\d+)?)/i)||b}:/chrome|crios|crmo/i.test(e)?o={name:"Chrome",chrome:s,version:t(/(?:chrome|crios|crmo)\/(\d+(\.\d+)?)/i)}:a?o={name:"Android",version:b}:/safari|applewebkit/i.test(e)?(o={name:"Safari",safari:s},b&&(o.version=b)):n?(o={name:"iphone"==n?"iPhone":"ipad"==n?"iPad":"iPod"},b&&(o.version=b)):o=/googlebot/i.test(e)?{name:"Googlebot",googlebot:s,version:t(/googlebot\/(\d+(\.\d+))/i)||b}:{name:t(/^(.*)\/(.*) /),version:r(/^(.*)\/(.*) /)},!o.msedge&&/(apple)?webkit/i.test(e)?(/(apple)?webkit\/537\.36/i.test(e)?(o.name=o.name||"Blink",o.blink=s):(o.name=o.name||"Webkit",o.webkit=s),!o.version&&b&&(o.version=b)):!o.opera&&/gecko\//i.test(e)&&(o.name=o.name||"Gecko",o.gecko=s,o.version=o.version||t(/gecko\/(\d+(\.\d+)?)/i)),o.windowsphone||o.msedge||!a&&!o.silk?o.windowsphone||o.msedge||!n?y?o.mac=s:O?o.xbox=s:g?o.windows=s:v&&(o.linux=s):(o[n]=s,o.ios=s):o.android=s;var P="";o.windowsphone?P=t(/windows phone (?:os)?\s?(\d+(\.\d+)*)/i):n?(P=t(/os (\d+([_\s]\d+)*) like mac os x/i),P=P.replace(/[_\s]/g,".")):a?P=t(/android[ \/-](\d+(\.\d+)*)/i):o.webos?P=t(/(?:web|hpw)os\/(\d+(\.\d+)*)/i):o.blackberry?P=t(/rim\stablet\sos\s(\d+(\.\d+)*)/i):o.bada?P=t(/bada\/(\d+(\.\d+)*)/i):o.tizen&&(P=t(/tizen[\/\s](\d+(\.\d+)*)/i)),P&&(o.osversion=P);var T=P.split(".")[0];return S||c||"ipad"==n||a&&(3==T||T>=4&&!w)||o.silk?o.tablet=s:(w||"iphone"==n||"ipod"==n||a||l||o.blackberry||o.webos||o.bada)&&(o.mobile=s),o.msedge||o.msie&&o.version>=10||o.yandexbrowser&&o.version>=15||o.vivaldi&&o.version>=1||o.chrome&&o.version>=20||o.samsungBrowser&&o.version>=4||o.firefox&&o.version>=20||o.safari&&o.version>=6||o.opera&&o.version>=10||o.ios&&o.osversion&&o.osversion.split(".")[0]>=6||o.blackberry&&o.version>=10.1||o.chromium&&o.version>=20?o.a=s:o.msie&&o.version<10||o.chrome&&o.version<20||o.firefox&&o.version<20||o.safari&&o.version<6||o.opera&&o.version<10||o.ios&&o.osversion&&o.osversion.split(".")[0]<6||o.chromium&&o.version<20?o.c=s:o.x=s,o}function t(e){return e.split(".").length}function r(e,t){var r,o=[];if(Array.prototype.map)return Array.prototype.map.call(e,t);for(r=0;r<e.length;r++)o.push(t(e[r]));return o}function o(e){for(var o=Math.max(t(e[0]),t(e[1])),n=r(e,function(e){var n=o-t(e);return e+=new Array(n+1).join(".0"),r(e.split("."),function(e){return new Array(20-e.length).join("0")+e}).reverse()});--o>=0;){if(n[0][o]>n[1][o])return 1;if(n[0][o]!==n[1][o])return-1;if(0===o)return 0}}function n(t,r,n){var i=a;"string"==typeof r&&(n=r,r=void 0),void 0===r&&(r=!1),n&&(i=e(n));var s=""+i.version;for(var l in t)if(t.hasOwnProperty(l)&&i[l]){if("string"!=typeof t[l])throw new Error("Browser version in the minVersion map should be a string: "+l+": "+String(t));return o([s,t[l]])<0}return r}function i(e,t,r){return!n(e,t,r)}var s=!0,a=e("undefined"!=typeof navigator?navigator.userAgent||"":"");return a.test=function(e){for(var t=0;t<e.length;++t){var r=e[t];if("string"==typeof r&&r in a)return!0}return!1},a.isUnsupportedBrowser=n,a.compareVersions=o,a.check=i,a._detect=e,a})}}},pinkie:{"index.js":function(e,t,r){function o(){for(var e=0;e<P.length;e++)P[e][0](P[e][1]);P=[],g=!1}function n(e,t){P.push([e,t]),g||(g=!0,O(o,0))}function i(e,t){function r(e){l(t,e)}function o(e){u(t,e)}try{e(r,o)}catch(n){o(n)}}function s(e){var t=e.owner,r=t._state,o=t._data,n=e[r],i=e.then;if("function"==typeof n){r=E;try{o=n(o)}catch(s){u(i,s)}}a(i,o)||(r===E&&l(i,o),r===b&&u(i,o))}function a(e,t){var r;try{if(e===t)throw new TypeError("A promises callback cannot return that same promise.");if(t&&("function"==typeof t||"object"==typeof t)){var o=t.then;if("function"==typeof o)return o.call(t,function(o){r||(r=!0,t===o?c(e,o):l(e,o))},function(t){r||(r=!0,u(e,t))}),!0}}catch(n){return r||u(e,n),!0}return!1}function l(e,t){e!==t&&a(e,t)||c(e,t)}function c(e,t){e._state===y&&(e._state=v,e._data=t,n(d,e))}function u(e,t){e._state===y&&(e._state=v,e._data=t,n(f,e))}function p(e){e._then=e._then.forEach(s)}function d(e){e._state=E,p(e)}function f(e){e._state=b,p(e),!e._handled&&w&&global.process.emit("unhandledRejection",e._data,e)}function h(e){global.process.emit("rejectionHandled",e)}function m(e){if("function"!=typeof e)throw new TypeError("Promise resolver "+e+" is not a function");if(this instanceof m==!1)throw new TypeError("Failed to construct 'Promise': Please use the 'new' operator, this object constructor cannot be called as a function.");this._then=[],i(e,this)}var g,y="pending",v="settled",E="fulfilled",b="rejected",S=function(){},w="undefined"!=typeof global&&"undefined"!=typeof global.process&&"function"==typeof global.process.emit,O="undefined"==typeof setImmediate?setTimeout:setImmediate,P=[];m.prototype={constructor:m,_state:y,_then:null,_data:void 0,_handled:!1,then:function(e,t){var r={owner:this,then:new this.constructor(S),fulfilled:e,rejected:t};return!t&&!e||this._handled||(this._handled=!0,this._state===b&&w&&n(h,this)),this._state===E||this._state===b?n(s,r):this._then.push(r),r.then},"catch":function(e){return this.then(null,e)}},m.all=function(e){if(!Array.isArray(e))throw new TypeError("You must pass an array to Promise.all().");return new m(function(t,r){function o(e){return s++,function(r){i[e]=r,--s||t(i)}}for(var n,i=[],s=0,a=0;a<e.length;a++)n=e[a],n&&"function"==typeof n.then?n.then(o(a),r):i[a]=n;s||t(i)})},m.race=function(e){if(!Array.isArray(e))throw new TypeError("You must pass an array to Promise.race().");return new m(function(t,r){for(var o,n=0;n<e.length;n++)o=e[n],o&&"function"==typeof o.then?o.then(t,r):t(o)})},m.resolve=function(e){return e&&"object"==typeof e&&e.constructor===m?e:new m(function(t){t(e)})},m.reject=function(e){return new m(function(t,r){r(e)})},t.exports=m}},"testcafe-hammerhead":{src:{client:{sandbox:{"base.js":function(e,t,r){function o(e,t){e.prototype=Object.create(t.prototype),e.prototype.constructor=e,n(e,t)}function n(e,t){return(n=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e})(e,t)}var i=function(e){return e&&e.__esModule?e:{"default":e}};Object.defineProperty(e,"__esModule",{value:!0});var s=i(r("../utils/event-emitter")),a=i(r("./native-methods")),l=r("../utils/dom"),c=i(r("../../processing/dom/internal-properties")),u=function(e){function t(){var t;return t=e.apply(this,arguments)||this,t.window=null,t.nativeMethods=a["default"],t.document=null,t}o(t,e);var r=t.prototype;return r.isDeactivated=function(){try{if(this.document.body,this.window[c["default"].hammerhead]){var e=l.getFrameElement(this.window);return!!e&&!l.isElementInDocument(e,l.findDocument(e))}}catch(t){}return!0},r.attach=function(e,t){this.window=e,this.document=t||e.document},t}(s["default"]);e["default"]=u,t.exports=e["default"]},"fetch.js":function(e,t,r){function o(e,t){e.prototype=Object.create(t.prototype),e.prototype.constructor=e,n(e,t)}function n(e,t){return(n=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e})(e,t)}function i(e){switch(e=String(e).toLowerCase()){case"omit":return m.Credentials.omit;case"same-origin":return m.Credentials.sameOrigin;case"include":return m.Credentials.include;default:return m.Credentials.unknown}}var s=function(e){return e&&e.__esModule?e:{"default":e}},a=function(e){if(e&&e.__esModule)return e;var t={};if(null!=e)for(var r in e)Object.hasOwnProperty.call(e,r)&&(t[r]=e[r]);return t["default"]=e,t};Object.defineProperty(e,"__esModule",{value:!0});var l=s(r("../worker/sandbox-base-with-delayed-settings")),c=s(r("./native-methods")),u=s(r("../../request-pipeline/builtin-header-names")),p=r("../utils/url"),d=r("../utils/dom"),f=r("../utils/overriding"),h=a(r("../utils/browser")),m=r("../../utils/url"),g=r("../../utils/headers"),y=i(c["default"].Request&&new c["default"].Request(location.toString()).credentials),v=function(e){function t(t,r){var o;return o=e.call(this,r)||this,o.cookieSandbox=t,o.FETCH_REQUEST_SENT_EVENT="hammerhead|event|fetch-request-sent-event",o}o(t,e),t._removeAuthHeadersPrefix=function(e,t){return g.isAuthorizationHeader(e)?g.removeAuthorizationPrefix(t):g.isAuthenticateHeader(e)?g.removeAuthenticatePrefix(t):t},t._processInit=function(e){var t=e.headers;if(!t)return e;d.isFetchHeaders(t)||(t=t?new c["default"].Headers(t):new c["default"].Headers,e.headers=t);var r=c["default"].headersGet.call(t,u["default"].authorization),o=c["default"].headersGet.call(t,u["default"].proxyAuthorization);return null===r||g.hasAuthorizationPrefix(r)||c["default"].headersSet.call(t,u["default"].authorization,g.addAuthorizationPrefix(r)),null===o||g.hasAuthorizationPrefix(o)||c["default"].headersSet.call(t,u["default"].proxyAuthorization,g.addAuthorizationPrefix(o)),e},t._processArguments=function(e){var r=e[0],o=e[1],n="string"==typeof r,s=i(o&&o.credentials);if(d.isFetchRequest(r))s!==m.Credentials.unknown&&(e[0]=p.getAjaxProxyUrl(r.url,s)),o&&o.headers&&"worker"!==r.destination&&(e[1]=t._processInit(o));else{var a=n?r:String(r),l=s===m.Credentials.unknown?y:s;e[0]=p.getAjaxProxyUrl(a,l),e[1]=t._processInit(o||{})}},t._processHeaderEntry=function(e,r){if(void 0===r&&(r=!1),e.done)return e;var o=t._removeAuthHeadersPrefix(e.value[0],e.value[1]);return r?e.value=o:e.value[1]=o,e},t._entriesWrapper=function(){for(var e=arguments.length,r=new Array(e),o=0;o<e;o++)r[o]=arguments[o];var n=c["default"].headersEntries.apply(this,r),i=n.next;return n.next=function(){return t._processHeaderEntry(i.call(n))},n},t._valuesWrapper=function(){for(var e=arguments.length,r=new Array(e),o=0;o<e;o++)r[o]=arguments[o];var n=c["default"].headersEntries.apply(this,r),i=n.next;return n.next=function(){return t._processHeaderEntry(i.call(n),!0)},n};var r=t.prototype;return r.attach=function(r){if(e.prototype.attach.call(this,r,r.document),c["default"].fetch){var o=this;f.overrideConstructor(r,"Request",function(){for(var e=arguments.length,o=new Array(e),n=0;n<e;n++)o[n]=arguments[n];t._processArguments(o),r.Headers.prototype.entries=r.Headers.prototype[Symbol.iterator]=c["default"].headersEntries;var i=1===o.length?new c["default"].Request(o[0]):new c["default"].Request(o[0],o[1]);return r.Headers.prototype.entries=r.Headers.prototype[Symbol.iterator]=t._entriesWrapper,i}),f.overrideDescriptor(r.Request.prototype,"url",{getter:function(){return p.getDestinationUrl(c["default"].requestUrlGetter.call(this))}}),f.overrideDescriptor(r.Request.prototype,"referrer",{getter:function(){return p.getDestinationUrl(c["default"].requestReferrerGetter.call(this))}}),f.overrideFunction(r,"fetch",function(){for(var e=this,n=arguments.length,i=new Array(n),s=0;s<n;s++)i[s]=arguments[s];if(o.gettingSettingInProgress())return o.delayUntilGetSettings(function(){return e.fetch.apply(e,i)});if(!i.length&&!h.isSafari)return c["default"].fetch.apply(this,i);try{t._processArguments(i)}catch(a){return c["default"].promiseReject.call(o.window.Promise,a)}r.Headers.prototype.entries=r.Headers.prototype[Symbol.iterator]=c["default"].headersEntries;var l=c["default"].fetch.apply(this,i);return r.Headers.prototype.entries=r.Headers.prototype[Symbol.iterator]=t._entriesWrapper,o.emit(o.FETCH_REQUEST_SENT_EVENT,l),c["default"].promiseThen.call(l,function(e){return o.cookieSandbox.syncCookie(),e})}),f.overrideDescriptor(r.Response.prototype,"url",{getter:function(){return p.getDestinationUrl(c["default"].responseUrlGetter.call(this))}}),f.overrideFunction(r.Headers.prototype,"entries",t._entriesWrapper),f.overrideFunction(r.Headers.prototype,Symbol.iterator,t._entriesWrapper),f.overrideFunction(r.Headers.prototype,"values",t._valuesWrapper),f.overrideFunction(r.Headers.prototype,"forEach",function(){for(var e=arguments.length,r=new Array(e),o=0;o<e;o++)r[o]=arguments[o];var n=r[0];return"function"==typeof n&&(r[0]=function(e,r,o){e=t._removeAuthHeadersPrefix(r,e),n.call(this,e,r,o)}),c["default"].headersForEach.apply(this,r)}),f.overrideFunction(r.Headers.prototype,"get",function(){for(var e=arguments.length,r=new Array(e),o=0;o<e;o++)r[o]=arguments[o];var n=c["default"].headersGet.apply(this,r);return n&&t._removeAuthHeadersPrefix(r[0],n)}),f.overrideFunction(r.Headers.prototype,"set",function(){for(var e=arguments.length,t=new Array(e),r=0;r<e;r++)t[r]=arguments[r];return g.isAuthorizationHeader(t[0])&&(t[1]=g.addAuthorizationPrefix(t[1])),c["default"].headersSet.apply(this,t)})}},t}(l["default"]);e["default"]=v,t.exports=e["default"]},"native-methods.js":function(e,t,r){var o=function(e){return e&&e.__esModule?e:{"default":e}};Object.defineProperty(e,"__esModule",{value:!0});var n=o(r("../utils/global-context-info")),i=r("../utils/overriding"),s=/\[native code]/,a=function(){function e(e,t){t=t||n["default"].global,this.refreshWindowMeths(t,n["default"].isInWorker),n["default"].isInWorker||(this.refreshDocumentMeths(e,t),this.refreshElementMeths(e,t))}e._getDocumentPropOwnerName=function(e,t){return e.hasOwnProperty(t)?"Document":"HTMLDocument"};var t=e.prototype;return t.getStoragesPropsOwner=function(e){return this.isStoragePropsLocatedInProto?e.Window.prototype:e},t.refreshDocumentMeths=function(t,r){t=t||document,r=r||window;var o=r.Document.prototype;this.createDocumentFragment=o.createDocumentFragment,this.createElement=o.createElement,this.createElementNS=o.createElementNS,this.createTextNode=o.createTextNode,this.documentOpenPropOwnerName=e._getDocumentPropOwnerName(o,"open"),this.documentClosePropOwnerName=e._getDocumentPropOwnerName(o,"close"),this.documentWritePropOwnerName=e._getDocumentPropOwnerName(o,"write"),this.documentWriteLnPropOwnerName=e._getDocumentPropOwnerName(o,"writeln"),this.documentOpen=r[this.documentOpenPropOwnerName].prototype.open,this.documentClose=r[this.documentClosePropOwnerName].prototype.close,this.documentWrite=r[this.documentWritePropOwnerName].prototype.write,this.documentWriteLn=r[this.documentWriteLnPropOwnerName].prototype.writeln,this.elementFromPoint=o.elementFromPoint,this.caretRangeFromPoint=o.caretRangeFromPoint,this.caretPositionFromPoint=o.caretPositionFromPoint,this.getElementById=o.getElementById,this.getElementsByClassName=o.getElementsByClassName,this.getElementsByName=o.getElementsByName,this.getElementsByTagName=o.getElementsByTagName,this.querySelector=o.querySelector,this.querySelectorAll=o.querySelectorAll,this.createHTMLDocument=r.DOMImplementation.prototype.createHTMLDocument,t.registerElement&&(this.registerElement=o.registerElement),r.EventTarget||(this.documentAddEventListener=o.addEventListener,this.documentRemoveEventListener=o.removeEventListener),this.documentCreateEvent=o.createEvent,this.documentCreateTouch=o.createTouch,this.documentCreateTouchList=o.createTouchList,this.documentCookiePropOwnerName=e._getDocumentPropOwnerName(o,"cookie"),this.documentScriptsPropOwnerName=e._getDocumentPropOwnerName(o,"scripts");var n=r.Object.getOwnPropertyDescriptor(r[this.documentCookiePropOwnerName].prototype,"cookie");if(!this.isNativeCode(n.get)||!this.isNativeCode(n.get.toString))try{var i=r.parent["%hammerhead%"].nativeMethods;n.get=i.documentCookieGetter,n.set=i.documentCookieSetter}catch(s){}this.documentReferrerGetter=r.Object.getOwnPropertyDescriptor(o,"referrer").get,this.documentStyleSheetsGetter=r.Object.getOwnPropertyDescriptor(o,"styleSheets").get,this.documentActiveElementGetter=r.Object.getOwnPropertyDescriptor(o,"activeElement").get,this.documentScriptsGetter=r.Object.getOwnPropertyDescriptor(r[this.documentScriptsPropOwnerName].prototype,"scripts").get,this.documentCookieGetter=n.get,this.documentCookieSetter=n.set;var a=r.Object.getOwnPropertyDescriptor(o,"documentURI");a&&(this.documentDocumentURIGetter=a.get);var l=r.Object.getOwnPropertyDescriptor(o,"title");this.documentTitleGetter=l.get,this.documentTitleSetter=l.set},t.refreshElementMeths=function(e,t){var r=this;t=t||window;var o=function(t){return r.createElement.call(e||document,t)},n=o("div"),i=function(t){return r.createTextNode.call(e||document,t)},s=i("text");if(this.appendChild=t.Node.prototype.appendChild,this.append=t.Element.prototype.append,this.attachShadow=t.Element.prototype.attachShadow,this.replaceChild=n.replaceChild,this.cloneNode=n.cloneNode,this.elementGetElementsByClassName=n.getElementsByClassName,this.elementGetElementsByTagName=n.getElementsByTagName,this.elementQuerySelector=n.querySelector,this.elementQuerySelectorAll=n.querySelectorAll,this.getAttribute=n.getAttribute,this.getAttributeNS=n.getAttributeNS,this.insertAdjacentHTML=n.insertAdjacentHTML,this.insertBefore=n.insertBefore,this.insertCell=o("tr").insertCell,this.insertTableRow=o("table").insertRow,this.insertTBodyRow=o("tbody").insertRow,this.removeAttribute=n.removeAttribute,this.removeAttributeNS=n.removeAttributeNS,this.removeChild=t.Node.prototype.removeChild,this.remove=t.Element.prototype.remove,this.setAttribute=n.setAttribute,this.setAttributeNS=n.setAttributeNS,this.hasAttribute=n.hasAttribute,this.hasAttributeNS=n.hasAttributeNS,this.hasAttributes=n.hasAttributes,this.anchorToString=t.HTMLAnchorElement.prototype.toString,this.matches=n.matches||n.msMatchesSelector,this.closest=n.closest,this.appendData=s.appendData,!this.isNativeCode(this.elementGetElementsByTagName))try{var a=t.parent["%hammerhead%"].nativeMethods;this.elementGetElementsByTagName=a.elementGetElementsByTagName}catch(l){}t.EventTarget?(this.addEventListener=t.EventTarget.prototype.addEventListener,this.removeEventListener=t.EventTarget.prototype.removeEventListener,this.dispatchEvent=t.EventTarget.prototype.dispatchEvent):(this.addEventListener=n.addEventListener,this.removeEventListener=n.removeEventListener,this.dispatchEvent=n.dispatchEvent),this.blur=n.blur,this.click=n.click,this.focus=n.focus,this.select=window.TextRange?o("body").createTextRange().select:null,this.setSelectionRange=o("input").setSelectionRange,this.textAreaSetSelectionRange=o("textarea").setSelectionRange,this.svgFocus=t.SVGElement?t.SVGElement.prototype.focus:this.focus,this.svgBlur=t.SVGElement?t.SVGElement.prototype.blur:this.blur,this.htmlElementStylePropOwnerName=t.Element.prototype.hasOwnProperty("style")?"Element":"HTMLElement";var c=t.Object.getOwnPropertyDescriptor(t[this.htmlElementStylePropOwnerName].prototype,"style");this.htmlElementStyleGetter=c.get,c.set&&(this.htmlElementStyleSetter=c.set);var u=t.Object.getOwnPropertyDescriptor(t.CSSStyleDeclaration.prototype,"cssText");this.styleCssTextGetter=u.get,this.styleCssTextSetter=u.set},t._refreshGettersAndSetters=function(e,t){void 0===t&&(t=!1),e=e||window;var r=e.constructor.prototype;this.isEventPropsLocatedInProto=r.hasOwnProperty("onerror");var o=this.isEventPropsLocatedInProto?r:e,n=e.Object.getOwnPropertyDescriptor(o,"onbeforeunload"),i=e.Object.getOwnPropertyDescriptor(o,"onunload"),s=e.Object.getOwnPropertyDescriptor(o,"onpagehide"),a=e.Object.getOwnPropertyDescriptor(o,"onmessage"),l=e.Object.getOwnPropertyDescriptor(o,"onerror"),c=e.Object.getOwnPropertyDescriptor(o,"onhashchange");this.winOnBeforeUnloadSetter=n&&n.set,this.winOnUnloadSetter=i&&i.set,this.winOnPageHideSetter=s&&s.set,this.winOnMessageSetter=a&&a.set,this.winOnErrorSetter=l&&l.set,this.winOnHashChangeSetter=c&&c.set;var u=e.Object.getOwnPropertyDescriptor(o,"onunhandledrejection");if(u&&(this.winOnUnhandledRejectionSetter=u.set),e.WebSocket){var p=e.Object.getOwnPropertyDescriptor(e.WebSocket.prototype,"url");p&&p.get&&p.configurable&&(this.webSocketUrlGetter=p.get)}this.messageEventOriginGetter=e.Object.getOwnPropertyDescriptor(e.MessageEvent.prototype,"origin").get,e.PerformanceNavigationTiming&&(this.performanceEntryNameGetter=e.Object.getOwnPropertyDescriptor(e.PerformanceEntry.prototype,"name").get);var d=e.Object.getOwnPropertyDescriptor(e.MessageEvent.prototype,"data");if(d&&(this.messageEventDataGetter=d.get),e.fetch&&(this.responseStatusGetter=e.Object.getOwnPropertyDescriptor(e.Response.prototype,"status").get,this.responseTypeGetter=e.Object.getOwnPropertyDescriptor(e.Response.prototype,"type").get,this.responseUrlGetter=e.Object.getOwnPropertyDescriptor(e.Response.prototype,"url").get,this.requestUrlGetter=e.Object.getOwnPropertyDescriptor(e.Request.prototype,"url").get,this.requestReferrerGetter=e.Object.getOwnPropertyDescriptor(e.Request.prototype,"referrer").get),e.XMLHttpRequest){var f=e.Object.getOwnPropertyDescriptor(e.XMLHttpRequest.prototype,"responseURL");f&&(this.xhrResponseURLGetter=f.get)}if(e.Window){this.isStoragePropsLocatedInProto=e.Window.prototype.hasOwnProperty("localStorage");var h=this.getStoragesPropsOwner(e);this.winLocalStorageGetter=e.Object.getOwnPropertyDescriptor(h,"localStorage").get,this.winSessionStorageGetter=e.Object.getOwnPropertyDescriptor(h,"sessionStorage").get}if(!t){this.storageGetItem=e.Storage.prototype.getItem,this.storageSetItem=e.Storage.prototype.setItem,this.storageRemoveItem=e.Storage.prototype.removeItem,this.storageClear=e.Storage.prototype.clear,this.storageKey=e.Storage.prototype.key,this.storageLengthGetter=e.Object.getOwnPropertyDescriptor(e.Storage.prototype,"length");var m=e.Object.getOwnPropertyDescriptor(e.HTMLObjectElement.prototype,"data"),g=e.Object.getOwnPropertyDescriptor(e.HTMLInputElement.prototype,"type"),y=e.Object.getOwnPropertyDescriptor(e.HTMLInputElement.prototype,"value"),v=e.Object.getOwnPropertyDescriptor(e.HTMLInputElement.prototype,"disabled"),E=e.Object.getOwnPropertyDescriptor(e.HTMLInputElement.prototype,"required"),b=e.Object.getOwnPropertyDescriptor(e.HTMLTextAreaElement.prototype,"value"),S=e.Object.getOwnPropertyDescriptor(e.HTMLImageElement.prototype,"src"),w=e.Object.getOwnPropertyDescriptor(e.HTMLScriptElement.prototype,"src"),O=e.Object.getOwnPropertyDescriptor(e.HTMLScriptElement.prototype,"integrity"),P=e.Object.getOwnPropertyDescriptor(e.HTMLEmbedElement.prototype,"src"),T=e.Object.getOwnPropertyDescriptor(e.HTMLSourceElement.prototype,"src"),_=e.Object.getOwnPropertyDescriptor(e.HTMLMediaElement.prototype,"src"),L=e.Object.getOwnPropertyDescriptor(e.HTMLInputElement.prototype,"src"),x=e.Object.getOwnPropertyDescriptor(e.HTMLFrameElement.prototype,"src"),R=e.Object.getOwnPropertyDescriptor(e.HTMLIFrameElement.prototype,"src"),A=e.Object.getOwnPropertyDescriptor(e.HTMLAnchorElement.prototype,"href"),D=e.Object.getOwnPropertyDescriptor(e.HTMLLinkElement.prototype,"href"),j=e.Object.getOwnPropertyDescriptor(e.HTMLLinkElement.prototype,"integrity"),M=e.Object.getOwnPropertyDescriptor(e.HTMLLinkElement.prototype,"rel"),H=e.Object.getOwnPropertyDescriptor(e.HTMLLinkElement.prototype,"as"),I=e.Object.getOwnPropertyDescriptor(e.HTMLAreaElement.prototype,"href"),C=e.Object.getOwnPropertyDescriptor(e.HTMLBaseElement.prototype,"href"),N=e.Object.getOwnPropertyDescriptor(e.HTMLAnchorElement.prototype,"host"),G=e.Object.getOwnPropertyDescriptor(e.HTMLAnchorElement.prototype,"hostname"),k=e.Object.getOwnPropertyDescriptor(e.HTMLAnchorElement.prototype,"pathname"),U=e.Object.getOwnPropertyDescriptor(e.HTMLAnchorElement.prototype,"port"),F=e.Object.getOwnPropertyDescriptor(e.HTMLAnchorElement.prototype,"protocol"),W=e.Object.getOwnPropertyDescriptor(e.HTMLAnchorElement.prototype,"search"),B=e.Object.getOwnPropertyDescriptor(e.HTMLAnchorElement.prototype,"target"),q=e.Object.getOwnPropertyDescriptor(e.HTMLFormElement.prototype,"target"),V=e.Object.getOwnPropertyDescriptor(e.HTMLAreaElement.prototype,"target"),$=e.Object.getOwnPropertyDescriptor(e.HTMLBaseElement.prototype,"target"),z=e.Object.getOwnPropertyDescriptor(e.HTMLInputElement.prototype,"formTarget"),X=e.Object.getOwnPropertyDescriptor(e.HTMLButtonElement.prototype,"formTarget"),Q=e.Object.getOwnPropertyDescriptor(e.SVGImageElement.prototype,"href"),K=e.Object.getOwnPropertyDescriptor(e.SVGAnimatedString.prototype,"animVal"),Y=e.Object.getOwnPropertyDescriptor(e.SVGAnimatedString.prototype,"baseVal"),J=e.Object.getOwnPropertyDescriptor(e.HTMLInputElement.prototype,"autocomplete"),Z=e.Object.getOwnPropertyDescriptor(e.HTMLFormElement.prototype,"action"),ee=e.Object.getOwnPropertyDescriptor(e.HTMLInputElement.prototype,"formAction"),te=e.Object.getOwnPropertyDescriptor(e.HTMLButtonElement.prototype,"formAction"),re=e.Object.getOwnPropertyDescriptor(e.Node.prototype,"textContent"),oe=e.Object.getOwnPropertyDescriptor(e.HTMLElement.prototype,"innerText"),ne=e.Object.getOwnPropertyDescriptor(e.HTMLScriptElement.prototype,"text"),ie=e.Object.getOwnPropertyDescriptor(e.HTMLAnchorElement.prototype,"text"),se=e.Object.getOwnPropertyDescriptor(e.HTMLTitleElement.prototype,"text"),ae=e.Object.getOwnPropertyDescriptor(e.HTMLIFrameElement.prototype,"sandbox"),le=e.Object.getOwnPropertyDescriptor(e,"origin");le&&(this.windowOriginGetter=le.get,this.windowOriginSetter=le.set),v&&(this.inputDisabledSetter=v.set,this.inputDisabledGetter=v.get),this.elementHTMLPropOwnerName=e.Element.prototype.hasOwnProperty("innerHTML")?"Element":"HTMLElement";var ce=e.Object.getOwnPropertyDescriptor(e[this.elementHTMLPropOwnerName].prototype,"innerHTML"),ue=e.Object.getOwnPropertyDescriptor(e[this.elementHTMLPropOwnerName].prototype,"outerHTML");this.objectDataSetter=m.set,this.inputTypeSetter=g.set,this.inputValueSetter=y.set,this.inputRequiredSetter=E.set,this.textAreaValueSetter=b.set,this.imageSrcSetter=S.set,this.scriptSrcSetter=w.set,this.embedSrcSetter=P.set,this.sourceSrcSetter=T.set,this.mediaSrcSetter=_.set,this.inputSrcSetter=L.set,this.frameSrcSetter=x.set,this.iframeSrcSetter=R.set,this.anchorHrefSetter=A.set,this.linkHrefSetter=D.set,this.linkRelSetter=M.set,this.linkAsSetter=H&&H.set,this.areaHrefSetter=I.set,this.baseHrefSetter=C.set,this.anchorHostSetter=N.set,this.anchorHostnameSetter=G.set,this.anchorPathnameSetter=k.set,this.anchorPortSetter=U.set,this.anchorProtocolSetter=F.set,this.anchorSearchSetter=W.set,this.anchorTargetSetter=B.set,this.formTargetSetter=q.set,this.areaTargetSetter=V.set,this.baseTargetSetter=$.set,this.inputFormTargetSetter=z.set,this.buttonFormTargetSetter=X.set,this.svgAnimStrBaseValSetter=Y.set,this.inputAutocompleteSetter=J.set,this.formActionSetter=Z.set,this.inputFormActionSetter=ee.set,this.buttonFormActionSetter=te.set,this.iframeSandboxSetter=ae.set,this.htmlElementOnloadSetter=e.Object.getOwnPropertyDescriptor(e.HTMLElement.prototype,"onload").set,this.nodeTextContentSetter=re.set,this.htmlElementInnerTextSetter=oe.set,this.scriptTextSetter=ne.set,this.anchorTextSetter=ie.set,this.elementInnerHTMLSetter=ce.set,this.elementOuterHTMLSetter=ue.set,O&&j&&(this.scriptIntegritySetter=O.set,this.linkIntegritySetter=j.set),this.titleElementTextSetter=se.set,this.elementClassListPropOwnerName=e.Element.prototype.hasOwnProperty("classList")?"Element":"HTMLElement",this.elementClassListGetter=e.Object.getOwnPropertyDescriptor(e[this.elementClassListPropOwnerName].prototype,"classList").get,this.htmlCollectionLengthGetter=e.Object.getOwnPropertyDescriptor(e.HTMLCollection.prototype,"length").get,this.nodeListLengthGetter=e.Object.getOwnPropertyDescriptor(e.NodeList.prototype,"length").get,this.elementChildElementCountGetter=e.Object.getOwnPropertyDescriptor(e.Element.prototype,"childElementCount").get,
this.inputFilesGetter=e.Object.getOwnPropertyDescriptor(e.HTMLInputElement.prototype,"files").get,this.styleSheetHrefGetter=e.Object.getOwnPropertyDescriptor(e.StyleSheet.prototype,"href").get,this.objectDataGetter=m.get,this.inputTypeGetter=g.get,this.inputValueGetter=y.get,this.inputRequiredGetter=E.get,this.textAreaValueGetter=b.get,this.imageSrcGetter=S.get,this.scriptSrcGetter=w.get,this.embedSrcGetter=P.get,this.sourceSrcGetter=T.get,this.mediaSrcGetter=_.get,this.inputSrcGetter=L.get,this.frameSrcGetter=x.get,this.iframeSrcGetter=R.get,this.anchorHrefGetter=A.get,this.linkHrefGetter=D.get,this.linkRelGetter=M.get,this.areaHrefGetter=I.get,this.baseHrefGetter=C.get,this.anchorHostGetter=N.get,this.anchorHostnameGetter=G.get,this.anchorPathnameGetter=k.get,this.anchorPortGetter=U.get,this.anchorProtocolGetter=F.get,this.anchorSearchGetter=W.get,this.anchorTargetGetter=B.get,this.formTargetGetter=q.get,this.areaTargetGetter=V.get,this.baseTargetGetter=$.get,this.inputFormTargetGetter=z.get,this.buttonFormTargetGetter=X.get,this.svgImageHrefGetter=Q.get,this.svgAnimStrAnimValGetter=K.get,this.svgAnimStrBaseValGetter=Y.get,this.inputAutocompleteGetter=J.get,this.formActionGetter=Z.get,this.inputFormActionGetter=ee.get,this.buttonFormActionGetter=te.get,this.iframeSandboxGetter=ae.get,this.contentWindowGetter=e.Object.getOwnPropertyDescriptor(e.HTMLIFrameElement.prototype,"contentWindow").get,this.contentDocumentGetter=e.Object.getOwnPropertyDescriptor(e.HTMLIFrameElement.prototype,"contentDocument").get,this.frameContentWindowGetter=e.Object.getOwnPropertyDescriptor(e.HTMLFrameElement.prototype,"contentWindow").get,this.nodeTextContentGetter=re.get,this.htmlElementInnerTextGetter=oe.get,this.scriptTextGetter=ne.get,this.anchorTextGetter=ie.get,this.elementInnerHTMLGetter=ce.get,this.elementOuterHTMLGetter=ue.get,this.nodeFirstChildGetter=e.Object.getOwnPropertyDescriptor(e.Node.prototype,"firstChild").get,this.nodeLastChildGetter=e.Object.getOwnPropertyDescriptor(e.Node.prototype,"lastChild").get,this.nodeNextSiblingGetter=e.Object.getOwnPropertyDescriptor(e.Node.prototype,"nextSibling").get,this.nodePrevSiblingGetter=e.Object.getOwnPropertyDescriptor(e.Node.prototype,"previousSibling").get,this.nodeParentNodeGetter=e.Object.getOwnPropertyDescriptor(e.Node.prototype,"parentNode").get,this.nodeChildNodesGetter=e.Object.getOwnPropertyDescriptor(e.Node.prototype,"childNodes").get,this.elementFirstElementChildGetter=e.Object.getOwnPropertyDescriptor(e.Element.prototype,"firstElementChild").get,this.elementLastElementChildGetter=e.Object.getOwnPropertyDescriptor(e.Element.prototype,"lastElementChild").get,this.elementNextElementSiblingGetter=e.Object.getOwnPropertyDescriptor(e.Element.prototype,"nextElementSibling").get,this.elementPrevElementSiblingGetter=e.Object.getOwnPropertyDescriptor(e.Element.prototype,"previousElementSibling").get,O&&j&&(this.scriptIntegrityGetter=O.get,this.linkIntegrityGetter=j.get);var pe=e.Object.getOwnPropertyDescriptor(e.HTMLAnchorElement.prototype,"origin");pe&&(this.anchorOriginGetter=pe.get);var de=e.Object.getOwnPropertyDescriptor(e.HTMLIFrameElement.prototype,"srcdoc");de&&(this.iframeSrcdocGetter=de.get,this.iframeSrcdocSetter=de.set);var fe=e.Object.getOwnPropertyDescriptor(e.CSSStyleSheet.prototype,"href");fe&&(this.cssStyleSheetHrefGetter=fe.get);var he=e.Object.getOwnPropertyDescriptor(e.Node.prototype,"baseURI");he&&(this.nodeBaseURIGetter=he.get),this.elementAttributesPropOwnerName=e.Element.prototype.hasOwnProperty("attributes")?"Element":"Node",this.elementAttributesGetter=e.Object.getOwnPropertyDescriptor(e[this.elementAttributesPropOwnerName].prototype,"attributes").get;var me=e.Object.getOwnPropertyDescriptor(e.HTMLHtmlElement.prototype,"manifest");me&&(this.htmlManifestGetter=me.get,this.htmlManifestSetter=me.set),this.titleElementTextGetter=se.get,this.mutationRecordNextSiblingGetter=e.Object.getOwnPropertyDescriptor(e.MutationRecord.prototype,"nextSibling").get,this.mutationRecordPrevSiblingGetter=e.Object.getOwnPropertyDescriptor(e.MutationRecord.prototype,"previousSibling").get}},t.refreshWindowMeths=function(e,t){void 0===t&&(t=!1),e=e||window;var r=e.constructor.prototype;if(this.eval=e.eval,this.formSubmit=e.HTMLFormElement&&e.HTMLFormElement.prototype.submit,this.documentFragmentQuerySelector=e.DocumentFragment&&e.DocumentFragment.prototype.querySelector,this.documentFragmentQuerySelectorAll=e.DocumentFragment&&e.DocumentFragment.prototype.querySelectorAll,this.preventDefault=e.Event.prototype.preventDefault,this.historyPushState=e.history&&e.history.pushState,this.historyReplaceState=e.history&&e.history.replaceState,this.postMessage=e.postMessage||r.postMessage,this.windowOpen=e.open||r.open,this.setTimeout=e.setTimeout||r.setTimeout,this.setInterval=e.setInterval||r.setInterval,this.clearTimeout=e.clearTimeout||r.clearTimeout,this.clearInterval=e.clearInterval||r.clearInterval,this.registerProtocolHandler=e.navigator.registerProtocolHandler,this.sendBeacon=e.navigator.sendBeacon,e.XMLHttpRequest){var o=(e.EventTarget||e.XMLHttpRequest).prototype;this.xhrAbort=e.XMLHttpRequest.prototype.abort,this.xhrOpen=e.XMLHttpRequest.prototype.open,this.xhrSend=e.XMLHttpRequest.prototype.send,this.xhrAddEventListener=o.addEventListener,this.xhrRemoveEventListener=o.removeEventListener,this.xhrDispatchEvent=o.dispatchEvent,this.xhrGetResponseHeader=e.XMLHttpRequest.prototype.getResponseHeader,this.xhrGetAllResponseHeaders=e.XMLHttpRequest.prototype.getAllResponseHeaders,this.xhrSetRequestHeader=e.XMLHttpRequest.prototype.setRequestHeader,this.xhrOverrideMimeType=e.XMLHttpRequest.prototype.overrideMimeType}try{this.registerServiceWorker=e.navigator.serviceWorker.register,this.getRegistrationServiceWorker=e.navigator.serviceWorker.getRegistration}catch(n){this.registerServiceWorker=null,this.getRegistrationServiceWorker=null}this.createContextualFragment=e.Range&&e.Range.prototype.createContextualFragment;var i=e.performance;if(i){var s=e.performance.now||e.Performance.prototype.now;this.performanceNow=function(){for(var e=arguments.length,t=new Array(e),r=0;r<e;r++)t[r]=arguments[r];return s.apply(i,t)}}if(this.fetch=e.fetch,this.Request=e.Request,e.Headers&&(this.Headers=e.Headers,this.headersSet=e.Headers.prototype.set,this.headersGet=e.Headers.prototype.get,this.headersDelete=e.Headers.prototype["delete"],this.headersEntries=e.Headers.prototype.entries,this.headersForEach=e.Headers.prototype.forEach,this.headersValues=e.Headers.prototype.values),this.windowAddEventListener=e.addEventListener||r.addEventListener,this.windowRemoveEventListener=e.removeEventListener||r.removeEventListener,this.windowDispatchEvent=e.dispatchEvent,this.WindowPointerEvent=e.PointerEvent||r.PointerEvent,this.WindowMSPointerEvent=e.MSPointerEvent||r.MSPointerEvent,this.WindowTouch=e.Touch||r.Touch,this.WindowTouchEvent=e.TouchEvent||r.TouchEvent,this.WindowKeyboardEvent=e.KeyboardEvent||r.KeyboardEvent,this.WindowFocusEvent=e.FocusEvent||r.FocusEvent,this.WindowTextEvent=e.TextEvent||r.TextEvent,this.WindowInputEvent=e.InputEvent||r.InputEvent,this.WindowMouseEvent=e.MouseEvent||r.MouseEvent,this.canvasContextDrawImage=e.CanvasRenderingContext2D&&e.CanvasRenderingContext2D.prototype.drawImage,this.formDataAppend=e.FormData&&e.FormData.prototype.append,this.date=e.Date,this.dateNow=e.Date.now,this.math=e.Math,this.mathRandom=e.Math.random,this.objectToString=e.Object.prototype.toString,this.objectAssign=e.Object.assign,this.objectKeys=e.Object.keys,this.objectDefineProperty=e.Object.defineProperty,this.objectDefineProperties=e.Object.defineProperties,this.objectCreate=e.Object.create,this.objectIsExtensible=e.Object.isExtensible,this.objectIsFrozen=e.Object.isFrozen,this.objectGetOwnPropertyDescriptor=e.Object.getOwnPropertyDescriptor,this.objectHasOwnProperty=e.Object.hasOwnProperty,this.objectGetOwnPropertyNames=e.Object.getOwnPropertyNames,this.objectGetPrototypeOf=e.Object.getPrototypeOf,this.objectGetOwnPropertySymbols=e.Object.getOwnPropertySymbols,this.arraySlice=e.Array.prototype.slice,this.arrayConcat=e.Array.prototype.concat,this.arrayFilter=e.Array.prototype.filter,this.arrayMap=e.Array.prototype.map,this.arrayJoin=e.Array.prototype.join,this.arraySplice=e.Array.prototype.splice,this.arrayForEach=e.Array.prototype.forEach,this.arrayFrom=e.Array.from,this.DOMParserParseFromString=e.DOMParser&&e.DOMParser.prototype.parseFromString,this.arrayBufferIsView=e.ArrayBuffer.prototype.constructor.isView,!t){this.tokenListAdd=e.DOMTokenList.prototype.add,this.tokenListRemove=e.DOMTokenList.prototype.remove,this.tokenListReplace=e.DOMTokenList.prototype.replace,this.tokenListSupports=e.DOMTokenList.prototype.supports,this.tokenListToggle=e.DOMTokenList.prototype.toggle,this.tokenListContains=e.DOMTokenList.prototype.contains;var a=e.Object.getOwnPropertyDescriptor(e.DOMTokenList.prototype,"value");a&&(this.tokenListValueSetter=a.set),this.styleGetPropertyValue=e.CSSStyleDeclaration.prototype.getPropertyValue,this.styleSetProperty=e.CSSStyleDeclaration.prototype.setProperty,this.styleRemoveProperty=e.CSSStyleDeclaration.prototype.removeProperty,this.styleInsertRule=e.CSSStyleSheet.prototype.insertRule,this.scrollTo=e.scrollTo}e.Promise&&(this.promiseThen=e.Promise.prototype.then,this.promiseReject=e.Promise.reject),this.console=e.console,this.console&&(this.consoleMeths={log:e.console.log,warn:e.console.warn,error:e.console.error,info:e.console.info}),this.crypto=e.crypto||e.msCrypto,this.cryptoGetRandomValues=this.crypto&&this.crypto.getRandomValues,this.refreshClasses(e),this._refreshGettersAndSetters(e,t)},t.refreshClasses=function(e){this.windowClass=e.Window,this.documentClass=e.Document,this.locationClass=e.Location,this.elementClass=e.Element,this.svgElementClass=e.SVGElement,this.Worker=e.Worker,this.MessageChannel=e.MessageChannel,this.ArrayBuffer=e.ArrayBuffer,this.Uint8Array=e.Uint8Array,this.Uint16Array=e.Uint16Array,this.Uint32Array=e.Uint32Array,this.DataView=e.DataView,this.Blob=e.Blob,this.XMLHttpRequest=e.XMLHttpRequest,this.Image=e.Image,this.Function=e.Function,this.functionToString=e.Function.prototype.toString,this.Error=e.Error,this.FontFace=e.FontFace,this.StorageEvent=e.StorageEvent,this.MutationObserver=e.MutationObserver,this.EventSource=e.EventSource,this.Proxy=e.Proxy,this.WebSocket=e.WebSocket,this.HTMLCollection=e.HTMLCollection,this.NodeList=e.NodeList,this.Node=e.Node,this.URL=e.URL,this.DataTransfer=e.DataTransfer,this.DataTransferItemList=e.DataTransferItemList,this.DataTransferItem=e.DataTransferItem,this.FileList=e.FileList,e.File&&"function"==typeof e.File&&(this.File=e.File)},t.refreshElectronMeths=function(e){return(!this.createScript||!i.isNativeFunction(e.createScript))&&(this.createScript=e.createScript,this.runInDebugContext=e.runInDebugContext,this.runInContext=e.runInContext,this.runInNewContext=e.runInNewContext,this.runInThisContext=e.runInThisContext,!0)},e._ensureDocumentMethodRestore=function(e,t,r,o){t[r]=o,e[r]!==t[r]&&(e[r]=o)},t.restoreDocumentMeths=function(t,r){var o=t.Document.prototype;e._ensureDocumentMethodRestore(r,o,"createDocumentFragment",this.createDocumentFragment),e._ensureDocumentMethodRestore(r,o,"createElement",this.createElement),e._ensureDocumentMethodRestore(r,o,"createElementNS",this.createElementNS),e._ensureDocumentMethodRestore(r,o,"elementFromPoint",this.elementFromPoint),e._ensureDocumentMethodRestore(r,o,"caretRangeFromPoint",this.caretRangeFromPoint),e._ensureDocumentMethodRestore(r,o,"caretPositionFromPoint",this.caretPositionFromPoint),e._ensureDocumentMethodRestore(r,o,"getElementById",this.getElementById),e._ensureDocumentMethodRestore(r,o,"getElementsByClassName",this.getElementsByClassName),e._ensureDocumentMethodRestore(r,o,"getElementsByName",this.getElementsByName),e._ensureDocumentMethodRestore(r,o,"getElementsByTagName",this.getElementsByTagName),e._ensureDocumentMethodRestore(r,o,"querySelector",this.querySelector),e._ensureDocumentMethodRestore(r,o,"querySelectorAll",this.querySelectorAll),t.EventTarget||(e._ensureDocumentMethodRestore(r,o,"addEventListener",this.documentAddEventListener),e._ensureDocumentMethodRestore(r,o,"removeEventListener",this.documentRemoveEventListener)),e._ensureDocumentMethodRestore(r,o,"createEvent",this.documentCreateEvent),e._ensureDocumentMethodRestore(r,o,"createTouch",this.documentCreateTouch),e._ensureDocumentMethodRestore(r,o,"createTouchList",this.documentCreateTouchList),e._ensureDocumentMethodRestore(r,t[this.documentOpenPropOwnerName].prototype,"open",this.documentOpen),e._ensureDocumentMethodRestore(r,t[this.documentClosePropOwnerName].prototype,"close",this.documentClose),e._ensureDocumentMethodRestore(r,t[this.documentWritePropOwnerName].prototype,"write",this.documentWrite),e._ensureDocumentMethodRestore(r,t[this.documentWriteLnPropOwnerName].prototype,"writeln",this.documentWriteLn)},t.refreshIfNecessary=function(e,t){var r=this,o=function(e){try{return e()}catch(t){return!0}},n=o(function(){return!e.createElement||i.isNativeFunction(document.createElement)}),s=o(function(){var t=r.createElement.call(e,"div");return i.isNativeFunction(t.getAttribute)}),a=o(function(){return r.setTimeout.call(t,function(){},0),i.isNativeFunction(t.XMLHttpRequest.prototype.open)});n&&this.refreshDocumentMeths(e,t),s&&this.refreshElementMeths(e,t),a&&this.refreshWindowMeths(t)},t.isNativeCode=function(e){return s.test(e.toString())},e}();e["default"]=new a,t.exports=e["default"]},"xhr.js":function(e,t,r){function o(e,t){e.prototype=Object.create(t.prototype),e.prototype.constructor=e,n(e,t)}function n(e,t){return(n=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e})(e,t)}var i=function(e){return e&&e.__esModule?e:{"default":e}};Object.defineProperty(e,"__esModule",{value:!0});var s=i(r("../worker/sandbox-base-with-delayed-settings")),a=i(r("./native-methods")),l=r("../utils/url"),c=i(r("../../request-pipeline/builtin-header-names")),u=r("../utils/overriding"),p=r("../../utils/url"),d=r("../../utils/headers"),f=["UNSENT","OPENED","HEADERS_RECEIVED","LOADING","DONE"],h=function(e){function t(t,r){var o;return o=e.call(this,r)||this,o._cookieSandbox=t,o.XHR_COMPLETED_EVENT="hammerhead|event|xhr-completed",o.XHR_ERROR_EVENT="hammerhead|event|xhr-error",o.BEFORE_XHR_SEND_EVENT="hammerhead|event|before-xhr-send",o}o(t,e),t.createNativeXHR=function(){var e=new a["default"].XMLHttpRequest;return e.open=a["default"].xhrOpen,e.abort=a["default"].xhrAbort,e.send=a["default"].xhrSend,e.addEventListener=a["default"].xhrAddEventListener||a["default"].addEventListener,e.removeEventListener=a["default"].xhrRemoveEventListener||a["default"].removeEventListener,e.setRequestHeader=a["default"].xhrSetRequestHeader,e.getResponseHeader=a["default"].xhrGetResponseHeader,e.getAllResponseHeaders=a["default"].xhrGetAllResponseHeaders,e.overrideMimeType=a["default"].xhrOverrideMimeType,e.dispatchEvent=a["default"].xhrDispatchEvent||a["default"].dispatchEvent,e},t.openNativeXhr=function(e,t,r){e.open("POST",t,r),e.setRequestHeader(c["default"].cacheControl,"no-cache, no-store, must-revalidate")},t._reopenXhr=function(e,t){var r=t.openArgs[1],o=e.withCredentials;t.withCredentials=o,t.openArgs[1]=l.getAjaxProxyUrl(r,o?p.Credentials.include:p.Credentials.sameOrigin),a["default"].xhrOpen.apply(e,t.openArgs),t.openArgs[1]=r;for(var n=0,i=t.headers;n<i.length;n++){var s=i[n];a["default"].xhrSetRequestHeader.apply(e,s)}};var r=t.prototype;return r.attach=function(r){e.prototype.attach.call(this,r);for(var o=this,n=r.XMLHttpRequest.prototype,i=function g(){var e=a["default"].xhrRemoveEventListener||a["default"].removeEventListener;o.emit(o.XHR_COMPLETED_EVENT,{xhr:this}),e.call(this,"loadend",g)},s=function y(){if(!(this.readyState<this.HEADERS_RECEIVED)){var e=a["default"].xhrRemoveEventListener||a["default"].removeEventListener;o._cookieSandbox.syncCookie(),e.call(this,"readystatechange",y)}},c=function(){var e=a["default"].xhrAddEventListener||a["default"].addEventListener,t=new a["default"].XMLHttpRequest;return e.call(t,"loadend",i),e.call(t,"readystatechange",s),t},h=0;h<f.length;h++){var m=f[h];a["default"].objectDefineProperty(c,m,a["default"].objectGetOwnPropertyDescriptor(a["default"].XMLHttpRequest,m))}u.overrideConstructor(r,"XMLHttpRequest",c),a["default"].objectDefineProperty(n,"constructor",{value:c}),u.overrideFunction(n,"abort",function(){for(var e=this,t=arguments.length,r=new Array(t),n=0;n<t;n++)r[n]=arguments[n];return o.gettingSettingInProgress()?void o.delayUntilGetSettings(function(){return e.abort.apply(e,r)}):(a["default"].xhrAbort.apply(this,r),void o.emit(o.XHR_ERROR_EVENT,{err:new Error("XHR aborted"),xhr:this}))}),u.overrideFunction(n,"open",function(){for(var e=this,r=arguments.length,n=new Array(r),i=0;i<r;i++)n[i]=arguments[i];var s=n[1];return l.getProxyUrl(s)===s?void a["default"].xhrOpen.apply(this,n):o.gettingSettingInProgress()?void o.delayUntilGetSettings(function(){return e.open.apply(e,n)}):(s="string"==typeof s?s:String(s),n[1]=l.getAjaxProxyUrl(s,this.withCredentials?p.Credentials.include:p.Credentials.sameOrigin),a["default"].xhrOpen.apply(this,n),n[1]=s,void t.REQUESTS_OPTIONS.set(this,{withCredentials:this.withCredentials,openArgs:n,headers:[]}))}),u.overrideFunction(n,"send",function(){for(var e=this,r=arguments.length,n=new Array(r),l=0;l<r;l++)n[l]=arguments[l];if(o.gettingSettingInProgress())return void o.delayUntilGetSettings(function(){return e.send.apply(e,n)});var c=t.REQUESTS_OPTIONS.get(this);c.withCredentials!==this.withCredentials&&t._reopenXhr(this,c),o.emit(o.BEFORE_XHR_SEND_EVENT,{xhr:this}),a["default"].xhrSend.apply(this,n),this.readyState===this.DONE&&i.call(this),s.call(this)}),u.overrideFunction(n,"setRequestHeader",function(){for(var e=arguments.length,r=new Array(e),o=0;o<e;o++)r[o]=arguments[o];d.isAuthorizationHeader(r[0])&&(r[1]=d.addAuthorizationPrefix(r[1])),a["default"].xhrSetRequestHeader.apply(this,r);var n=t.REQUESTS_OPTIONS.get(this);n&&n.headers.push([String(r[0]),String(r[1])])}),a["default"].xhrResponseURLGetter&&u.overrideDescriptor(r.XMLHttpRequest.prototype,"responseURL",{getter:function(){return l.getDestinationUrl(a["default"].xhrResponseURLGetter.call(this))}}),u.overrideFunction(n,"getResponseHeader",function(){for(var e=arguments.length,t=new Array(e),r=0;r<e;r++)t[r]=arguments[r];var o=a["default"].xhrGetResponseHeader.apply(this,t);return o&&d.isAuthenticateHeader(t[0])&&(o=d.removeAuthenticatePrefix(o)),o}),u.overrideFunction(n,"getAllResponseHeaders",function(){for(var e=arguments.length,t=new Array(e),r=0;r<e;r++)t[r]=arguments[r];for(var o=a["default"].xhrGetAllResponseHeaders.apply(this,t);d.hasAuthenticatePrefix(o);)o=d.removeAuthenticatePrefix(o);return o})},t}(s["default"]);e["default"]=h,h.REQUESTS_OPTIONS=new WeakMap,t.exports=e["default"]}},"settings.js":function(e,t,r){Object.defineProperty(e,"__esModule",{value:!0});var o=function(){function e(){this._settings={isFirstPageLoad:!0,sessionId:"",forceProxySrcForImage:!1,crossDomainProxyPort:"",referer:"",serviceMsgUrl:"",transportWorkerUrl:"",iframeTaskScriptTemplate:"",cookie:"",allowMultipleWindows:!1,isRecordMode:!1,windowId:""}}var t=e.prototype;return t.set=function(e){this._settings=e},t.get=function(){return this._settings},e}(),n=new o;e["default"]=n,t.exports=e["default"]},utils:{"browser.js":function(e,t,r){var o=function(e){return e&&e.__esModule?e:{"default":e}};Object.defineProperty(e,"__esModule",{value:!0});var n=o(r("bowser")),i=navigator.userAgent.toLowerCase(),s=n["default"]._detect(i),a=i.match(/applewebkit\/(\d+(:?\.\d+)*)/);e.compareVersions=n["default"].compareVersions,e.isMacPlatform=!!s.mac,e.isAndroid=!!s.android,e.isIOS=!!s.ios,e.isMobile=!!s.mobile,e.isTablet=!!s.tablet,e.version=parseInt(s.version,10),e.fullVersion=s.version,e.webkitVersion=a&&a[1]||"",e.isIE=!(!s.msie&&!s.msedge),e.isIE11=e.isIE&&11===e.version,e.isIE10=e.isIE&&10===e.version,e.isIE9=e.isIE&&9===e.version,e.isFirefox=!!s.firefox,e.isMSEdge=!!s.msedge,e.isChrome=!!s.chrome,e.isSafari=!!s.safari,e.isWebKit=!(!s.webkit&&!s.blink),e.isElectron=/electron/g.test(i)},"destination-location.js":function(e,t,r){function o(){if(S)return S;var e=g.getFrameElement(b["default"].global);return e&&g.isIframeWithoutSrc(e)?v["default"].get().referer:b["default"].global.location.toString()}function n(e){S=e}function i(e,t){return t&&(t=s(t)),m.sameOriginCheck(e,t)}function s(e,t){var r=m.getURLString(e);if(r&&0===r.indexOf("//")){var o=p().protocol;r=o+m.correctMultipleSlashes(r,o)}else r=m.correctMultipleSlashes(r);return b["default"].isInWorker?"blob:"!==self.location.protocol?new E["default"].URL(r,a()).href:e:y.resolve(r,t||document)}function a(){var e=o(),t=m.parseProxyUrl(e);return t?t.destUrl:e}function l(e){var t=a();return t=t.replace(/(#.*)$/,""),t+e}function c(e){var t=y.getResolverElement(document),r=m.parseUrl(e).port;E["default"].anchorHrefSetter.call(t,a());var o=E["default"].anchorHostnameGetter.call(t),n=E["default"].anchorPathnameGetter.call(t);return"/"!==n.charAt(0)&&(n="/"+n),{protocol:E["default"].anchorProtocolGetter.call(t),port:r?E["default"].anchorPortGetter.call(t):"",hostname:o,host:r?E["default"].anchorHostGetter.call(t):o,pathname:n,hash:t.hash,search:E["default"].anchorSearchGetter.call(t)}}function u(e){var t=new E["default"].URL(e);return{protocol:t.protocol,port:t.port,hostname:t.hostname,host:t.host,pathname:t.pathname,hash:t.hash,search:t.search}}function p(){var e=a();return b["default"].isInWorker?u(e):c(e)}function d(){return m.getDomain(p())}var f=function(e){if(e&&e.__esModule)return e;var t={};if(null!=e)for(var r in e)Object.hasOwnProperty.call(e,r)&&(t[r]=e[r]);return t["default"]=e,t},h=function(e){return e&&e.__esModule?e:{"default":e}};Object.defineProperty(e,"__esModule",{value:!0});var m=f(r("../../utils/url")),g=f(r("./dom")),y=f(r("./url-resolver")),v=h(r("../settings")),E=h(r("../sandbox/native-methods")),b=h(r("./global-context-info")),S=null;e.getLocation=o,e.forceLocation=n,e.sameOriginCheck=i,e.resolveUrl=s,e.get=a,e.withHash=l,e.getParsed=p,e.getOriginHeader=d},"dom.js":function(e,t,r){function o(e){return e.offsetWidth<=0&&e.offsetHeight<=0}function n(e){var t=_(e);return!!t&&(Pt.test(t)||Tt.test(t))}function i(e){var t=null;try{t=e.__proto__}catch(r){var o=ct.isSafari||ct.isChrome;return e.replace&&(o||!!e.assign)}if(!t)return!1;var n=it["default"].objectToString.call(t);return"[object LocationPrototype]"===n||"[object Location]"===n}function s(e,t){for(;e;){if(ke(e,t))return e;e=it["default"].nodeParentNodeGetter.call(e)}return null}function a(e){return pt.instanceAndPrototypeToStringAreEqual?e&&"object"==typeof e?it["default"].objectToString.call(it["default"].objectGetPrototypeOf(e)):"":it["default"].objectToString.call(e)}function l(e){for(var t=e||document,r=it["default"].documentActiveElementGetter.call(t),o=T(r)?r:t.body;o&&o.shadowRoot;){var n=o.shadowRoot.activeElement;if(!n)break;o=n}return o}function c(e,t){var r=y(e);return r.indexOf(t)}function u(e){var t=e[ot["default"].processedContext];return d(t)}function p(e){var t=null;try{t=it["default"].contentDocumentGetter.call(e).location.href}catch(r){t=null}var o=it["default"].getAttribute.call(e,"src"+rt["default"].storedAttrPostfix)||it["default"].getAttribute.call(e,"src")||it["default"].iframeSrcGetter.call(e),n=t&&st.isSupportedProtocol(t)&&st.parseProxyUrl(t),i=o&&st.isSupportedProtocol(o)&&st.parseProxyUrl(o);return{documentLocation:n?n.destUrl:t,srcLocation:i?i.destUrl:o}}function d(e){try{return e.frameElement}catch(t){return null}}function f(e){var t=Ue(e,"map"),r=it["default"].getAttribute.call(t,"name"),o='[usemap="#'+r+'"]';return it["default"].querySelector.call(b(e),o)}function h(e){var t=e.parent,r=null;if(e===e.top)return e;if(t===e.top||O(e,t))return t;try{r=t.frameElement}catch(o){r=null}return null!==r&&H(r)?h(t):t}function m(){if(!dt){var e=it["default"].createElement.call(document,"div");e.style.height="100px",e.style.overflow="scroll",e.style.position="absolute",e.style.top="-9999px",e.style.width="100px",it["default"].appendChild.call(document.body,e);var t=e.offsetWidth-e.clientWidth;dt=t;var r=it["default"].nodeParentNodeGetter.call(e);r.removeChild(e)}return dt}function g(e){var t=it["default"].nodeParentNodeGetter.call(e);return Ue(t,"select")}function y(e){for(var t=it["default"].elementQuerySelectorAll.call(e,"optgroup, option"),r=[],o=it["default"].nodeListLengthGetter.call(t),n=0;n<o;n++){var i=t[n],s=!ct.isFirefox||("optgroup"!==_(i)||i.label);s&&r.push(i)}return r}function v(e){var t=e,r=e.parent;if(t===e.top)return t;for(;r;){if(!O(e,r)){var o=d(r);o&&H(o)||(t=r)}r=r!==e.top?r.parent:null}return t}function E(e,t,r){var o=ut.getNativeQuerySelectorAll(e).call(e,t);if(r)for(var n=it["default"].nodeListLengthGetter.call(o),i=0;i<n;i++)r(o[i]);return o}function b(e){if(e.documentElement)return e;if(e.ownerDocument&&e.ownerDocument.defaultView)return e.ownerDocument;var t=Pe(e)&&it["default"].nodeParentNodeGetter.call(e);return t?b(t):document}function S(e){var t=!1,r=null;return r=Te(e)?e.parentElement||it["default"].nodeParentNodeGetter.call(e):e,!!r&&(t=r.isContentEditable&&!n(r),le(r)&&(t||"on"===b(e).designMode))}function w(e,t){var r=p(e);if(!t&&null===r.documentLocation)return!0;var o=t?r.srcLocation:r.documentLocation;return!(!o||!st.isSupportedProtocol(o))&&!lt.sameOriginCheck(location.toString(),o)}function O(e,t){try{if(e===t)return!1;var r=e.location.toString(),o=t.location.toString();return!(!st.isSupportedProtocol(r)||!st.isSupportedProtocol(o))&&!lt.sameOriginCheck(r,o)}catch(n){return!0}}function P(e){return e!==e.top}function T(e){return e instanceof it["default"].elementClass||e&&Et.test(a(e))&&Pe(e)&&e.tagName}function _(e){return e&&"string"==typeof e.tagName?e.tagName.toLowerCase():""}function L(t){for(var r=it["default"].nodeParentNodeGetter.call(t);r&&r.nodeType!==Node.DOCUMENT_FRAGMENT_NODE;)r=it["default"].nodeParentNodeGetter.call(r);return r&&r[e.SHADOW_ROOT_PARENT_ELEMENT]}function x(t){var r=it["default"].nodeParentNodeGetter.call(t);return r&&r.nodeType===Node.DOCUMENT_FRAGMENT_NODE&&r[e.SHADOW_ROOT_PARENT_ELEMENT]?r[e.SHADOW_ROOT_PARENT_ELEMENT]:r}function R(e,t){var r=t||document;if(!r.documentElement)return!1;if(r.documentElement.contains(e))return!0;var o=L(e);return!!o&&R(o)}function A(e,t){var r=t||b(e);return window.document!==r}function D(e){return e===rt["default"].focusPseudoClass||e===rt["default"].hoverPseudoClass||e.indexOf(rt["default"].storedAttrPostfix)!==-1}function j(e){return"[object HTMLIFrameElement]"===a(e)}function M(e){return"[object HTMLFrameElement]"===a(e)}function H(e){var t=p(e),r=t.srcLocation,o=t.documentLocation;if(null===o)return!1;if(it["default"].contentWindowGetter.call(e)[ot["default"].documentWasCleaned])return!0;var n=st.isSupportedProtocol(o);return!n&&!it["default"].getAttribute.call(e,"src")||(!r||!st.isSupportedProtocol(r))&&!n}function I(e){return it["default"].iframeSrcdocGetter&&it["default"].hasAttribute.call(e,"srcdoc")}function C(e){return"[object HTMLImageElement]"===a(e)}function N(e){return"[object HTMLInputElement]"===a(e)}function G(e){return"[object HTMLTitleElement]"===a(e)}function k(e){return"[object HTMLButtonElement]"===a(e)}function U(e){return"[object HTMLFieldSetElement]"===a(e)}function F(e){return"[object HTMLOptGroupElement]"===a(e)}function W(e){return"[object HTMLHtmlElement]"===a(e)}function B(e){return"[object HTMLBodyElement]"===a(e)}function q(e){return"[object HTMLHeadElement]"===a(e)}function V(e){var t=a(e);return"[object HTMLHeadElement]"===t||"[object HTMLBodyElement]"===t}function $(e){var t=a(e);return"[object HTMLHeadElement]"===t||"[object HTMLBodyElement]"===t||"[object HTMLHtmlElement]"===t}function z(e){return"[object HTMLBaseElement]"===a(e)}function X(e){return"[object HTMLScriptElement]"===a(e)}function Q(e){return"[object HTMLStyleElement]"===a(e)}function K(e){return"[object HTMLLabelElement]"===a(e)}function Y(e){return"[object HTMLTextAreaElement]"===a(e)}function J(e){return"[object HTMLOptionElement]"===a(e)}function Z(e){return N(e)&&"radio"===e.type.toLowerCase()}function ee(e){return N(e)&&"color"===e.type.toLowerCase()}function te(e){return N(e)&&"checkbox"===e.type.toLowerCase()}function re(e){return"[object HTMLSelectElement]"===a(e)}function oe(e){return"[object HTMLFormElement]"===a(e)}function ne(e){return N(e)&&"file"===e.type.toLowerCase()}function ie(e){return N(e)&&Rt.test(e.type.toLowerCase())}function se(e){return B(e)&&it["default"].htmlCollectionLengthGetter.call(e.children)}function ae(e){return ft.indexOf(a(e))!==-1}function le(e){return!(_e(e)||Le(e)||_t.test(e.nodeName))}function ce(e){var t=it["default"].getAttribute.call(e,"tabIndex");return t=parseInt(t,10),isNaN(t)?null:t}function ue(e){if(!e)return!1;var t=ce(e),r=ke(e,":disabled"),n="hidden"===at.get(e,"visibility"),i="none"===at.get(e,"display"),s=ct.isWebKit?o(e)&&!J(e):o(e);return!(r||n||i||s)&&((!J(e)||!ct.isIE)&&(Ae(e)?null!==t||ke(e,"a[href]"):!(!je(e)||!ct.isIE)||(ke(e,At)||null!==t)))}function pe(e){return!!e[ot["default"].shadowUIElement]}function de(e){if(e instanceof it["default"].windowClass)return!0;try{return(ct.isIE||ct.isMSEdge)&&e&&e===e.window&&(e=e.window),e&&e.toString&&mt===a(e)}catch(t){try{return!!e.top}catch(r){return!1}}}function fe(e){if(e instanceof it["default"].documentClass)return!0;try{return e&&gt.test(a(e))}catch(t){return!1}}function he(e){return e&&"[object Blob]"===a(e)}function me(e){return!!e&&(ct.isIE||ct.isSafari||ct.isChrome?i(e):e instanceof it["default"].locationClass||"[object Location]"===it["default"].objectToString.call(e))}function ge(e){return e instanceof it["default"].svgElementClass||e&&vt.test(a(e))}function ye(e){return!!Ue(e,"svg")}function ve(e){return!!(it["default"].Headers&&e instanceof it["default"].Headers)||e&&"[object Headers]"===a(e)}function Ee(e){return!!(it["default"].Request&&e instanceof it["default"].Request)||e&&"[object Request]"===a(e)}function be(e){return e.readOnly||"readonly"===e.getAttribute("readonly")}function Se(e){var t=e.getAttribute("type");return N(e)&&t?Lt.test(t):Lt.test(e.type)}function we(e){return Se(e)||Y(e)}function Oe(e){return we(e)&&!be(e)}function Pe(e){return e&&e.nodeType===Ot}function Te(e){return"[object Text]"===a(e)}function _e(e){return yt.test(a(e))}function Le(e){return"[object Comment]"===a(e)}function xe(e){return"[object DocumentFragment]"===a(e)}function Re(e){return"[object ShadowRoot]"===a(e)}function Ae(e){return"[object HTMLAnchorElement]"===a(e)}function De(e){return"[object HTMLTableElement]"===a(e)}function je(e){return a(e)===wt}function Me(e){return"[object WebSocket]"===a(e)}function He(e){return"[object MessageEvent]"===a(e)}function Ie(e){return"[object PerformanceNavigationTiming]"===a(e)}function Ce(e){return e instanceof it["default"].ArrayBuffer||e&&bt.test(a(e))}function Ne(e){return e&&it["default"].arrayBufferIsView(e)}function Ge(e){return e instanceof it["default"].DataView||e&&St.test(a(e))}function ke(e,t){return!!Pe(e)&&it["default"].matches.call(e,t)}function Ue(e,t){return Pe(e)?it["default"].closest?it["default"].closest.call(e,t):s(e,t):null}function Fe(e,t){if(e)for(var r=t.split(/\s+/),o=0;o<r.length;o++){var n=r[o];it["default"].tokenListAdd.call(it["default"].elementClassListGetter.call(e),n)}}function We(e,t){if(e)for(var r=t.split(/\s+/),o=0;o<r.length;o++){var n=r[o];it["default"].tokenListRemove.call(it["default"].elementClassListGetter.call(e),n)}}function Be(e,t){return!!e&&it["default"].tokenListContains.call(it["default"].elementClassListGetter.call(e),t)}function qe(){var e=it["default"].querySelector.call(document,"."+nt["default"].charset);return e&&e.getAttribute("charset")}function Ve(e,t){for(var r=[],o=$e(e);o;)(!t&&Pe(o)||t&&ke(o,t))&&r.push(o),o=$e(o);return r}function $e(e){return e=e.assignedSlot||e,it["default"].nodeParentNodeGetter.call(e)||e.host}function ze(e,t,r){for(void 0===t&&(t=!1),t||(e=it["default"].nodeParentNodeGetter.call(e));e;){if("function"!=typeof r||r(e))return e;
e=it["default"].nodeParentNodeGetter.call(e)}return null}function Xe(e){for(var t=[],r=it["default"].nodeListLengthGetter.call(e),o=0;o<r;o++)t.push(e[o]);return t}function Qe(e){return ne(e)?[e]:Xe(ut.getNativeQuerySelectorAll(e).call(e,"input[type=file]"))}function Ke(e){return j(e)?[e]:Xe(ut.getNativeQuerySelectorAll(e).call(e,"iframe,frame"))}function Ye(e){return X(e)?[e]:Xe(ut.getNativeQuerySelectorAll(e).call(e,"script"))}function Je(e){return N(e)&&xt.test(e.type)}function Ze(e){if(!Je(e))return!1;var t="number"==typeof e.selectionStart&&"number"==typeof e.selectionEnd;return!t}var et=function(e){return e&&e.__esModule?e:{"default":e}},tt=function(e){if(e&&e.__esModule)return e;var t={};if(null!=e)for(var r in e)Object.hasOwnProperty.call(e,r)&&(t[r]=e[r]);return t["default"]=e,t};Object.defineProperty(e,"__esModule",{value:!0});var rt=et(r("../../processing/dom/internal-attributes")),ot=et(r("../../processing/dom/internal-properties")),nt=et(r("../../shadow-ui/class-name")),it=et(r("../sandbox/native-methods")),st=tt(r("./url")),at=r("./style"),lt=r("./destination-location"),ct=r("./browser"),ut=r("./query-selector"),pt=r("./feature-detection"),dt=0,ft=["[object HTMLMapElement]","[object HTMLAreaElement]"],ht="undefined"==typeof window,mt=ht?"":a(window),gt=/^\[object .*?Document]$/i,yt=/^\[object .*?ProcessingInstruction]$/i,vt=/^\[object SVG\w+?Element]$/i,Et=/^\[object HTML.*?Element]$/i,bt=/^\[object ArrayBuffer]$/i,St=/^\[object DataView]$/i,wt=ht?"":a(it["default"].createElement.call(document,"td")),Ot=ht?-1:Node.ELEMENT_NODE,Pt=/^(select|option|applet|area|audio|canvas|datalist|keygen|map|meter|object|progress|source|track|video|img)$/,Tt=/^(input|textarea|button)$/,_t=/^(script|style)$/i,Lt=/^(email|number|password|search|tel|text|url)$/,xt=/^(number|email)$/,Rt=/^(color|date|datetime-local|month|week)$/,At='input, select, textarea, button, body, iframe, [contenteditable="true"], [contenteditable=""], [tabIndex]';e.instanceToString=a,e.getActiveElement=l,e.getChildVisibleIndex=c,e.getIframeByElement=u,e.getIframeLocation=p,e.getFrameElement=d,e.getMapContainer=f,e.getParentWindowWithSrc=h,e.getScrollbarSize=m,e.getSelectParent=g,e.getSelectVisibleChildren=y,e.getTopSameDomainWindow=v,e.find=E,e.findDocument=b,e.isContentEditableElement=S,e.isCrossDomainIframe=w,e.isCrossDomainWindows=O,e.isIframeWindow=P,e.isDomElement=T,e.getTagName=_,e.SHADOW_ROOT_PARENT_ELEMENT="hammerhead|element|shadow-root-parent",e.getNodeShadowRootParent=L,e.getParentExceptShadowRoot=x,e.isElementInDocument=R,e.isElementInIframe=A,e.isHammerheadAttr=D,e.isIframeElement=j,e.isFrameElement=M,e.isIframeWithoutSrc=H,e.isIframeWithSrcdoc=I,e.isImgElement=C,e.isInputElement=N,e.isTitleElement=G,e.isButtonElement=k,e.isFieldSetElement=U,e.isOptGroupElement=F,e.isHtmlElement=W,e.isBodyElement=B,e.isHeadElement=q,e.isHeadOrBodyElement=V,e.isHeadOrBodyOrHtmlElement=$,e.isBaseElement=z,e.isScriptElement=X,e.isStyleElement=Q,e.isLabelElement=K,e.isTextAreaElement=Y,e.isOptionElement=J,e.isRadioButtonElement=Z,e.isColorInputElement=ee,e.isCheckboxElement=te,e.isSelectElement=re,e.isFormElement=oe,e.isFileInput=ne,e.isInputWithNativeDialog=ie,e.isBodyElementWithChildren=se,e.isMapElement=ae,e.isRenderedNode=le,e.getTabIndex=ce,e.isElementFocusable=ue,e.isShadowUIElement=pe,e.isWindow=de,e.isDocument=fe,e.isBlob=he,e.isLocation=me,e.isSVGElement=ge,e.isSVGElementOrChild=ye,e.isFetchHeaders=ve,e.isFetchRequest=Ee,e.isElementReadOnly=be,e.isTextEditableInput=Se,e.isTextEditableElement=we,e.isTextEditableElementAndEditingAllowed=Oe,e.isElementNode=Pe,e.isTextNode=Te,e.isProcessingInstructionNode=_e,e.isCommentNode=Le,e.isDocumentFragmentNode=xe,e.isShadowRoot=Re,e.isAnchorElement=Ae,e.isTableElement=De,e.isTableDataCellElement=je,e.isWebSocket=Me,e.isMessageEvent=He,e.isPerformanceNavigationTiming=Ie,e.isArrayBuffer=Ce,e.isArrayBufferView=Ne,e.isDataView=Ge,e.matches=ke,e.closest=Ue,e.addClass=Fe,e.removeClass=We,e.hasClass=Be,e.parseDocumentCharset=qe,e.getParents=Ve,e.findParent=ze,e.nodeListToArray=Xe,e.getFileInputs=Qe,e.getIframes=Ke,e.getScripts=Ye,e.isNumberOrEmailInput=Je,e.isInputWithoutSelectionProperties=Ze},"event-emitter.js":function(e,t,r){var o=function(e){return e&&e.__esModule?e:{"default":e}};Object.defineProperty(e,"__esModule",{value:!0});var n=o(r("../sandbox/native-methods")),i=r("./browser"),s=function(){function e(){this.eventsListeners=n["default"].objectCreate(null)}var t=e.prototype;return t.emit=function(e){var t=this.eventsListeners[e];if(t){for(var r=0,o=arguments.length,s=new Array(o>1?o-1:0),a=1;a<o;a++)s[a-1]=arguments[a];for(;t[r];){if(i.isIE)try{t[r].toString()}catch(l){n["default"].arraySplice.call(t,r,1);continue}t[r++].apply(this,s)}}},t.off=function(e,t){var r=this.eventsListeners[e];r&&(this.eventsListeners[e]=n["default"].arrayFilter.call(r,function(e){return e!==t}))},t.on=function(e,t){return this.eventsListeners[e]=this.eventsListeners[e]||[],this.eventsListeners[e].indexOf(t)===-1&&this.eventsListeners[e].push(t),t},e}();e["default"]=s,t.exports=e["default"]},"event.js":function(e,t,r){function o(e,t){e.preventDefault?e.preventDefault():e.returnValue=!1,t||n(e)}function n(e){e.stopImmediatePropagation?e.stopImmediatePropagation():e.stopPropagation&&e.stopPropagation(),e.cancelBubble=!0}function i(e){return"object"==typeof e&&e&&"function"==typeof e.handleEvent}function s(e){return"function"==typeof e||i(e)}function a(e,t,r){return i(t)?t.handleEvent.call(t,r):t.call(e,r)}function l(e){return p.indexOf(e)!==-1}var c=function(e){return e&&e.__esModule?e:{"default":e}};Object.defineProperty(e,"__esModule",{value:!0});var u=c(r("../sandbox/native-methods")),p=["blur","focus","focusin","focusout","click","dblclick","mousedown","mousemove","mouseout","mouseover","mouseup","beforeinput","input","keydown","keyup"];e.BUTTON={left:0,middle:1,right:2},e.BUTTONS_PARAMETER={noButton:0,leftButton:1,rightButton:2},e.WHICH_PARAMETER={noButton:0,leftButton:1,middleButton:2,rightButton:3},e.KEYBOARD_MODIFIERS_PARAMETER={altKey:"Alt",ctrlKey:"Control",shiftKey:"Shift",metaKey:"Meta"},e.DOM_EVENTS=["click","dblclick","contextmenu","mousedown","mouseup","mousemove","mouseover","mouseout","mouseenter","mouseleave","touchstart","touchmove","touchend","keydown","keypress","keyup","textInput","textinput","input","change","focus","blur","MSPointerDown","MSPointerMove","MSPointerOver","MSPointerOut","MSPointerUp","pointerdown","pointermove","pointerover","pointerout","pointerup","pointerenter","pointerleave","dragstart","drop","focusin","focusout"],e.preventDefault=o,e.stopPropagation=n,e.isObjectEventListener=i,e.isValidEventListener=s,e.callEventListener=a,e.isComposedEvent=l,e.hasPointerEvents=!(!u["default"].WindowPointerEvent&&!u["default"].WindowMSPointerEvent)},"feature-detection.js":function(e,t,r){var o=function(e){return e&&e.__esModule?e:{"default":e}},n=function(e){if(e&&e.__esModule)return e;var t={};if(null!=e)for(var r in e)Object.hasOwnProperty.call(e,r)&&(t[r]=e[r]);return t["default"]=e,t};Object.defineProperty(e,"__esModule",{value:!0});var i=o(r("../sandbox/native-methods")),s=n(r("./browser"));if(e.emptyActionAttrFallbacksToTheLocation=!1,e.instanceAndPrototypeToStringAreEqual=!1,e.hasTouchEvents=!1,e.hasTouchPoints=!1,e.isTouchDevice=!1,e.hasDataTransfer=!1,e.attrGetNamedItemIsNotEnumerable=!1,e.getElementsByNameReturnsHTMLCollection=!1,i["default"].createElement){var a=i["default"].createElement.call(document,"form"),l=i["default"].getElementsByName.call(document,"");e.emptyActionAttrFallbacksToTheLocation=i["default"].formActionGetter.call(a)===window.location.toString(),e.instanceAndPrototypeToStringAreEqual=i["default"].objectToString.call(window)===i["default"].objectToString.call(Window.prototype),e.hasTouchEvents="ontouchstart"in window,e.hasTouchPoints=s.isIE&&(navigator.maxTouchPoints>0||navigator.msMaxTouchPoints>0),e.isTouchDevice=(s.isMobile||s.isTablet)&&e.hasTouchEvents,e.hasDataTransfer=!!window.DataTransfer,e.attrGetNamedItemIsNotEnumerable=!!i["default"].objectGetOwnPropertyDescriptor.call(window.Object,NamedNodeMap.prototype,"getNamedItem"),e.getElementsByNameReturnsHTMLCollection=i["default"].objectGetPrototypeOf.call(window.Object,l)===i["default"].HTMLCollection.prototype}},"global-context-info.js":function(e,t,r){Object.defineProperty(e,"__esModule",{value:!0});var o="undefined"==typeof window&&"object"==typeof self,n=o?self:window;e["default"]={isInWorker:o,global:n,isServiceWorker:o&&!n.XMLHttpRequest},t.exports=e["default"]},"noop.js":function(e,t,r){function o(){}Object.defineProperty(e,"__esModule",{value:!0}),e["default"]=o,t.exports=e["default"]},"overriding.js":function(e,t,r){function o(e,t,r){if(r&&e[t]){var o=e[t].toString();r.toString=function(){return o}}e[t]=r}function n(e,t,r){var n=r.getter,i=r.setter,s=r.value,a=f["default"].objectGetOwnPropertyDescriptor(e,t);if((n||i)&&s)throw new Error("Cannot both specify accessors and a value or writable attribute.");return s?(f["default"].objectHasOwnProperty.call(a,"writable")||(a.writable=!!a.set,delete a.get,delete a.set),a.value=s):(f["default"].objectHasOwnProperty.call(a,"writable")&&(delete a.value,delete a.writable),null!==n&&o(a,"get",n),null!==i&&o(a,"set",i)),a}function i(e,t,r){var o=n(e,t,r);f["default"].objectDefineProperty(e,t,o)}function s(e,t){var r=f["default"].objectGetOwnPropertyDescriptor(e,"name");r&&(r.value=t,f["default"].objectDefineProperty(e,"name",r))}function a(e,t){f["default"].objectDefineProperty(e,h["default"].nativeStrRepresentation,{value:f["default"].Function.prototype.toString.call(t),configurable:!0})}function l(e,t){s(e,t.name),a(e,t)}function c(e){return!f["default"].objectHasOwnProperty.call(e,h["default"].nativeStrRepresentation)}function u(e,t,r){var o=e[t];c(o)&&(l(r,o),e[t]=r)}function p(e,t,r,o){void 0===o&&(o=!1);var n=e[t].prototype;u(e,t,r),e[t].prototype=n,o&&(e[t].prototype.constructor=r)}var d=function(e){return e&&e.__esModule?e:{"default":e}};Object.defineProperty(e,"__esModule",{value:!0});var f=d(r("../sandbox/native-methods")),h=d(r("../../processing/dom/internal-properties"));e.createOverriddenDescriptor=n,e.overrideDescriptor=i,e.overrideStringRepresentation=l,e.isNativeFunction=c,e.overrideFunction=u,e.overrideConstructor=p},"query-selector.js":function(e,t,r){function o(e){return a.isDomElement(e)?s["default"].elementQuerySelector:a.isDocumentFragmentNode(e)||a.isShadowRoot(e)?s["default"].documentFragmentQuerySelector:s["default"].querySelector}function n(e){return a.isDomElement(e)?s["default"].elementQuerySelectorAll:a.isDocumentFragmentNode(e)||a.isShadowRoot(e)?s["default"].documentFragmentQuerySelectorAll:s["default"].querySelectorAll}var i=function(e){return e&&e.__esModule?e:{"default":e}};Object.defineProperty(e,"__esModule",{value:!0});var s=i(r("../sandbox/native-methods")),a=r("./dom");e.getNativeQuerySelector=o,e.getNativeQuerySelectorAll=n},"style.js":function(e,t,r){function o(e){e=e||"";var t=parseInt(e.replace("px",""),10);return isNaN(t)?0:t}function n(e,t,r,o){e=e.documentElement||e;var n=a(e,r,o);return n&&n[t]}function i(e,t,r){e=e.documentElement||e,e.style[t]=r}function s(e){return{bottom:o(n(e,"borderBottomWidth")),left:o(n(e,"borderLeftWidth")),right:o(n(e,"borderRightWidth")),top:o(n(e,"borderTopWidth"))}}function a(e,t,r){t=t||document,r=r||window;var o=t.defaultView||r;return o.getComputedStyle(e,null)}function l(e){return{bottom:o(n(e,"marginBottom")),left:o(n(e,"marginLeft")),right:o(n(e,"marginRight")),top:o(n(e,"marginTop"))}}function c(e){return{bottom:o(n(e,"paddingBottom")),left:o(n(e,"paddingLeft")),right:o(n(e,"paddingRight")),top:o(n(e,"paddingTop"))}}function u(e){var t=x.isHtmlElement(e),r=window;if(t&&x.isElementInIframe(e)){var o=x.getIframeByElement(e);o&&(r=D["default"].contentWindowGetter.call(o))}var n=t?r:e;return{left:v(n),top:E(n)}}function p(e){if(!e)return null;if(x.isWindow(e))return e.document.documentElement.clientWidth;if(x.isDocument(e)){var t=e.documentElement,r="clientWidth",i="scrollWidth",s="offsetWidth";return t[r]>=t[i]?t[r]:Math.max(e.body[i],t[i],e.body[s],t[s])}var a=e.offsetWidth;return a-=o(n(e,"paddingLeft")),a-=o(n(e,"paddingRight")),a-=o(n(e,"borderLeftWidth")),a-=o(n(e,"borderRightWidth"))}function d(e){if(!e)return null;if(x.isWindow(e))return e.document.documentElement.clientHeight;if(x.isDocument(e)){var t=e.documentElement,r="clientHeight",i="scrollHeight",s="offsetHeight";return t[r]>=t[i]?t[r]:Math.max(e.body[i],t[i],e.body[s],t[s])}var a=e.offsetHeight;return a-=o(n(e,"paddingTop")),a-=o(n(e,"paddingBottom")),a-=o(n(e,"borderTopWidth")),a-=o(n(e,"borderBottomWidth"))}function f(e){if(!e)return null;if(x.isWindow(e))return e.document.documentElement.clientWidth;if(x.isDocument(e))return e.documentElement.clientWidth;var t=e.offsetWidth;return t-=o(n(e,"borderLeftWidth")),t-=o(n(e,"borderRightWidth"))}function h(e){if(!e)return null;if(x.isWindow(e))return e.document.documentElement.clientHeight;if(x.isDocument(e))return e.documentElement.clientHeight;var t=e.offsetHeight;return t-=o(n(e,"borderTopWidth")),t-=o(n(e,"borderBottomWidth"))}function m(e){var t=g(e),r=c(e),o=e.scrollHeight-(r.top+r.bottom),n=x.getSelectVisibleChildren(e).length;return 1===t?d(e):R.isIE&&t>n?Math.round(o/n):Math.round(o/Math.max(n,t))}function g(e){if(R.isSafari&&A.hasTouchEvents||R.isAndroid)return 1;var t=D["default"].getAttribute.call(e,"size"),r=D["default"].getAttribute.call(e,"multiple"),o=t?parseInt(t,10):1;return r&&(!t||o<1)&&(o=j),o}function y(e){var t=x.getSelectParent(e),r=x.getTagName(e);return x.isSelectElement(t)&&g(t)>1&&("option"===r||"optgroup"===r)&&(!R.isFirefox||e.label)}function v(e){return e?x.isWindow(e)?e.pageXOffset:x.isDocument(e)?e.defaultView.pageXOffset:e.scrollLeft:null}function E(e){return e?x.isWindow(e)?e.pageYOffset:x.isDocument(e)?e.defaultView.pageYOffset:e.scrollTop:null}function b(e,t){if(e)if(x.isWindow(e)||x.isDocument(e)){var r=x.findDocument(e).defaultView,o=E(e);D["default"].scrollTo.call(r,t,o)}else e.scrollLeft=t}function S(e,t){if(e)if(x.isWindow(e)||x.isDocument(e)){var r=x.findDocument(e).defaultView,o=v(e);D["default"].scrollTo.call(r,o,t)}else e.scrollTop=t}function w(e){if(e){for(var t=e.offsetParent||document.body;t&&!/^(?:body|html)$/i.test(t.nodeName)&&"static"===n(t,"position");)t=t.offsetParent;return t}}function O(e){if(!e||x.isWindow(e)||x.isDocument(e))return null;var t=e.getBoundingClientRect(),r=e.ownerDocument,o=r.documentElement;if(!o.contains(e)||e===o)return{top:t.top,left:t.left};var n=r.defaultView,i=o.clientTop||r.body.clientTop||0,s=o.clientLeft||r.body.clientLeft||0,a=n.pageYOffset||o.scrollTop||r.body.scrollTop,l=n.pageXOffset||o.scrollLeft||r.body.scrollLeft;return t=e.getBoundingClientRect(),{top:t.top+a-i,left:t.left+l-s}}function P(e,t){if(!x.isElementInDocument(e,t))return!1;for(;e;){if("none"===n(e,"display",t)||"hidden"===n(e,"visibility",t))return!1;e=x.getParentExceptShadowRoot(e)}return!0}function T(e){var t=x.getIframeByElement(e);return t&&!P(t,x.findDocument(t))}var _=function(e){if(e&&e.__esModule)return e;var t={};if(null!=e)for(var r in e)Object.hasOwnProperty.call(e,r)&&(t[r]=e[r]);return t["default"]=e,t},L=function(e){return e&&e.__esModule?e:{"default":e}};Object.defineProperty(e,"__esModule",{value:!0});var x=_(r("./dom")),R=_(r("./browser")),A=_(r("./feature-detection")),D=L(r("../sandbox/native-methods")),j=4;e.get=n,e.set=i,e.getBordersWidth=s,e.getComputedStyle=a,e.getElementMargin=l,e.getElementPadding=c,e.getElementScroll=u,e.getWidth=p,e.getHeight=d,e.getInnerWidth=f,e.getInnerHeight=h,e.getOptionHeight=m,e.getSelectElementSize=g,e.isVisibleChild=y,e.getScrollLeft=v,e.getScrollTop=E,e.setScrollLeft=b,e.setScrollTop=S,e.getOffsetParent=w,e.getOffset=O,e.isElementVisible=P,e.isElementInInvisibleIframe=T},"url-resolver.js":function(e,t,r){var o=function(e){return e&&e.__esModule?e:{"default":e}},n=function(e){if(e&&e.__esModule)return e;var t={};if(null!=e)for(var r in e)Object.hasOwnProperty.call(e,r)&&(t[r]=e[r]);return t["default"]=e,t};Object.defineProperty(e,"__esModule",{value:!0});var i=o(r("../sandbox/native-methods")),s=n(r("../utils/destination-location")),a=r("../../utils/url"),l=r("./dom"),c="hammerhead|document-url-resolver";e["default"]={_createResolver:function(e){var t=i["default"].createHTMLDocument.call(e.implementation,"title"),r=i["default"].createElement.call(t,"a"),o=i["default"].createElement.call(t,"base");return i["default"].appendChild.call(t.body,r),i["default"].appendChild.call(t.head,o),t},_getResolver:function(e){return e[c]||i["default"].objectDefineProperty(e,c,{value:this._createResolver(e),writable:!0}),e[c]},_isNestedIframeWithoutSrc:function(e){if(!e||!e.parent||e.parent===e||e.parent.parent===e.parent)return!1;var t=l.getFrameElement(window);return!!t&&l.isIframeWithoutSrc(t)},init:function(e){this.updateBase(s.get(),e)},getResolverElement:function(e){return i["default"].nodeFirstChildGetter.call(this._getResolver(e).body)},resolve:function(e,t){var r=this.getResolverElement(t),o=null;if(null===e)i["default"].removeAttribute.call(r,"href");else{i["default"].anchorHrefSetter.call(r,e),o=i["default"].anchorHrefGetter.call(r);var n=e&&(!o||"/"===o.charAt(0))&&this._isNestedIframeWithoutSrc(t.defaultView);if(n)return this.resolve(e,window.parent.document)}return a.ensureTrailingSlash(e,o)},updateBase:function(e,t){var r=this._getResolver(t),o=i["default"].elementGetElementsByTagName.call(r.head,"base")[0];e=e||s.get();var n=a.parseUrl(e),l="file:"!==n.protocol&&!n.host,c=/^\/\//.test(e)&&!!n.host;if(l||c){var u=s.get();this.updateBase(u,t),e=this.resolve(e,t)}i["default"].setAttribute.call(o,"href",e)},getBaseUrl:function(e){var t=i["default"].elementGetElementsByTagName.call(this._getResolver(e).head,"base")[0];return i["default"].getAttribute.call(t,"href")},changeUrlPart:function(e,t,r,o){var n=this.getResolverElement(o);return i["default"].anchorHrefSetter.call(n,e),t.call(n,r),i["default"].anchorHrefGetter.call(n)},dispose:function(e){e[c]=null}},t.exports=e["default"]},"url.js":function(e,t,r){function o(t,r){t=L.getURLString(t);var n=r&&r.resourceType,i=L.parseResourceType(n);if(!i.isWebSocket&&!g(t)&&!y(t))return t;var s=x.resolveUrl(t,r&&r.doc);if(i.isWebSocket&&!h(s)||!L.isValidUrl(s))return t;var l=r&&r.proxyHostname||e.DEFAULT_PROXY_SETTINGS.hostname,c=r&&r.proxyPort||e.DEFAULT_PROXY_SETTINGS.port,u=r&&r.proxyProtocol||e.DEFAULT_PROXY_SETTINGS.protocol,p=i.isWebSocket?u.replace("http","ws"):u,d=r&&r.sessionId||A["default"].get().sessionId,f=r&&r.windowId||A["default"].get().windowId,m=r&&r.credentials,v=r&&r.charset,E=r&&r.reqOrigin,b=a(c),S=L.parseProxyUrl(s),w=!!S&&S.proxy.hostname===l&&(S.proxy.port===c||S.proxy.port===b);if(w){if(n&&S.resourceType===n)return s;var O=L.formatUrl(S.destResourceInfo);return o(O,{proxyProtocol:p,proxyHostname:l,proxyPort:c,sessionId:d,resourceType:n,charset:v,reqOrigin:E,credentials:m})}var P=L.parseUrl(s);if(!P.protocol)return t;if(v=v||(i.isScript||i.isServiceWorker)&&document[_["default"].documentCharset],P.protocol===u&&P.hostname===l&&P.port===c){var T=x.getParsed();P.protocol=T.protocol,P.host=T.host,P.hostname=T.hostname,P.port=T.port||"",s=L.formatUrl(P)}return i.isWebSocket&&(P.protocol=P.protocol.replace("ws","http"),s=L.formatUrl(P),E=E||x.getOriginHeader()),L.getProxyUrl(s,{proxyProtocol:p,proxyHostname:l,proxyPort:c,sessionId:d,resourceType:n,charset:v,reqOrigin:E,windowId:f,credentials:m})}function n(e,t){var r=null,n=t.top!==t,i=t.location.toString();if(n)r=i;else{var s=u(i);r=s&&s.destUrl}return y(r)&&L.isRelativeUrl(e)?"":(e=L.prepareUrl(e),o(e))}function i(e){return o(e,{proxyPort:A["default"].get().crossDomainProxyPort,resourceType:L.getResourceTypeString({isIframe:!0})})}function s(e,t){var r=u(e),n=null;if(r&&(e=r.destUrl,n=r.resourceType),n){var i=v(n);i.isIframe=!1,n=E(i)}var s=!x.sameOriginCheck(x.getLocation(),e),a=s?A["default"].get().crossDomainProxyPort:location.port.toString();return o(e,{windowId:t,proxyPort:a,resourceType:n})}function a(e){return A["default"].get().crossDomainProxyPort===e?location.port.toString():A["default"].get().crossDomainProxyPort}function l(e){return L.resolveUrlAsDest(e,o)}function c(e){return L.formatUrl(e)}function u(e){return L.parseProxyUrl(e)}function p(e){return L.parseUrl(e)}function d(t,r,n,i){return void 0===i&&(i=!1),o(t,{resourceType:r,charset:n,proxyPort:i?A["default"].get().crossDomainProxyPort:e.DEFAULT_PROXY_SETTINGS.port})}function f(e,t,r,n){var i=L.parseProxyUrl(e);if(i){var s=i.sessionId,a=i.proxy,l=R.changeUrlPart(i.destUrl,t,r,document);return o(l,{proxyHostname:a.hostname,proxyPort:a.port,sessionId:s,resourceType:n})}return e}function h(e){var t=l(e);return H.test(t)}function m(e,t){return L.isSubDomain(e,t)}function g(e){return L.isSupportedProtocol(e)}function y(e){return L.isSpecialPage(e)}function v(e){return L.parseResourceType(e)}function E(e){return L.getResourceTypeString(e)}function b(e,t){return o(e).replace(M,"")===o(t).replace(M,"")}function S(e){var t=u(e);return t?t.destUrl:e}function w(e){if(!g(e))return null;var t=p(l(e));return t?t.partAfterHost.replace(I,"/")||"/":null}function O(e,t){var r=!j.sameOriginCheck(j.getLocation(),e),n={resourceType:E({isAjax:!0}),credentials:t};return r&&(n.proxyPort=A["default"].get().crossDomainProxyPort,n.reqOrigin=x.getOriginHeader()),o(e,n)}var P=function(e){return e&&e.__esModule?e:{"default":e}},T=function(e){if(e&&e.__esModule)return e;var t={};if(null!=e)for(var r in e)Object.hasOwnProperty.call(e,r)&&(t[r]=e[r]);return t["default"]=e,t};Object.defineProperty(e,"__esModule",{value:!0});var _=P(r("../../processing/dom/internal-properties")),L=T(r("../../utils/url")),x=T(r("./destination-location")),R=T(r("./url-resolver")),A=P(r("../settings")),D=P(r("./global-context-info")),j=r("./destination-location"),M=/#[\S\s]*$/,H=/^wss?:/i,I=/\/[^/]*$/;e.DEFAULT_PROXY_SETTINGS=function(){for(var e=D["default"].isInWorker?{location:p(self.location.origin),parent:null}:window,t=e.location;!t.hostname;)e=e.parent,t=e.location;return{hostname:t.hostname,port:t.port.toString(),protocol:t.protocol}}(),e.REQUEST_DESCRIPTOR_VALUES_SEPARATOR=L.REQUEST_DESCRIPTOR_VALUES_SEPARATOR,e.getProxyUrl=o,e.getNavigationUrl=n,e.getCrossDomainIframeProxyUrl=i,e.getPageProxyUrl=s,e.getCrossDomainProxyPort=a,e.resolveUrlAsDest=l,e.formatUrl=c,e.parseProxyUrl=u,e.parseUrl=p,e.convertToProxyUrl=d,e.changeDestUrlPart=f,e.isValidWebSocketUrl=h,e.isSubDomain=m,e.isSupportedProtocol=g,e.isSpecialPage=y,e.parseResourceType=v,e.stringifyResourceType=E,e.isChangedOnlyHash=b,e.getDestinationUrl=S,e.getScope=w,e.getAjaxProxyUrl=O}},worker:{"fetch-event.js":function(e,t,r){function o(e){return e.protocol===p.protocol&&e.host===p.host&&e.partAfterHost.startsWith(p.scope)}function n(){var e=new Promise(function(t,r){s["default"].windowAddEventListener.call(self,"message",function o(n){var i=n.data;if(i.cmd===c.SET_SERVICE_WORKER_SETTINGS){var l=void 0!==self[u["default"].swScopeHeaderValue],d=l?self[u["default"].swScopeHeaderValue]:i.currentScope,f=i.optsScope;if(f){if(!f.startsWith(d)){self.registration.unregister();var h="The path of the provided scope ('"+i.optsScope+"') is not under the max "+("scope allowed ("+(l?"set by Service-Worker-Allowed: ":"")+"'")+(d+"'). Adjust the scope, move the Service Worker script, ")+"or use the Service-Worker-Allowed HTTP header to allow the scope.";return n.ports[0].postMessage({error:h}),void r(new Error(h))}}else f=d;n.ports[0].postMessage({}),p.protocol=i.protocol,p.host=i.host,p.scope=f,s["default"].windowRemoveEventListener.call(self,"message",o),a.stopPropagation(n),e=null,t()}})});self.addEventListener("install",function(t){return t.waitUntil(e)}),s["default"].windowAddEventListener.call(self,"fetch",function(e){var t=e.request,r=s["default"].requestUrlGetter.call(t),n=l.parseProxyUrl(r),i=!n;if(!i){var c="document"===t.destination||"iframe"===t.destination;if(c){if(o(n.destResourceInfo))return}else{var u=s["default"].requestReferrerGetter.call(t),p=l.parseProxyUrl(u);if(p&&o(p.destResourceInfo))return}}e.respondWith(s["default"].fetch.call(self,t)),a.stopPropagation(e)})}var i=function(e){return e&&e.__esModule?e:{"default":e}};Object.defineProperty(e,"__esModule",{value:!0});var s=i(r("../sandbox/native-methods")),a=r("../utils/event"),l=r("../utils/url"),c=r("./set-settings-command"),u=i(r("../../processing/script/instruction")),p={protocol:"",host:"",scope:""};e["default"]=n,t.exports=e["default"]},"index.js":function(e,t,r){var o=function(e){return e&&e.__esModule?e:{"default":e}},n=function(e){if(e&&e.__esModule)return e;var t={};if(null!=e)for(var r in e)Object.hasOwnProperty.call(e,r)&&(t[r]=e[r]);return t["default"]=e,t};Object.defineProperty(e,"__esModule",{value:!0});var i=o(r("pinkie")),s=n(r("../../utils/url")),a=o(r("../sandbox/xhr")),l=o(r("../sandbox/fetch")),c=o(r("../settings")),u=o(r("./fetch-event")),p=o(r("../utils/global-context-info")),d=o(r("../utils/noop")),f=o(r("../sandbox/native-methods")),h=r("./set-settings-command"),m=r("../utils/destination-location"),g=r("../utils/event"),y=function(){function e(){var t=s.parseProxyUrl(location.toString()),r={syncCookie:d["default"]},o=null;t?e._setProxySettings(t.sessionId,t.windowId):o=new i["default"](function(t){f["default"].windowAddEventListener.call(self,"message",function r(o){var n=f["default"].messageEventDataGetter.call(o);n.cmd===h.SET_BLOB_WORKER_SETTINGS&&(e._setProxySettings(n.sessionId,n.windowId),m.forceLocation(n.origin),f["default"].windowRemoveEventListener.call(self,"message",r),g.stopPropagation(o),t())})}),this.fetch=new l["default"](r,o),this.fetch.attach(self),p["default"].isServiceWorker?u["default"]():(this.xhr=new a["default"](r,o),this.xhr.attach(self))}return e._setProxySettings=function(e,t){var r=c["default"].get();r.sessionId=e,r.windowId=t,c["default"].set(r)},e}();e["default"]=new y,t.exports=e["default"]},"sandbox-base-with-delayed-settings.js":function(e,t,r){function o(e,t){e.prototype=Object.create(t.prototype),e.prototype.constructor=e,n(e,t)}function n(e,t){return(n=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e})(e,t)}var i=function(e){return e&&e.__esModule?e:{"default":e}};Object.defineProperty(e,"__esModule",{value:!0});var s=i(r("../sandbox/base")),a=function(e){function t(t){var r;return r=e.call(this)||this,r._waitHammerheadSettings=t,t&&t.then(function(){r._waitHammerheadSettings=null}),r}o(t,e);var r=t.prototype;return r.gettingSettingInProgress=function(){return!!this._waitHammerheadSettings},r.delayUntilGetSettings=function(e){return this._waitHammerheadSettings.then(e)},t}(s["default"]);e["default"]=a,t.exports=e["default"]},"set-settings-command.js":function(e,t,r){Object.defineProperty(e,"__esModule",{value:!0}),e.SET_SERVICE_WORKER_SETTINGS="hammerhead|set-service-worker-settings",e.SET_BLOB_WORKER_SETTINGS="hammerhead|set-blob-worker-settings"}}},processing:{dom:{"internal-attributes.js":function(e,t,r){Object.defineProperty(e,"__esModule",{value:!0}),e["default"]={storedAttrPostfix:"-hammerhead-stored-value",hoverPseudoClass:"data-hammerhead-hovered",focusPseudoClass:"data-hammerhead-focused",uploadInfoHiddenInputName:"hammerhead|upload-info-hidden-input-name"},t.exports=e["default"]},"internal-properties.js":function(e,t,r){Object.defineProperty(e,"__esModule",{value:!0}),e["default"]={processDomMethodName:"hammerhead|process-dom-method",processedContext:"hammerhead|processed-context",documentWasCleaned:"hammerhead|document-was-cleaned",documentCharset:"hammerhead|document-charset",iframeNativeMethods:"hammerhead|iframe-native-methods",hammerhead:"%hammerhead%",selection:"hammerhead|selection",shadowUIElement:"hammerhead|shadow-ui-element",forceProxySrcForImage:"hammerhead|image|force-proxy-src-flag",skipNextLoadEventForImage:"hammerhead|image|skip-next-load-event-flag",cachedImage:"hammerhead|image|cached-image",sandboxIsReattached:"hammerhead|sandbox-is-reattached",nativeStrRepresentation:"hammerhead|native-string-representation"},t.exports=e["default"]}},script:{"instruction.js":function(e,t,r){Object.defineProperty(e,"__esModule",{value:!0}),e["default"]={getLocation:"__get$Loc",setLocation:"__set$Loc",getProperty:"__get$",setProperty:"__set$",callMethod:"__call$",processScript:"__proc$Script",processHtml:"__proc$Html",getEval:"__get$Eval",getPostMessage:"__get$PostMessage",getProxyUrl:"__get$ProxyUrl",restArray:"__rest$Array",restObject:"__rest$Object",swScopeHeaderValue:"__swScopeHeaderValue"},t.exports=e["default"]}}},"request-pipeline":{"builtin-header-names.js":function(e,t,r){Object.defineProperty(e,"__esModule",{value:!0}),e["default"]={authorization:"authorization",wwwAuthenticate:"www-authenticate",proxyAuthorization:"proxy-authorization",proxyAuthenticate:"proxy-authenticate",host:"host",referer:"referer",origin:"origin",contentLength:"content-length",cookie:"cookie",setCookie:"set-cookie",ifModifiedSince:"if-modified-since",ifNoneMatch:"if-none-match",contentType:"content-type",location:"location",xFrameOptions:"x-frame-options",sourceMap:"sourcemap",referrerPolicy:"referrer-policy",refresh:"refresh",link:"link",cacheControl:"cache-control",pragma:"pragma",eTag:"etag",contentDisposition:"content-disposition",accept:"accept",contentEncoding:"content-encoding",expires:"expires",serviceWorkerAllowed:"service-worker-allowed",accessControlAllowOrigin:"access-control-allow-origin",accessControlAllowCredentials:"access-control-allow-credentials",contentSecurityPolicy:"content-security-policy",contentSecurityPolicyReportOnly:"content-security-policy-report-only",xContentSecurityPolicy:"x-content-security-policy",xContentSecurityPolicyReportOnly:"x-content-security-policy-report-only",xWebkitCsp:"x-webkit-csp"},t.exports=e["default"]}},"shadow-ui":{"class-name.js":function(e,t,r){Object.defineProperty(e,"__esModule",{value:!0});var o="-hammerhead-shadow-ui";e["default"]={postfix:o,charset:"charset"+o,script:"script"+o,selfRemovingScript:"self-removing-script"+o,uiStylesheet:"ui-stylesheet"+o},t.exports=e["default"]}},utils:{"headers.js":function(e,t,r){function o(e){return f+e}function n(e){return e.indexOf(f)>-1}function i(e){return e.replace(f,"")}function s(e){var t=String(e).toLowerCase();return t===d["default"].wwwAuthenticate||t===d["default"].proxyAuthenticate}function a(e){return h+e}function l(e){return e.indexOf(h)>-1}function c(e){return e.replace(h,"")}function u(e){var t=String(e).toLowerCase();return t===d["default"].authorization||t===d["default"].proxyAuthorization}var p=function(e){return e&&e.__esModule?e:{"default":e}};Object.defineProperty(e,"__esModule",{value:!0});var d=p(r("../request-pipeline/builtin-header-names")),f="~~~TestCafe added this prefix to hide the authentication dialog box~~~",h="~~~TestCafe added this prefix to control the authorization flow~~~";e.addAuthenticatePrefix=o,e.hasAuthenticatePrefix=n,e.removeAuthenticatePrefix=i,e.isAuthenticateHeader=s,e.addAuthorizationPrefix=a,e.hasAuthorizationPrefix=l,e.removeAuthorizationPrefix=c,e.isAuthorizationHeader=u},"string-trim.js":function(e,t,r){function o(e){return"string"==typeof e?e.replace(/(^\s+)|(\s+$)/g,""):e}Object.defineProperty(e,"__esModule",{value:!0}),e["default"]=o,t.exports=e["default"]},"url.js":function(e,t,r){function o(e){var t={};if(!e)return t;for(var r=0;r<V.length;r++){var o=V[r],n=o.name,i=o.flag;e.indexOf(i)>-1&&(t[n]=!0)}return t}function n(e){if(!e)return null;for(var t="",r=0;r<V.length;r++){var o=V[r],n=o.name,i=o.flag;e[n]&&(t+=i)}return t||null}function i(e){return"null"===e?"":e.replace(F,function(e,t){return t?"s*":""})}function s(e){return e?W.test(e)?e.replace(W,"https://"):"http://"+e:"null"}function a(e,t){if(e=e.replace(/^www./i,""),t=t.replace(/^www./i,""),e===t)return!0;var r=t.lastIndexOf(e);return"."===t[r-1]&&t.length===r+e.length}function l(e,t){if(!t)return!0;var r=g(t),o=!r.host;if(o)return!0;var n=g(e),i=h(e);if(r.host===n.host&&r.protocol===n.protocol)return!0;var s=i?i.destResourceInfo:n;if(!s)return!1;
var a=!r.protocol||r.protocol===s.protocol,l=!s.port&&!r.port||s.port&&s.port.toString()===r.port;return a&&!!l&&s.hostname===r.hostname}function c(e){var t=g(e);return t.protocol=t.protocol&&t.protocol.toLowerCase(),t.host=t.host&&t.host.toLowerCase(),E(t)}function u(e){return null===e&&/iPad|iPhone/i.test(window.navigator.userAgent)?"":String(e).replace(/\n|\t/g,"")}function p(t,r){var o=[r.sessionId];r.windowId&&o.push(r.windowId);var n=[o.join(e.REQUEST_DESCRIPTOR_SESSION_INFO_VALUES_SEPARATOR)];r.resourceType&&n.push(r.resourceType),r.charset&&n.push(r.charset.toLowerCase()),"number"==typeof r.credentials&&n.push(r.credentials.toString()),r.reqOrigin&&n.push(encodeURIComponent(i(r.reqOrigin)));var s=n.join(e.REQUEST_DESCRIPTOR_VALUES_SEPARATOR),a=r.proxyProtocol||"http:";return a+"//"+r.proxyHostname+":"+r.proxyPort+"/"+s+"/"+c(t)}function d(e){return"file:"===e.protocol?"null":E({protocol:e.protocol,host:e.host,hostname:e.hostname,port:String(e.port||"")})}function f(t){var r=t.split(e.REQUEST_DESCRIPTOR_VALUES_SEPARATOR),n=r[0],i=r[1],a=r.slice(2);if(!n)return null;var l=n.split(e.REQUEST_DESCRIPTOR_SESSION_INFO_VALUES_SEPARATOR),c=l[0],u=l[1],p={sessionId:c,resourceType:i||null};if(u&&(p.windowId=u),i&&a.length){var d=o(i);d.isScript||d.isServiceWorker?p.charset=a[0]:d.isWebSocket?p.reqOrigin=decodeURIComponent(s(a[0])):d.isAjax&&(p.credentials=parseInt(a[0]),2===a.length&&(p.reqOrigin=decodeURIComponent(s(a[1]))))}return p}function h(t){var r=g(t);if(!r.partAfterHost)return null;var o=r.partAfterHost.match(G);if(!o)return null;var n=f(o[1]);if(!n)return null;var i=o[2],s=i.replace(/#[\S\s]*$/,"");if(!O(s)&&!e.SUPPORTED_PROTOCOL_RE.test(i))return null;var a=null;return O(s)?a=q:(i=x(i),a=g(i)),{destUrl:i,destResourceInfo:a,partAfterHost:r.partAfterHost,proxy:{hostname:r.hostname,port:r.port},sessionId:n.sessionId,resourceType:n.resourceType,charset:n.charset,reqOrigin:n.reqOrigin,windowId:n.windowId,credentials:n.credentials}}function m(e){return e.replace(N,"")}function g(e){var t={};if(e=S(e),!e)return t;e=j["default"](e);var r=!1,o=e.replace(M,function(e,r,o){return t.protocol=r,o}).replace(H,function(){return r=!0,""});if(!t.protocol&&!r)return t.partAfterHost=e,t;if(t.partAfterHost=o.replace(I,function(e,r,o){return t.host=r,t.port="",o}),"string"==typeof t.host){var n=t.host.split("@");2===n.length&&(t.auth=n[0],t.host=n[1])}return t.hostname=t.host?t.host.replace(C,function(e,r){return t.port=r,""}):"",t}function y(t){t=j["default"](t||"");var r=e.HASH_RE.test(t);if(r)return!1;var o=t.match(M);return!o||e.SUPPORTED_PROTOCOL_RE.test(o[0])}function v(e,t){if(t=t||p,y(e)){var r=t(e),o=h(r);return o?E(o.destResourceInfo):e}return e}function E(e){if(!("file:"===e.protocol||e.host||e.hostname&&e.port))return e.partAfterHost;var t=e.protocol||"";return"about:"!==e.protocol&&(t+="//"),e.auth&&(t+=e.auth+"@"),e.host?t+=e.host:(t+=e.hostname,e.port&&(t+=":"+e.port)),e.partAfterHost&&(t+=e.partAfterHost),t}function b(e,t){return void 0===t&&(t=""),e.match(U)||t.match(U)?e.replace(/^(file:)?\/+(\/\/\/.*$)/i,"$1$2").replace(/^(file:)?\/*([A-Za-z]):/i,"$1///$2:"):e.replace(/^(https?:)?\/+(\/\/.*$)/i,"$1$2")}function S(e){return b(u(e))}function w(t,r){if(!_(r))return r;var o=e.TRAILING_SLASH_RE.test(t),n=e.TRAILING_SLASH_RE.test(r);return o&&!n?r+="/":t&&!o&&n&&(r=r.replace(e.TRAILING_SLASH_RE,"")),r}function O(t){return e.SPECIAL_PAGES.indexOf(t)!==-1}function P(e){var t=g(e);return"file:"!==t.protocol&&!t.host}function T(e){var t=parseInt(e,10);return t>0&&t<=65535}function _(e){var t=g(e);return"file:"===t.protocol||!!t.hostname&&(!t.port||T(t.port))}function L(e){var t=g(e);return!t.partAfterHost&&k.test(t.protocol)?e+"/":e}function x(t){var r=g(t),o="https:"===r.protocol&&r.port===e.HTTPS_DEFAULT_PORT||"http:"===r.protocol&&r.port===e.HTTP_DEFAULT_PORT;return o?(r.host=r.hostname,r.port="",E(r)):t}function R(e){return e=x(e),e=L(e)}function A(t,r,o,n){var i=new RegExp("("+r.protocol+"//"+r.hostname+":(?:"+r.port+"|"+r.crossDomainPort+")/)[^/"+e.REQUEST_DESCRIPTOR_VALUES_SEPARATOR+"]+","g"),s="$1"+o+(n?e.REQUEST_DESCRIPTOR_SESSION_INFO_VALUES_SEPARATOR+n:"");return t.replace(i,s)}var D=function(e){return e&&e.__esModule?e:{"default":e}};Object.defineProperty(e,"__esModule",{value:!0});var j=D(r("./string-trim")),M=/^([\w-]+?:)(\/\/|[^\\/]|$)/,H=/^(\/\/)/,I=/^(.*?)(\/|%|\?|;|#|$)/,C=/:([0-9]*)$/,N=/(\?.+|#[^#]*)$/,G=/^\/([^/]+?)\/([\S\s]+)$/,k=/^https?:/,U=/^file:/i,F=/^http(s)?:\/\//,W=/^s\*/;e.SUPPORTED_PROTOCOL_RE=/^(?:https?|file):/i,e.HASH_RE=/^#/,e.REQUEST_DESCRIPTOR_VALUES_SEPARATOR="!",e.REQUEST_DESCRIPTOR_SESSION_INFO_VALUES_SEPARATOR="*",e.TRAILING_SLASH_RE=/\/$/,e.SPECIAL_BLANK_PAGE="about:blank",e.SPECIAL_ERROR_PAGE="about:error",e.SPECIAL_PAGES=[e.SPECIAL_BLANK_PAGE,e.SPECIAL_ERROR_PAGE],e.HTTP_DEFAULT_PORT="80",e.HTTPS_DEFAULT_PORT="443";var B;!function(e){e[e.include=0]="include",e[e.sameOrigin=1]="sameOrigin",e[e.omit=2]="omit",e[e.unknown=3]="unknown"}(B=e.Credentials||(e.Credentials={}));var q={protocol:"about:",host:"",hostname:"",port:"",partAfterHost:""},V=[{name:"isIframe",flag:"i"},{name:"isForm",flag:"f"},{name:"isScript",flag:"s"},{name:"isEventSource",flag:"e"},{name:"isHtmlImport",flag:"h"},{name:"isWebSocket",flag:"w"},{name:"isServiceWorker",flag:"c"},{name:"isAjax",flag:"a"}];e.parseResourceType=o,e.getResourceTypeString=n,e.restoreShortOrigin=s,e.isSubDomain=a,e.sameOriginCheck=l,e.getURLString=u,e.getProxyUrl=p,e.getDomain=d,e.parseProxyUrl=h,e.getPathname=m,e.parseUrl=g,e.isSupportedProtocol=y,e.resolveUrlAsDest=v,e.formatUrl=E,e.correctMultipleSlashes=b,e.processSpecialChars=S,e.ensureTrailingSlash=w,e.isSpecialPage=O,e.isRelativeUrl=P,e.isValidUrl=_,e.ensureOriginTrailingSlash=L,e.omitDefaultPort=x,e.prepareUrl=R,e.updateScriptImportUrls=A}}}}})("testcafe-hammerhead/src/client/worker/index");